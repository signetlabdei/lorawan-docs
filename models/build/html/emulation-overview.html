

<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <title>Emulation Overview &#8212; Model Library</title>
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Energy Framework" href="energy.html" />
    <link rel="prev" title="DSR Routing" href="dsr.html" />
  <link rel="stylesheet" type="text/css"
    href="_static/ns3_stylesheet.css" />
    <link rel="icon" type="image/ico" 
      href="_static/favicon.ico" />

  <script type="text/javascript" src="_static/drop-down-menu.js"></script>
  <script type="text/javascript" src="_static/ns3_version.js"></script>
  <script type="text/javascript">var ns3_builder="html";</script>
  <script type="text/javascript" src="_static/ns3_links.js"></script>
      

  </head><body>
  <div id="titlearea">
    <table cellspacing="0" cellpadding="0" width="100%">
      <tbody>
	<tr style="height: 56px;">
	  <td id="projectlogo">
	    <a id="ns3_home1"
	       href="http://www.nsnam.org/">
	       <img alt="ns-3 Logo"
		    src="_static/ns-3-inverted-notext-small.png"/>
	    </a>
	  </td>
	  <td id="projecttext">
	    <div id="projectbrief">A Discrete-Event Network Simulator</div>
	      <span id="projectnumber"><script type="text/javascript">document.write(ns3_version)</script></span>
	  </td>
	      
	  <td id="ns3-menu">
	    <div class="menu">
	      <ul >
	        <li><a id="ns3_home2"
		       href="http://www.nsnam.org/"
		       >&nbsp;&nbsp;Home</a>
	        </li>
	        <li><span
		      onmouseover="mopen('mTuts')" 
		      onmouseout="mclosetime()"
			>Tutorials &nbsp;&#x25BC;</span>
		    <div id="mTuts" 
		        onmouseover="mcancelclosetime()" 
		        onmouseout="mclosetime()">
		      <a id="ns3_tut"
			 href="/docs/tutorial/html/index.html"
			  >English</a><br/>
	        </li>
	        <li><span
		      onmouseover="mopen('mDocs')" 
		      onmouseout="mclosetime()"
			>Docs &nbsp;&nbsp;&nbsp;&#x25BC;</span>
		    <div id="mDocs"
		        onmouseover="mcancelclosetime()" 
		        onmouseout="mclosetime()">
		      <a id="ns3_wiki"
			 href="http://www.nsnam.org/wiki"
			 >Wiki</a><br/>
		      <a id="ns3_man"
			 href="/docs/manual/html/index.html"
			 >Manual</a><br/>
		      <a id="ns3_mod"
			 href="/docs/models/html/index.html"
			 >Models</a><br/>
	        </li>
	        <li><span
		      onmouseover="mopen('mDev')" 
		      onmouseout="mclosetime()"
			>Develop &#x25BC;</span>
		    <div id="mDev"
		        onmouseover="mcancelclosetime()" 
		        onmouseout="mclosetime()">
		      <a id="ns3_api"
			 href="/docs/doxygen/html/index.html"
			 >API</a><br/>
		      <a id="ns3_bugs"
		       href="http://www.nsnam.org/bugzilla/">Bugs</a>
	        </li>
	      </ul>
	    </div>
	  </td>
	  <td id="projectsection">
	    <span style="margin-right:10px">Models</span>
	  </td>
	</tr>
      </tbody>
    </table>
    <script  type="text/javascript">ns3_write_links()</script>
  </div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="energy.html" title="Energy Framework"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="dsr.html" title="DSR Routing"
             accesskey="P">previous</a> |</li>
    <li class="navelem"><a href="">ns-3</a><span class="navelem">&nbsp;</span></li>
    
        <li class="nav-item nav-item-0"><a href="index.html">Models</a><span class="navelem">&nbsp;</span></li>
 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="emulation-overview">
<h1>Emulation Overview<a class="headerlink" href="#emulation-overview" title="Permalink to this headline">¶</a></h1>
<p><em>ns-3</em> has been designed for integration into testbed and virtual machine
environments. We have addressed this need by providing two kinds of net devices.
The first kind of device is a file descriptor net device (<code class="docutils literal notranslate"><span class="pre">FdNetDevice</span></code>),
which is a generic device type that can read and write from a file descriptor.
By associating this file descriptor with different things on the host
system, different capabilities can be provided.  For instance, the
FdNetDevice can be associated with an underlying packet socket to provide
emulation capabilities.  This allows <em>ns-3</em> simulations
to send data on a “real” network. The second kind, called a <code class="docutils literal notranslate"><span class="pre">TapBridge</span></code>
<code class="docutils literal notranslate"><span class="pre">NetDevice</span></code> allows a “real” host to participate in an <em>ns-3</em> simulation as if
it were one of the simulated nodes. An <em>ns-3</em> simulation may be constructed with
any combination of simulated or emulated devices.</p>
<p><strong>Note:</strong> Prior to ns-3.17, the emulation capability was provided by a
special device called an <code class="docutils literal notranslate"><span class="pre">Emu</span></code> NetDevice; the <code class="docutils literal notranslate"><span class="pre">Emu</span></code> NetDevice has
been replaced by the <code class="docutils literal notranslate"><span class="pre">FdNetDevice</span></code>.</p>
<p>One of the use-cases we want to support is that of a testbed. A concrete example
of an environment of this kind is the ORBIT testbed. ORBIT is a laboratory
emulator/field trial network arranged as a two dimensional grid of 400 802.11
radio nodes. We integrate with ORBIT by using their “imaging” process to load
and run <em>ns-3</em> simulations on the ORBIT array. We can use our
<code class="docutils literal notranslate"><span class="pre">EmuFdNetDevice</span></code>
to drive the hardware in the testbed and we can accumulate results either using
the <em>ns-3</em> tracing and logging functions, or the native ORBIT data gathering
techniques. See <a class="reference external" href="http://www.orbit-lab.org/">http://www.orbit-lab.org/</a> for details on the ORBIT
testbed.</p>
<p>A simulation of this kind is shown in the following figure:</p>
<div class="figure align-default" id="id1">
<span id="testbed"></span><img alt="_images/testbed.png" src="_images/testbed.png" />
<p class="caption"><span class="caption-text">Example Implementation of Testbed Emulation.</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
<p>You can see that there are separate hosts, each running a subset of a “global”
simulation. Instead of an <em>ns-3</em> channel connecting the hosts, we use real
hardware provided by the testbed. This allows <em>ns-3</em> applications and protocol
stacks attached to a simulation node to communicate over real hardware.</p>
<p>We expect the primary use for this configuration will be to generate repeatable
experimental results in a real-world network environment that includes all of
the <em>ns-3</em> tracing, logging, visualization and statistics gathering tools.</p>
<p>In what can be viewed as essentially an inverse configuration, we allow “real”
machines running native applications and protocol stacks to integrate with an
<em>ns-3</em> simulation. This allows for the simulation of large networks connected to
a real machine, and also enables virtualization. A simulation of this kind is
shown in the following figure:</p>
<div class="figure align-default" id="id2">
<span id="emulated-channel"></span><img alt="_images/emulated-channel.png" src="_images/emulated-channel.png" />
<p class="caption"><span class="caption-text">Implementation overview of emulated channel.</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</div>
<p>Here, you will see that there is a single host with a number of virtual machines
running on it. An <em>ns-3</em> simulation is shown running in the virtual machine shown
in the center of the figure. This simulation has a number of nodes with
associated <em>ns-3</em> applications and protocol stacks that are talking to an <em>ns-3</em>
channel through native simulated <em>ns-3</em> net devices.</p>
<p>There are also two virtual machines shown at the far left and far right of the
figure. These VMs are running native (Linux) applications and protocol stacks.
The VM is connected into the simulation by a Linux Tap net device. The user-mode
handler for the Tap device is instantiated in the simulation and attached to a
proxy node that represents the native VM in the simulation. These handlers allow
the Tap devices on the native VMs to behave as if they were <em>ns-3</em> net devices in
the simulation VM. This, in turn, allows the native software and protocol suites
in the native VMs to believe that they are connected to the simulated <em>ns-3</em>
channel.</p>
<p>We expect the typical use case for this environment will be to analyze the
behavior of native applications and protocol suites in the presence of large
simulated <em>ns-3</em> networks.</p>
<p>For more details:</p>
<ul class="simple">
<li><p><a class="reference internal" href="fd-net-device.html"><span class="doc">FdNetDevice</span></a> chapter.</p></li>
<li><p><a class="reference internal" href="tap.html"><span class="doc">TapBridge</span></a> chapter.</p></li>
</ul>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="dsr.html"
                        title="previous chapter">DSR Routing</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="energy.html"
                        title="next chapter">Energy Framework</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/emulation-overview.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="energy.html" title="Energy Framework"
             >next</a> |</li>
        <li class="right" >
          <a href="dsr.html" title="DSR Routing"
             >previous</a> |</li>
    <li class="navelem"><a href="">ns-3</a><span class="navelem">&nbsp;</span></li>
    
        <li class="nav-item nav-item-0"><a href="index.html">Models</a><span class="navelem">&nbsp;</span></li>
 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2006-2019.
      Last updated on Apr 29, 2020 17:37.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.0.2.
    </div>
  </body>
</html>