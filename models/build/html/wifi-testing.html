
<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>35.3. Testing Documentation &#8212; Model Library</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/default.css?v=bb97339c" />
    <script src="_static/documentation_options.js?v=951d00fa"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="35.4. API and behavior changes across releases" href="wifi-changelog.html" />
    <link rel="prev" title="35.2. User Documentation" href="wifi-user.html" />
  <link rel="stylesheet" type="text/css"
    href="_static/ns3_stylesheet.css" />
    <link rel="icon" type="image/ico"
      href="_static/favicon.ico" />

  <script type="text/javascript" src="_static/drop-down-menu.js"></script>
  <script type="text/javascript" src="_static/ns3_version.js"></script>
  <script type="text/javascript">var ns3_builder="html";</script>
  <script type="text/javascript" src="_static/ns3_links.js"></script>


  </head><body>
    <div id="titlearea">
      <table cellspacing="0" cellpadding="0" width="100%">
        <tbody>
          <tr style="height: 56px;">
            <td id="projectlogo">
              <a id="ns3_home1"
                 href="http://www.nsnam.org/">
                 <img alt="ns-3 Logo" style="background-color: unset;"
                      src="_static/ns-3-inverted-notext-small.png"/>
              </a>
            </td>
            <td id="projecttext">
              <div id="projectbrief">A Discrete-Event Network Simulator</div>
              <span id="projectnumber"><script type="text/javascript">document.write(ns3_version)</script></span>
            </td>

            <td id="ns3-menu">
              <div class="menu">
                <ul >
                  <li style="background-image:none">
                    <a id="ns3_home2"
                         href="http://www.nsnam.org/"
                         >&nbsp;&nbsp;Home</a>
                  </li>
                  <li><span
                        onmouseover="mopen('mTuts')"
                        onmouseout="mclosetime()"
                          >Tutorials &nbsp;&#x25BC;</span>
                      <div id="mTuts"
                          onmouseover="mcancelclosetime()"
                          onmouseout="mclosetime()">
                        <a id="ns3_tut"
                           href="/docs/tutorial/html/index.html"
                            >English</a><br/>
                      </div>
                  </li>
                  <li><span
                        onmouseover="mopen('mDocs')"
                        onmouseout="mclosetime()"
                          >Documentation &nbsp;&#x25BC;</span>
                      <div id="mDocs"
                          onmouseover="mcancelclosetime()"
                          onmouseout="mclosetime()">
                        <a id="ns3_ins"
                           href="/docs/installation/html/index.html"
                           >Installation</a><br/>
                        <a id="ns3_man"
                           href="/docs/manual/html/index.html"
                           >Manual</a><br/>
                        <a id="ns3_mod"
                           href="/docs/models/html/index.html"
                           >Models</a><br/>
                        <a id="ns3_con"
                           href="/docs/contributing/html/index.html"
                           >Contributing</a><br/>
                        <a id="ns3_wiki"
                           href="http://www.nsnam.org/wiki"
                           >Wiki</a><br/>
                      </div>
                  </li>
                  <li><span
                        onmouseover="mopen('mDev')"
                        onmouseout="mclosetime()"
                          >Development &nbsp;&#x25BC;</span>
                      <div id="mDev"
                          onmouseover="mcancelclosetime()"
                          onmouseout="mclosetime()">
                        <a id="ns3_api"
                           href="/docs/doxygen/html/index.html"
                           >API Docs</a><br/>
                        <a id="ns3_bugs"
                         href="https://gitlab.com/nsnam/ns-3-dev/-/issues"
                           >Issue Tracker</a><br/>
                        <a id="ns3_merge"
                         href="https://gitlab.com/nsnam/ns-3-dev/-/merge_requests"
                           >Merge Requests</a><br/>
                      </div>
                  </li>
                </ul>
              </div>
            </td>

            <td id="projectsection">
              <span style="margin-right:10px">Models</span>
            </td>
          </tr>
        </tbody>
      </table>
      <script  type="text/javascript">ns3_write_links()</script>
    </div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="wifi-changelog.html" title="35.4. API and behavior changes across releases"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="wifi-user.html" title="35.2. User Documentation"
             accesskey="P">previous</a> |</li>
    <li class="navelem"><a href="">ns-3</a><span class="navelem">&nbsp;</span></li>
    
        <li class="nav-item nav-item-0"><a href="index.html">Models</a><span class="navelem">&nbsp;</span></li>

          <li class="nav-item nav-item-1"><a href="wifi.html" accesskey="U"><span class="section-number">35. </span>Wi-Fi Module</a><span class="navelem">&nbsp;</span></li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">35.3. </span>Testing Documentation</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="testing-documentation">
<h1><span class="section-number">35.3. </span>Testing Documentation<a class="headerlink" href="#testing-documentation" title="Link to this heading">¶</a></h1>
<p>At present, most of the available documentation about testing and validation
exists in publications, some of which are referenced below.</p>
<section id="error-model">
<h2><span class="section-number">35.3.1. </span>Error model<a class="headerlink" href="#error-model" title="Link to this heading">¶</a></h2>
<p>Validation results for the 802.11b error model are available in this
<a class="reference external" href="http://www.nsnam.org/~pei/80211b.pdf">technical report</a></p>
<p>Two clarifications on the results should be noted.  First, Figure 1-4
of the above reference
corresponds to the <em>ns-3</em> NIST BER model.   In the program in the
Appendix of the paper (80211b.c), there are two constants used to generate
the data.  The first, packet size, is set to 1024 bytes.  The second,
“noise”, is set to a value of 7 dB; this was empirically picked to align
the curves the best with the reported data from the CMU testbed.  Although
a value of 1.55 dB would correspond to the reported -99 dBm noise floor
from the CMU paper, a noise figure of 7 dB results in the best fit with the
CMU experimental data.  This default of 7 dB is the RxNoiseFigure in the
<code class="docutils literal notranslate"><span class="pre">ns3::YansWifiPhy</span></code> model.  Other values for noise figure will shift the
curves leftward or rightward but not change the slope.</p>
<p>The curves can be reproduced by running the <code class="docutils literal notranslate"><span class="pre">wifi-clear-channel-cmu.cc</span></code>
example program in the <code class="docutils literal notranslate"><span class="pre">examples/wireless</span></code> directory, and the figure produced
(when GNU Scientific Library (GSL) is enabled) is reproduced below in
Figure <a class="reference internal" href="#fig-clear-channel-80211b"><span class="std std-ref">Clear channel (AWGN) error model for 802.11b</span></a>.</p>
<figure class="align-center" id="id6">
<span id="fig-clear-channel-80211b"></span><img alt="_images/clear-channel.png" src="_images/clear-channel.png" />
<figcaption>
<p><span class="caption-text">Clear channel (AWGN) error model for 802.11b</span><a class="headerlink" href="#id6" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>Validation results for the 802.11a/g OFDM error model are available in this
<a class="reference external" href="https://www.nsnam.org/~pei/80211ofdm.pdf">technical report</a>.  The curves
can be reproduced by running the <code class="docutils literal notranslate"><span class="pre">wifi-ofdm-validation.cc</span></code> example program
in the <code class="docutils literal notranslate"><span class="pre">examples/wireless</span></code> directory, and the figure is reproduced below
in Figure <a class="reference internal" href="#fig-nist-frame-success-rate"><span class="std std-ref">Frame error rate (NIST model) for 802.11a/g (OFDM) Wi-Fi</span></a>.</p>
<figure class="align-center" id="id7">
<span id="fig-nist-frame-success-rate"></span><img alt="_images/nist-frame-success-rate.png" src="_images/nist-frame-success-rate.png" />
<figcaption>
<p><span class="caption-text">Frame error rate (NIST model) for 802.11a/g (OFDM) Wi-Fi</span><a class="headerlink" href="#id7" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>Similar curves for 802.11n/ac/ax can be obtained by running the <code class="docutils literal notranslate"><span class="pre">wifi-ofdm-ht-validation.cc</span></code>,
<code class="docutils literal notranslate"><span class="pre">wifi-ofdm-vht-validation.cc</span></code> and <code class="docutils literal notranslate"><span class="pre">wifi-ofdm-he-validation.cc</span></code> example programs
in the <code class="docutils literal notranslate"><span class="pre">examples/wireless</span></code> directory, and the figures are reproduced below
in Figure <a class="reference internal" href="#fig-nist-frame-success-rate-n"><span class="std std-ref">Frame error rate (NIST model) for 802.11n (HT OFDM) Wi-Fi</span></a>, Figure <a class="reference internal" href="#fig-nist-frame-success-rate-ac"><span class="std std-ref">Frame error rate (NIST model) for 802.11ac (VHT OFDM) Wi-Fi</span></a>
and Figure <a class="reference internal" href="#fig-nist-frame-success-rate-ax"><span class="std std-ref">Frame error rate (NIST model) for 802.11ax (HE OFDM) Wi-Fi</span></a>, respectively.
There is no validation for those curves yet.</p>
<figure class="align-center" id="id8">
<span id="fig-nist-frame-success-rate-n"></span><img alt="_images/nist-frame-success-rate-n.png" src="_images/nist-frame-success-rate-n.png" />
<figcaption>
<p><span class="caption-text">Frame error rate (NIST model) for 802.11n (HT OFDM) Wi-Fi</span><a class="headerlink" href="#id8" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<figure class="align-center" id="id9">
<span id="fig-nist-frame-success-rate-ac"></span><img alt="_images/nist-frame-success-rate-ac.png" src="_images/nist-frame-success-rate-ac.png" />
<figcaption>
<p><span class="caption-text">Frame error rate (NIST model) for 802.11ac (VHT OFDM) Wi-Fi</span><a class="headerlink" href="#id9" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<figure class="align-center" id="id10">
<span id="fig-nist-frame-success-rate-ax"></span><img alt="_images/nist-frame-success-rate-ax.png" src="_images/nist-frame-success-rate-ax.png" />
<figcaption>
<p><span class="caption-text">Frame error rate (NIST model) for 802.11ax (HE OFDM) Wi-Fi</span><a class="headerlink" href="#id10" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="mac-validation">
<h2><span class="section-number">35.3.2. </span>MAC validation<a class="headerlink" href="#mac-validation" title="Link to this heading">¶</a></h2>
<p>Validation of the 802.11 DCF MAC layer has been performed in <a class="reference internal" href="wifi-references.html#baldo2010" id="id1"><span>[baldo2010]</span></a>.</p>
<p>802.11 PCF operation has been verified by running ‘wifi-pcf’ example with PCAP files generation enabled, and observing the frame exchange using Wireshark.</p>
</section>
<section id="spectrumwifiphy">
<h2><span class="section-number">35.3.3. </span>SpectrumWiFiPhy<a class="headerlink" href="#spectrumwifiphy" title="Link to this heading">¶</a></h2>
<p>The SpectrumWifiPhy implementation has been verified to produce equivalent
results to the legacy YansWifiPhy by using the saturation and packet
error rate programs (described below) and toggling the implementation
between the two physical layers.</p>
<p>A basic unit test is provided using injection of hand-crafted packets to
a receiving Phy object, controlling the timing and receive power of
each packet arrival and checking the reception results.  However, most of
the testing of this Phy implementation has been performed using example
programs described below, and during the course of a (separate) LTE/Wi-Fi
coexistence study not documented herein.</p>
<section id="saturation-performance">
<h3><span class="section-number">35.3.3.1. </span>Saturation performance<a class="headerlink" href="#saturation-performance" title="Link to this heading">¶</a></h3>
<p>The program <code class="docutils literal notranslate"><span class="pre">examples/wireless/wifi-spectrum-saturation-example.cc</span></code>
allows user to select either the <cite>SpectrumWifiPhy</cite> or <cite>YansWifiPhy</cite> for
saturation tests.  The wifiType can be toggled by the argument
<code class="docutils literal notranslate"><span class="pre">'--wifiType=ns3::YansWifiPhy'</span></code> or <code class="docutils literal notranslate"><span class="pre">--wifiType=ns3::SpectrumWifiPhy'</span></code></p>
<p>There isn’t any difference in the output, which is to be expected because
this test is more of a test of the DCF than the physical layer.</p>
<p>By default, the program will use the <cite>SpectrumWifiPhy</cite> and will run
for 10 seconds of saturating UDP data, with 802.11n features enabled.
It produces this output for the main 802.11n rates (with short and long guard
intervals):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>wifiType:<span class="w"> </span>ns3::SpectrumWifiPhy<span class="w"> </span>distance:<span class="w"> </span>1m
index<span class="w">   </span>MCS<span class="w">   </span>width<span class="w"> </span>Rate<span class="w"> </span><span class="o">(</span>Mb/s<span class="o">)</span><span class="w"> </span>Tput<span class="w"> </span><span class="o">(</span>Mb/s<span class="o">)</span><span class="w"> </span>Received
<span class="w">    </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">      </span><span class="m">20</span><span class="w">       </span><span class="m">6</span>.5<span class="w">     </span><span class="m">5</span>.81381<span class="w">    </span><span class="m">4937</span>
<span class="w">    </span><span class="m">1</span><span class="w">     </span><span class="m">1</span><span class="w">      </span><span class="m">20</span><span class="w">        </span><span class="m">13</span><span class="w">     </span><span class="m">11</span>.8266<span class="w">   </span><span class="m">10043</span>
<span class="w">    </span><span class="m">2</span><span class="w">     </span><span class="m">2</span><span class="w">      </span><span class="m">20</span><span class="w">      </span><span class="m">19</span>.5<span class="w">     </span><span class="m">17</span>.7935<span class="w">   </span><span class="m">15110</span>
<span class="w">    </span><span class="m">3</span><span class="w">     </span><span class="m">3</span><span class="w">      </span><span class="m">20</span><span class="w">        </span><span class="m">26</span><span class="w">     </span><span class="m">23</span>.7958<span class="w">   </span><span class="m">20207</span>
<span class="w">    </span><span class="m">4</span><span class="w">     </span><span class="m">4</span><span class="w">      </span><span class="m">20</span><span class="w">        </span><span class="m">39</span><span class="w">     </span><span class="m">35</span>.7331<span class="w">   </span><span class="m">30344</span>
<span class="w">    </span><span class="m">5</span><span class="w">     </span><span class="m">5</span><span class="w">      </span><span class="m">20</span><span class="w">        </span><span class="m">52</span><span class="w">     </span><span class="m">47</span>.6174<span class="w">   </span><span class="m">40436</span>
<span class="w">    </span><span class="m">6</span><span class="w">     </span><span class="m">6</span><span class="w">      </span><span class="m">20</span><span class="w">      </span><span class="m">58</span>.5<span class="w">     </span><span class="m">53</span>.6102<span class="w">   </span><span class="m">45525</span>
<span class="w">    </span><span class="m">7</span><span class="w">     </span><span class="m">7</span><span class="w">      </span><span class="m">20</span><span class="w">        </span><span class="m">65</span><span class="w">     </span><span class="m">59</span>.5501<span class="w">   </span><span class="m">50569</span>
<span class="w">  </span>...
<span class="w">   </span><span class="m">63</span><span class="w">    </span><span class="m">15</span><span class="w">      </span><span class="m">40</span><span class="w">       </span><span class="m">300</span><span class="w">     </span><span class="m">254</span>.902<span class="w">  </span><span class="m">216459</span>
</pre></div>
</div>
<p>The above output shows the first 8 (of 32) modes, and last mode, that will be
output from the program.  The first 8 modes correspond
to short guard interval disabled and channel bonding disabled.  The
subsequent 24 modes run by this program are variations with short guard
interval enabled (cases 9-16), and then with channel bonding enabled and
short guard first disabled then enabled (cases 17-32).  Cases 33-64 repeat
the same configurations but for two spatial streams (MIMO abstraction).</p>
<p>When run with the legacy YansWifiPhy, as in <code class="docutils literal notranslate"><span class="pre">./ns3</span> <span class="pre">run</span> <span class="pre">&quot;wifi-spectrum-saturation-example</span> <span class="pre">--wifiType=ns3::YansWifiPhy&quot;</span></code>, the same output is observed:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>wifiType:<span class="w"> </span>ns3::YansWifiPhy<span class="w"> </span>distance:<span class="w"> </span>1m
index<span class="w">   </span>MCS<span class="w">   </span>width<span class="w"> </span>Rate<span class="w"> </span><span class="o">(</span>Mb/s<span class="o">)</span><span class="w"> </span>Tput<span class="w"> </span><span class="o">(</span>Mb/s<span class="o">)</span><span class="w"> </span>Received
<span class="w">    </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">      </span><span class="m">20</span><span class="w">       </span><span class="m">6</span>.5<span class="w">     </span><span class="m">5</span>.81381<span class="w">    </span><span class="m">4937</span>
<span class="w">    </span><span class="m">1</span><span class="w">     </span><span class="m">1</span><span class="w">      </span><span class="m">20</span><span class="w">        </span><span class="m">13</span><span class="w">     </span><span class="m">11</span>.8266<span class="w">   </span><span class="m">10043</span>
<span class="w">    </span><span class="m">2</span><span class="w">     </span><span class="m">2</span><span class="w">      </span><span class="m">20</span><span class="w">      </span><span class="m">19</span>.5<span class="w">     </span><span class="m">17</span>.7935<span class="w">   </span><span class="m">15110</span>
<span class="w">    </span><span class="m">3</span><span class="w">     </span><span class="m">3</span><span class="w">      </span><span class="m">20</span><span class="w">        </span><span class="m">26</span><span class="w">     </span><span class="m">23</span>.7958<span class="w">   </span><span class="m">20207</span>
<span class="w">  </span>...
</pre></div>
</div>
<p>This is to be expected since YansWifiPhy and SpectrumWifiPhy use the
same error rate model in this case.</p>
</section>
<section id="packet-error-rate-performance">
<h3><span class="section-number">35.3.3.2. </span>Packet error rate performance<a class="headerlink" href="#packet-error-rate-performance" title="Link to this heading">¶</a></h3>
<p>The program <code class="docutils literal notranslate"><span class="pre">examples/wireless/wifi-spectrum-per-example.cc</span></code> allows users
to select either <cite>SpectrumWifiPhy</cite> or <cite>YansWifiPhy</cite>, as above, and select
the distance between the nodes, and to log the reception statistics and
received SNR (as observed by the WifiPhy::MonitorSnifferRx trace source), using a
Friis propagation loss model.  The transmit power is lowered from the default
of 40 mW (16 dBm) to 1 dBm to lower the baseline SNR; the distance between
the nodes can be changed to further change the SNR.  By default, it steps
through the same index values as in the saturation example (0 through 31)
for a 50m distance, for 10 seconds of simulation time, producing output such as:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>wifiType:<span class="w"> </span>ns3::SpectrumWifiPhy<span class="w"> </span>distance:<span class="w"> </span>50m<span class="p">;</span><span class="w"> </span>time:<span class="w"> </span><span class="m">10</span><span class="p">;</span><span class="w"> </span>TxPower:<span class="w"> </span><span class="m">1</span><span class="w"> </span>dBm<span class="w"> </span><span class="o">(</span><span class="m">1</span>.3<span class="w"> </span>mW<span class="o">)</span>
index<span class="w">   </span>MCS<span class="w">  </span>Rate<span class="w"> </span><span class="o">(</span>Mb/s<span class="o">)</span><span class="w"> </span>Tput<span class="w"> </span><span class="o">(</span>Mb/s<span class="o">)</span><span class="w"> </span>Received<span class="w"> </span>Signal<span class="w"> </span><span class="o">(</span>dBm<span class="o">)</span><span class="w"> </span>Noise<span class="w"> </span><span class="o">(</span>dBm<span class="o">)</span><span class="w"> </span>SNR<span class="w"> </span><span class="o">(</span>dB<span class="o">)</span>
<span class="w">    </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">      </span><span class="m">6</span>.50<span class="w">        </span><span class="m">5</span>.77<span class="w">    </span><span class="m">7414</span><span class="w">      </span>-79.71<span class="w">      </span>-93.97<span class="w">       </span><span class="m">14</span>.25
<span class="w">    </span><span class="m">1</span><span class="w">     </span><span class="m">1</span><span class="w">     </span><span class="m">13</span>.00<span class="w">       </span><span class="m">11</span>.58<span class="w">   </span><span class="m">14892</span><span class="w">      </span>-79.71<span class="w">      </span>-93.97<span class="w">       </span><span class="m">14</span>.25
<span class="w">    </span><span class="m">2</span><span class="w">     </span><span class="m">2</span><span class="w">     </span><span class="m">19</span>.50<span class="w">       </span><span class="m">17</span>.39<span class="w">   </span><span class="m">22358</span><span class="w">      </span>-79.71<span class="w">      </span>-93.97<span class="w">       </span><span class="m">14</span>.25
<span class="w">    </span><span class="m">3</span><span class="w">     </span><span class="m">3</span><span class="w">     </span><span class="m">26</span>.00<span class="w">       </span><span class="m">22</span>.96<span class="w">   </span><span class="m">29521</span><span class="w">      </span>-79.71<span class="w">      </span>-93.97<span class="w">       </span><span class="m">14</span>.25
<span class="w">    </span><span class="m">4</span><span class="w">     </span><span class="m">4</span><span class="w">     </span><span class="m">39</span>.00<span class="w">        </span><span class="m">0</span>.00<span class="w">       </span><span class="m">0</span><span class="w">         </span>N/A<span class="w">         </span>N/A<span class="w">         </span>N/A
<span class="w">    </span><span class="m">5</span><span class="w">     </span><span class="m">5</span><span class="w">     </span><span class="m">52</span>.00<span class="w">        </span><span class="m">0</span>.00<span class="w">       </span><span class="m">0</span><span class="w">         </span>N/A<span class="w">         </span>N/A<span class="w">         </span>N/A
<span class="w">    </span><span class="m">6</span><span class="w">     </span><span class="m">6</span><span class="w">     </span><span class="m">58</span>.50<span class="w">        </span><span class="m">0</span>.00<span class="w">       </span><span class="m">0</span><span class="w">         </span>N/A<span class="w">         </span>N/A<span class="w">         </span>N/A
<span class="w">    </span><span class="m">7</span><span class="w">     </span><span class="m">7</span><span class="w">     </span><span class="m">65</span>.00<span class="w">        </span><span class="m">0</span>.00<span class="w">       </span><span class="m">0</span><span class="w">         </span>N/A<span class="w">         </span>N/A<span class="w">         </span>N/A
</pre></div>
</div>
<p>As in the above saturation example, running this program with YansWifiPhy
will yield identical output.</p>
</section>
<section id="interference-performance">
<h3><span class="section-number">35.3.3.3. </span>Interference performance<a class="headerlink" href="#interference-performance" title="Link to this heading">¶</a></h3>
<p>The program <code class="docutils literal notranslate"><span class="pre">examples/wireless/wifi-spectrum-per-interference.cc</span></code> is based
on the previous packet error rate example, but copies over the
WaveformGenerator from the unlicensed LTE interferer test, to allow
users to inject a non-Wi-Fi signal (using the <code class="docutils literal notranslate"><span class="pre">--waveformPower</span></code> argument)
from the command line.  Another difference with respect to the packet
error rate example program is that the transmit power is set back to the
default of 40 mW (16 dBm).  By default, the interference generator is off,
and the program should behave similarly to the other packet error rate example,
but by adding small
amounts of power (e.g. <code class="docutils literal notranslate"><span class="pre">--waveformPower=0.001</span></code>), one will start to observe
SNR degradation and frame loss.</p>
<p>Some sample output with default arguments (no interference) is:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./ns3<span class="w"> </span>run<span class="w"> </span><span class="s2">&quot;wifi-spectrum-per-interference&quot;</span>

wifiType:<span class="w"> </span>ns3::SpectrumWifiPhy<span class="w"> </span>distance:<span class="w"> </span>50m<span class="p">;</span><span class="w"> </span>time:<span class="w"> </span><span class="m">10</span><span class="p">;</span><span class="w"> </span>TxPower:<span class="w"> </span><span class="m">16</span><span class="w"> </span>dBm<span class="w"> </span><span class="o">(</span><span class="m">40</span><span class="w"> </span>mW<span class="o">)</span>
index<span class="w">   </span>MCS<span class="w">  </span>Rate<span class="w"> </span><span class="o">(</span>Mb/s<span class="o">)</span><span class="w"> </span>Tput<span class="w"> </span><span class="o">(</span>Mb/s<span class="o">)</span><span class="w"> </span>Received<span class="w"> </span>Signal<span class="w"> </span><span class="o">(</span>dBm<span class="o">)</span>Noi+Inf<span class="o">(</span>dBm<span class="o">)</span><span class="w"> </span>SNR<span class="w"> </span><span class="o">(</span>dB<span class="o">)</span>
<span class="w">    </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">      </span><span class="m">6</span>.50<span class="w">        </span><span class="m">5</span>.77<span class="w">    </span><span class="m">7414</span><span class="w">      </span>-64.69<span class="w">      </span>-93.97<span class="w">       </span><span class="m">29</span>.27
<span class="w">    </span><span class="m">1</span><span class="w">     </span><span class="m">1</span><span class="w">     </span><span class="m">13</span>.00<span class="w">       </span><span class="m">11</span>.58<span class="w">   </span><span class="m">14892</span><span class="w">      </span>-64.69<span class="w">      </span>-93.97<span class="w">       </span><span class="m">29</span>.27
<span class="w">    </span><span class="m">2</span><span class="w">     </span><span class="m">2</span><span class="w">     </span><span class="m">19</span>.50<span class="w">       </span><span class="m">17</span>.39<span class="w">   </span><span class="m">22358</span><span class="w">      </span>-64.69<span class="w">      </span>-93.97<span class="w">       </span><span class="m">29</span>.27
<span class="w">    </span><span class="m">3</span><span class="w">     </span><span class="m">3</span><span class="w">     </span><span class="m">26</span>.00<span class="w">       </span><span class="m">23</span>.23<span class="w">   </span><span class="m">29875</span><span class="w">      </span>-64.69<span class="w">      </span>-93.97<span class="w">       </span><span class="m">29</span>.27
<span class="w">    </span><span class="m">4</span><span class="w">     </span><span class="m">4</span><span class="w">     </span><span class="m">39</span>.00<span class="w">       </span><span class="m">34</span>.90<span class="w">   </span><span class="m">44877</span><span class="w">      </span>-64.69<span class="w">      </span>-93.97<span class="w">       </span><span class="m">29</span>.27
<span class="w">    </span><span class="m">5</span><span class="w">     </span><span class="m">5</span><span class="w">     </span><span class="m">52</span>.00<span class="w">       </span><span class="m">46</span>.51<span class="w">   </span><span class="m">59813</span><span class="w">      </span>-64.69<span class="w">      </span>-93.97<span class="w">       </span><span class="m">29</span>.27
<span class="w">    </span><span class="m">6</span><span class="w">     </span><span class="m">6</span><span class="w">     </span><span class="m">58</span>.50<span class="w">       </span><span class="m">52</span>.39<span class="w">   </span><span class="m">67374</span><span class="w">      </span>-64.69<span class="w">      </span>-93.97<span class="w">       </span><span class="m">29</span>.27
<span class="w">    </span><span class="m">7</span><span class="w">     </span><span class="m">7</span><span class="w">     </span><span class="m">65</span>.00<span class="w">       </span><span class="m">58</span>.18<span class="w">   </span><span class="m">74819</span><span class="w">      </span>-64.69<span class="w">      </span>-93.97<span class="w">       </span><span class="m">29</span>.27
<span class="w">  </span>...
</pre></div>
</div>
<p>while a small amount of waveform power will cause frame losses to occur at
higher order modulations, due to lower SNR:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./ns3<span class="w"> </span>run<span class="w"> </span><span class="s2">&quot;wifi-spectrum-per-interference --waveformPower=0.001&quot;</span>

wifiType:<span class="w"> </span>ns3::SpectrumWifiPhy<span class="w"> </span>distance:<span class="w"> </span>50m<span class="p">;</span><span class="w"> </span>sent:<span class="w"> </span><span class="m">1000</span><span class="w"> </span>TxPower:<span class="w"> </span><span class="m">16</span><span class="w"> </span>dBm<span class="w"> </span><span class="o">(</span><span class="m">40</span><span class="w"> </span>mW<span class="o">)</span>
index<span class="w">   </span>MCS<span class="w"> </span>Rate<span class="w"> </span><span class="o">(</span>Mb/s<span class="o">)</span><span class="w"> </span>Tput<span class="w"> </span><span class="o">(</span>Mb/s<span class="o">)</span><span class="w"> </span>Received<span class="w"> </span>Signal<span class="w"> </span><span class="o">(</span>dBm<span class="o">)</span>Noi+Inf<span class="o">(</span>dBm<span class="o">)</span><span class="w">  </span>SNR<span class="w"> </span><span class="o">(</span>dB<span class="o">)</span>
<span class="w">    </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">      </span><span class="m">6</span>.50<span class="w">        </span><span class="m">5</span>.77<span class="w">    </span><span class="m">7414</span><span class="w">      </span>-64.69<span class="w">      </span>-80.08<span class="w">       </span><span class="m">15</span>.38
<span class="w">    </span><span class="m">1</span><span class="w">     </span><span class="m">1</span><span class="w">     </span><span class="m">13</span>.00<span class="w">       </span><span class="m">11</span>.58<span class="w">   </span><span class="m">14892</span><span class="w">      </span>-64.69<span class="w">      </span>-80.08<span class="w">       </span><span class="m">15</span>.38
<span class="w">    </span><span class="m">2</span><span class="w">     </span><span class="m">2</span><span class="w">     </span><span class="m">19</span>.50<span class="w">       </span><span class="m">17</span>.39<span class="w">   </span><span class="m">22358</span><span class="w">      </span>-64.69<span class="w">      </span>-80.08<span class="w">       </span><span class="m">15</span>.38
<span class="w">    </span><span class="m">3</span><span class="w">     </span><span class="m">3</span><span class="w">     </span><span class="m">26</span>.00<span class="w">       </span><span class="m">23</span>.23<span class="w">   </span><span class="m">29873</span><span class="w">      </span>-64.69<span class="w">      </span>-80.08<span class="w">       </span><span class="m">15</span>.38
<span class="w">    </span><span class="m">4</span><span class="w">     </span><span class="m">4</span><span class="w">     </span><span class="m">39</span>.00<span class="w">        </span><span class="m">0</span>.41<span class="w">     </span><span class="m">531</span><span class="w">      </span>-64.69<span class="w">      </span>-80.08<span class="w">       </span><span class="m">15</span>.38
<span class="w">    </span><span class="m">5</span><span class="w">     </span><span class="m">5</span><span class="w">     </span><span class="m">52</span>.00<span class="w">        </span><span class="m">0</span>.00<span class="w">       </span><span class="m">0</span><span class="w">         </span>N/A<span class="w">         </span>N/A<span class="w">         </span>N/A
<span class="w">    </span><span class="m">6</span><span class="w">     </span><span class="m">6</span><span class="w">     </span><span class="m">58</span>.50<span class="w">        </span><span class="m">0</span>.00<span class="w">       </span><span class="m">0</span><span class="w">         </span>N/A<span class="w">         </span>N/A<span class="w">         </span>N/A
<span class="w">    </span><span class="m">7</span><span class="w">     </span><span class="m">7</span><span class="w">     </span><span class="m">65</span>.00<span class="w">        </span><span class="m">0</span>.00<span class="w">       </span><span class="m">0</span><span class="w">         </span>N/A<span class="w">         </span>N/A<span class="w">         </span>N/A
<span class="w">  </span>...
</pre></div>
</div>
<p>If ns3::YansWifiPhy is selected as the wifiType, the waveform generator will
not be enabled because only transmitters of type YansWifiPhy may be connected
to a YansWifiChannel.</p>
<p>The interference signal as received by the sending node is typically below
the default -62 dBm CCA Mode 1 threshold in this example.  If it raises
above, the sending node will suppress all transmissions.</p>
</section>
</section>
<section id="bianchi-validation">
<h2><span class="section-number">35.3.4. </span>Bianchi validation<a class="headerlink" href="#bianchi-validation" title="Link to this heading">¶</a></h2>
<p>The program <code class="docutils literal notranslate"><span class="pre">src/wifi/examples/wifi-bianchi.cc</span></code> allows user to
compare ns-3 simulation results against the Bianchi model
presented in <a class="reference internal" href="wifi-references.html#bianchi2000" id="id2"><span>[bianchi2000]</span></a> and <a class="reference internal" href="wifi-references.html#bianchi2005" id="id3"><span>[bianchi2005]</span></a>.</p>
<p>The MATLAB code used to generate the Bianchi model,
as well as the generated outputs, are provided in
the folder <code class="docutils literal notranslate"><span class="pre">src/wifi/examples/reference</span></code>.
User can regenerate Bianchi results by running
<code class="docutils literal notranslate"><span class="pre">generate_bianchi.m</span></code> in MATLAB.</p>
<p>By default, the program <code class="docutils literal notranslate"><span class="pre">src/wifi/examples/wifi-bianchi.cc</span></code>
simulates an 802.11a adhoc ring scenario, with a PHY rate set to
54 Mbit/s, and loop from 5 stations to 50 stations, by a step of
5 stations. It generates a plt file, which allows user to quickly
generate an eps file using gnuplot and visualize the graph.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./ns3<span class="w"> </span>run<span class="w"> </span><span class="s2">&quot;wifi-bianchi&quot;</span>
</pre></div>
</div>
<figure class="align-center" id="id11">
<span id="fig-wifi-bianchi-11a-54-adhoc"></span><img alt="_images/wifi-11a-p-1500-adhoc-r-54-min-5-max-50-step-5-throughput.png" src="_images/wifi-11a-p-1500-adhoc-r-54-min-5-max-50-step-5-throughput.png" />
<figcaption>
<p><span class="caption-text">Bianchi throughput validation results for 802.11a 54 Mbps in adhoc configuration</span><a class="headerlink" href="#id11" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>The user has the possibility to select the standard (only
11a, 11b or 11g currently supported), to select the PHY rate (in Mbit/s),
as well as to choose between an adhoc or an infrastructure configuration.</p>
<p>When run for 802.11g 6 Mbit/s in infrastructure mode, the output is:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./ns3<span class="w"> </span>run<span class="w"> </span><span class="s2">&quot;wifi-bianchi --standard=11g --phyRate=6 --duration=500 --infra&quot;</span>
</pre></div>
</div>
<figure class="align-center" id="id12">
<span id="fig-wifi-bianchi-11g-6-infra"></span><img alt="_images/wifi-11g-p-1500-infrastructure-r-6-min-5-max-50-step-5-throughput.png" src="_images/wifi-11g-p-1500-infrastructure-r-6-min-5-max-50-step-5-throughput.png" />
<figcaption>
<p><span class="caption-text">Bianchi throughput validation results for 802.11g 6 Mbps in infrastructure configuration</span><a class="headerlink" href="#id12" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="multi-user-transmissions-validation">
<h2><span class="section-number">35.3.5. </span>Multi-user transmissions validation<a class="headerlink" href="#multi-user-transmissions-validation" title="Link to this heading">¶</a></h2>
<p>The implementation of the OFDMA support has been validated against a theoretical model <a class="reference internal" href="wifi-references.html#magrin2021mu" id="id4"><span>[magrin2021mu]</span></a> .</p>
<p>A preliminary evaluation of the usage of OFDMA in 802.11ax, in terms of latency in non-saturated
conditions, throughput in saturated conditions and transmission range with UL OFDMA, is provided
in <a class="reference internal" href="wifi-references.html#avallone2021wcm" id="id5"><span>[avallone2021wcm]</span></a> .</p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">35.3. Testing Documentation</a><ul>
<li><a class="reference internal" href="#error-model">35.3.1. Error model</a></li>
<li><a class="reference internal" href="#mac-validation">35.3.2. MAC validation</a></li>
<li><a class="reference internal" href="#spectrumwifiphy">35.3.3. SpectrumWiFiPhy</a><ul>
<li><a class="reference internal" href="#saturation-performance">35.3.3.1. Saturation performance</a></li>
<li><a class="reference internal" href="#packet-error-rate-performance">35.3.3.2. Packet error rate performance</a></li>
<li><a class="reference internal" href="#interference-performance">35.3.3.3. Interference performance</a></li>
</ul>
</li>
<li><a class="reference internal" href="#bianchi-validation">35.3.4. Bianchi validation</a></li>
<li><a class="reference internal" href="#multi-user-transmissions-validation">35.3.5. Multi-user transmissions validation</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="wifi-user.html"
                          title="previous chapter"><span class="section-number">35.2. </span>User Documentation</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="wifi-changelog.html"
                          title="next chapter"><span class="section-number">35.4. </span>API and behavior changes across releases</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/wifi-testing.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="wifi-changelog.html" title="35.4. API and behavior changes across releases"
             >next</a> |</li>
        <li class="right" >
          <a href="wifi-user.html" title="35.2. User Documentation"
             >previous</a> |</li>
    <li class="navelem"><a href="">ns-3</a><span class="navelem">&nbsp;</span></li>
    
        <li class="nav-item nav-item-0"><a href="index.html">Models</a><span class="navelem">&nbsp;</span></li>

          <li class="nav-item nav-item-1"><a href="wifi.html" ><span class="section-number">35. </span>Wi-Fi Module</a><span class="navelem">&nbsp;</span></li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">35.3. </span>Testing Documentation</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2006-2019, ns-3 project.
      Last updated on Mar 20, 2024 17:56.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.6.
    </div>
  </body>
</html>