
<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>24.2. Error Model &#8212; Model Library</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/default.css?v=bb97339c" />
    <script src="_static/documentation_options.js?v=951d00fa"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="24.3. Node and NetDevices Overview" href="network-overview.html" />
    <link rel="prev" title="24.1. Packets" href="packets.html" />
  <link rel="stylesheet" type="text/css"
    href="_static/ns3_stylesheet.css" />
    <link rel="icon" type="image/ico"
      href="_static/favicon.ico" />

  <script type="text/javascript" src="_static/drop-down-menu.js"></script>
  <script type="text/javascript" src="_static/ns3_version.js"></script>
  <script type="text/javascript">var ns3_builder="html";</script>
  <script type="text/javascript" src="_static/ns3_links.js"></script>


  </head><body>
    <div id="titlearea">
      <table cellspacing="0" cellpadding="0" width="100%">
        <tbody>
          <tr style="height: 56px;">
            <td id="projectlogo">
              <a id="ns3_home1"
                 href="http://www.nsnam.org/">
                 <img alt="ns-3 Logo" style="background-color: unset;"
                      src="_static/ns-3-inverted-notext-small.png"/>
              </a>
            </td>
            <td id="projecttext">
              <div id="projectbrief">A Discrete-Event Network Simulator</div>
              <span id="projectnumber"><script type="text/javascript">document.write(ns3_version)</script></span>
            </td>

            <td id="ns3-menu">
              <div class="menu">
                <ul >
                  <li style="background-image:none">
                    <a id="ns3_home2"
                         href="http://www.nsnam.org/"
                         >&nbsp;&nbsp;Home</a>
                  </li>
                  <li><span
                        onmouseover="mopen('mTuts')"
                        onmouseout="mclosetime()"
                          >Tutorials &nbsp;&#x25BC;</span>
                      <div id="mTuts"
                          onmouseover="mcancelclosetime()"
                          onmouseout="mclosetime()">
                        <a id="ns3_tut"
                           href="/docs/tutorial/html/index.html"
                            >English</a><br/>
                      </div>
                  </li>
                  <li><span
                        onmouseover="mopen('mDocs')"
                        onmouseout="mclosetime()"
                          >Documentation &nbsp;&#x25BC;</span>
                      <div id="mDocs"
                          onmouseover="mcancelclosetime()"
                          onmouseout="mclosetime()">
                        <a id="ns3_ins"
                           href="/docs/installation/html/index.html"
                           >Installation</a><br/>
                        <a id="ns3_man"
                           href="/docs/manual/html/index.html"
                           >Manual</a><br/>
                        <a id="ns3_mod"
                           href="/docs/models/html/index.html"
                           >Models</a><br/>
                        <a id="ns3_con"
                           href="/docs/contributing/html/index.html"
                           >Contributing</a><br/>
                        <a id="ns3_wiki"
                           href="http://www.nsnam.org/wiki"
                           >Wiki</a><br/>
                      </div>
                  </li>
                  <li><span
                        onmouseover="mopen('mDev')"
                        onmouseout="mclosetime()"
                          >Development &nbsp;&#x25BC;</span>
                      <div id="mDev"
                          onmouseover="mcancelclosetime()"
                          onmouseout="mclosetime()">
                        <a id="ns3_api"
                           href="/docs/doxygen/html/index.html"
                           >API Docs</a><br/>
                        <a id="ns3_bugs"
                         href="https://gitlab.com/nsnam/ns-3-dev/-/issues"
                           >Issue Tracker</a><br/>
                        <a id="ns3_merge"
                         href="https://gitlab.com/nsnam/ns-3-dev/-/merge_requests"
                           >Merge Requests</a><br/>
                      </div>
                  </li>
                </ul>
              </div>
            </td>

            <td id="projectsection">
              <span style="margin-right:10px">Models</span>
            </td>
          </tr>
        </tbody>
      </table>
      <script  type="text/javascript">ns3_write_links()</script>
    </div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="network-overview.html" title="24.3. Node and NetDevices Overview"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="packets.html" title="24.1. Packets"
             accesskey="P">previous</a> |</li>
    <li class="navelem"><a href="">ns-3</a><span class="navelem">&nbsp;</span></li>
    
        <li class="nav-item nav-item-0"><a href="index.html">Models</a><span class="navelem">&nbsp;</span></li>

          <li class="nav-item nav-item-1"><a href="network.html" accesskey="U"><span class="section-number">24. </span>Network Module</a><span class="navelem">&nbsp;</span></li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">24.2. </span>Error Model</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="error-model">
<h1><span class="section-number">24.2. </span>Error Model<a class="headerlink" href="#error-model" title="Link to this heading">¶</a></h1>
<p>This section documents a few error model objects, typically associated with
NetDevice models, that are maintained as part of the <code class="docutils literal notranslate"><span class="pre">network</span></code> module:</p>
<ul class="simple">
<li><p>RateErrorModel</p></li>
<li><p>ListErrorModel</p></li>
<li><p>ReceiveListErrorModel</p></li>
<li><p>BurstErrorModel</p></li>
</ul>
<p>Error models are used to indicate that a packet should be considered to
be errored, according to the underlying (possibly stochastic or
empirical) error model.</p>
<section id="model-description">
<h2><span class="section-number">24.2.1. </span>Model Description<a class="headerlink" href="#model-description" title="Link to this heading">¶</a></h2>
<p>The source code for error models live in the directory <code class="docutils literal notranslate"><span class="pre">src/packet/utils</span></code>.</p>
<p>Two types of error models are generally provided.  The first are stochastic
models.  In this case, packets are errored according to underlying
random variable distributions.  An example of this is the <code class="docutils literal notranslate"><span class="pre">RateErrorModel</span></code>.
The other type of model is a deterministic or empirical model, in which
packets are errored according to a particular prescribed pattern.
An example is the <code class="docutils literal notranslate"><span class="pre">ListErrorModel</span></code> that allows users to specify
the list of packets to be errored, by listing the specific packet UIDs.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">ns3::RateErrorModel</span></code> errors packets according to an underlying
random variable distribution, which is by default a UniformRandomVariable
distributed between 0.0 and 1.0.  The error rate and error units (bit,
byte, or packet) are set by the user.  For instance, by setting ErrorRate
to 0.1 and ErrorUnit to “Packet”, in the long run, around 10% of the
packets will be lost.</p>
<section id="design">
<h3><span class="section-number">24.2.1.1. </span>Design<a class="headerlink" href="#design" title="Link to this heading">¶</a></h3>
<p>Error models are <em>ns-3</em> objects and can be created using the typical
pattern of <code class="docutils literal notranslate"><span class="pre">CreateObject&lt;&gt;()</span></code>.  They have configuration attributes.</p>
<p>An ErrorModel can be applied anywhere, but are commonly deployed on
NetDevice models so that artificial losses (mimicking channel losses)
can be induced.</p>
</section>
<section id="scope-and-limitations">
<h3><span class="section-number">24.2.1.2. </span>Scope and Limitations<a class="headerlink" href="#scope-and-limitations" title="Link to this heading">¶</a></h3>
<p>No known limitations.  There are no existing models that try to modify
the packet contents (e.g. apply bit or byte errors to the byte buffers).
This type of operation will likely be performance-expensive, and existing
Packet APIs may not easily support it.</p>
<p>The <em>ns-3</em> spectrum model and devices that derive from it (e.g. LTE) have
their own error model base class, found in</p>
</section>
<section id="references">
<h3><span class="section-number">24.2.1.3. </span>References<a class="headerlink" href="#references" title="Link to this heading">¶</a></h3>
<p>The initial <em>ns-3</em> error models were ported from ns-2 (queue/errmodel.{cc,h})</p>
</section>
</section>
<section id="usage">
<h2><span class="section-number">24.2.2. </span>Usage<a class="headerlink" href="#usage" title="Link to this heading">¶</a></h2>
<p>The base class API is as follows:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">ErrorModel::IsCorrupt</span> <span class="pre">(Ptr&lt;Packet&gt;</span> <span class="pre">pkt)</span></code>:  Evaluate the packet and
return true or false whether the packet should be considered errored or not.
Some models could potentially alter the contents of the packet bit buffer.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ErrorModel::Reset</span> <span class="pre">()</span></code>:  Reset any state.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ErrorModel::Enable</span> <span class="pre">()</span></code>:  Enable the model</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ErrorModel::Disable</span> <span class="pre">()</span></code>:  Disable the model; IsCorrupt() will
always return false.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">ErrorModel::IsEnabled</span> <span class="pre">()</span> <span class="pre">const</span></code>:  Return the enabled state</p></li>
</ul>
<p>Many <em>ns-3</em> NetDevices contain attributes holding pointers to error
models.  The error model is applied in the notional physical layer
processing chain of the device, and drops should show up on the <code class="docutils literal notranslate"><span class="pre">PhyRxDrop</span></code>
trace source of the device.  The following are known to include an attribute
with a pointer available to hold this type of error model:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">SimpleNetDevice</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PointToPointNetDevice</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CsmaNetDevice</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">VirtualNetDevice</span></code></p></li>
</ul>
<p>However, the ErrorModel could be used anywhere where packets are used</p>
<section id="helpers">
<h3><span class="section-number">24.2.2.1. </span>Helpers<a class="headerlink" href="#helpers" title="Link to this heading">¶</a></h3>
<p>This model is typically not used with helpers.</p>
</section>
<section id="attributes">
<h3><span class="section-number">24.2.2.2. </span>Attributes<a class="headerlink" href="#attributes" title="Link to this heading">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">RateErrorModel</span></code> contains the following attributes:</p>
</section>
<section id="output">
<h3><span class="section-number">24.2.2.3. </span>Output<a class="headerlink" href="#output" title="Link to this heading">¶</a></h3>
<p>What kind of data does the model generate?  What are the key trace
sources?   What kind of logging output can be enabled?</p>
</section>
<section id="examples">
<h3><span class="section-number">24.2.2.4. </span>Examples<a class="headerlink" href="#examples" title="Link to this heading">¶</a></h3>
<p>Error models are used in the tutorial <code class="docutils literal notranslate"><span class="pre">fifth</span></code> and <code class="docutils literal notranslate"><span class="pre">sixth</span></code> programs.</p>
<p>The directory <code class="docutils literal notranslate"><span class="pre">examples/error-model/</span></code> contains an example
<code class="docutils literal notranslate"><span class="pre">simple-error-model.cc</span></code> that exercises the Rate and List error models.</p>
<p>The TCP example <code class="docutils literal notranslate"><span class="pre">examples/tcp/tcp-nsc-lfn.cc</span></code> uses the Rate error model.</p>
</section>
<section id="troubleshooting">
<h3><span class="section-number">24.2.2.5. </span>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Link to this heading">¶</a></h3>
<p>No known issues.</p>
</section>
</section>
<section id="validation">
<h2><span class="section-number">24.2.3. </span>Validation<a class="headerlink" href="#validation" title="Link to this heading">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">error-model</span></code> unit test suite provides a single test case of
of a particular combination of ErrorRate and ErrorUnit for the
<code class="docutils literal notranslate"><span class="pre">RateErrorModel</span></code> applied to a <code class="docutils literal notranslate"><span class="pre">SimpleNetDevice</span></code>.</p>
</section>
<section id="acknowledgements">
<h2><span class="section-number">24.2.4. </span>Acknowledgements<a class="headerlink" href="#acknowledgements" title="Link to this heading">¶</a></h2>
<p>The basic ErrorModel, RateErrorModel, and ListErrorModel classes were ported
from <em>ns-2</em> to <em>ns-3</em> in 2007.  The ReceiveListErrorModel was added at that
time.</p>
<p>The burst error model is due to Truc Anh N. Nguyen at the University of
Kansas (James P.G. Sterbenz &lt;<a class="reference external" href="mailto:jpgs&#37;&#52;&#48;ittc&#46;ku&#46;edu">jpgs<span>&#64;</span>ittc<span>&#46;</span>ku<span>&#46;</span>edu</a>&gt;, director, ResiliNets
Research Group (<a class="reference external" href="https://resilinets.org/">https://resilinets.org/</a>), Information and
Telecommunication Technology Center (ITTC) and Department of Electrical
Engineering and Computer Science, The University of Kansas Lawrence, KS USA).
Work supported in part by NSF FIND (Future Internet Design) Program
under grant CNS-0626918 (Postmodern Internet Architecture),
NSF grant CNS-1050226 (Multilayer Network Resilience Analysis and
Experimentation on GENI), US Department of Defense (DoD), and ITTC at
The University of Kansas.</p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">24.2. Error Model</a><ul>
<li><a class="reference internal" href="#model-description">24.2.1. Model Description</a><ul>
<li><a class="reference internal" href="#design">24.2.1.1. Design</a></li>
<li><a class="reference internal" href="#scope-and-limitations">24.2.1.2. Scope and Limitations</a></li>
<li><a class="reference internal" href="#references">24.2.1.3. References</a></li>
</ul>
</li>
<li><a class="reference internal" href="#usage">24.2.2. Usage</a><ul>
<li><a class="reference internal" href="#helpers">24.2.2.1. Helpers</a></li>
<li><a class="reference internal" href="#attributes">24.2.2.2. Attributes</a></li>
<li><a class="reference internal" href="#output">24.2.2.3. Output</a></li>
<li><a class="reference internal" href="#examples">24.2.2.4. Examples</a></li>
<li><a class="reference internal" href="#troubleshooting">24.2.2.5. Troubleshooting</a></li>
</ul>
</li>
<li><a class="reference internal" href="#validation">24.2.3. Validation</a></li>
<li><a class="reference internal" href="#acknowledgements">24.2.4. Acknowledgements</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="packets.html"
                          title="previous chapter"><span class="section-number">24.1. </span>Packets</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="network-overview.html"
                          title="next chapter"><span class="section-number">24.3. </span>Node and NetDevices Overview</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/error-model.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="network-overview.html" title="24.3. Node and NetDevices Overview"
             >next</a> |</li>
        <li class="right" >
          <a href="packets.html" title="24.1. Packets"
             >previous</a> |</li>
    <li class="navelem"><a href="">ns-3</a><span class="navelem">&nbsp;</span></li>
    
        <li class="nav-item nav-item-0"><a href="index.html">Models</a><span class="navelem">&nbsp;</span></li>

          <li class="nav-item nav-item-1"><a href="network.html" ><span class="section-number">24. </span>Network Module</a><span class="navelem">&nbsp;</span></li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">24.2. </span>Error Model</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2006-2019, ns-3 project.
      Last updated on Mar 20, 2024 11:48.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.6.
    </div>
  </body>
</html>