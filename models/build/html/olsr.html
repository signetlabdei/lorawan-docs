
<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>26. Optimized Link State Routing (OLSR) &#8212; Model Library</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/default.css?v=bb97339c" />
    <script src="_static/documentation_options.js?v=316584e3"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="27. OpenFlow switch support" href="openflow-switch.html" />
    <link rel="prev" title="25. Nix-Vector Routing Documentation" href="nix-vector-routing.html" />
  <link rel="stylesheet" type="text/css"
    href="_static/ns3_stylesheet.css" />
    <link rel="icon" type="image/ico"
      href="_static/favicon.ico" />

  <script type="text/javascript" src="_static/drop-down-menu.js"></script>
  <script type="text/javascript" src="_static/ns3_version.js"></script>
  <script type="text/javascript">var ns3_builder="html";</script>
  <script type="text/javascript" src="_static/ns3_links.js"></script>


  </head><body>
    <div id="titlearea">
      <table cellspacing="0" cellpadding="0" width="100%">
        <tbody>
          <tr style="height: 56px;">
            <td id="projectlogo">
              <a id="ns3_home1"
                 href="http://www.nsnam.org/">
                 <img alt="ns-3 Logo" style="background-color: unset;"
                      src="_static/ns-3-inverted-notext-small.png"/>
              </a>
            </td>
            <td id="projecttext">
              <div id="projectbrief">A Discrete-Event Network Simulator</div>
              <span id="projectnumber"><script type="text/javascript">document.write(ns3_version)</script></span>
            </td>

            <td id="ns3-menu">
              <div class="menu">
                <ul >
                  <li style="background-image:none">
                    <a id="ns3_home2"
                         href="http://www.nsnam.org/"
                         >&nbsp;&nbsp;Home</a>
                  </li>
                  <li><span
                        onmouseover="mopen('mTuts')"
                        onmouseout="mclosetime()"
                          >Tutorials &nbsp;&#x25BC;</span>
                      <div id="mTuts"
                          onmouseover="mcancelclosetime()"
                          onmouseout="mclosetime()">
                        <a id="ns3_tut"
                           href="/docs/tutorial/html/index.html"
                            >English</a><br/>
                      </div>
                  </li>
                  <li><span
                        onmouseover="mopen('mDocs')"
                        onmouseout="mclosetime()"
                          >Documentation &nbsp;&#x25BC;</span>
                      <div id="mDocs"
                          onmouseover="mcancelclosetime()"
                          onmouseout="mclosetime()">
                        <a id="ns3_ins"
                           href="/docs/installation/html/index.html"
                           >Installation</a><br/>
                        <a id="ns3_man"
                           href="/docs/manual/html/index.html"
                           >Manual</a><br/>
                        <a id="ns3_mod"
                           href="/docs/models/html/index.html"
                           >Models</a><br/>
                        <a id="ns3_con"
                           href="/docs/contributing/html/index.html"
                           >Contributing</a><br/>
                        <a id="ns3_wiki"
                           href="http://www.nsnam.org/wiki"
                           >Wiki</a><br/>
                      </div>
                  </li>
                  <li><span
                        onmouseover="mopen('mDev')"
                        onmouseout="mclosetime()"
                          >Development &nbsp;&#x25BC;</span>
                      <div id="mDev"
                          onmouseover="mcancelclosetime()"
                          onmouseout="mclosetime()">
                        <a id="ns3_api"
                           href="/docs/doxygen/html/index.html"
                           >API Docs</a><br/>
                        <a id="ns3_bugs"
                         href="https://gitlab.com/nsnam/ns-3-dev/-/issues"
                           >Issue Tracker</a><br/>
                        <a id="ns3_merge"
                         href="https://gitlab.com/nsnam/ns-3-dev/-/merge_requests"
                           >Merge Requests</a><br/>
                      </div>
                  </li>
                </ul>
              </div>
            </td>

            <td id="projectsection">
              <span style="margin-right:10px">Models</span>
            </td>
          </tr>
        </tbody>
      </table>
      <script  type="text/javascript">ns3_write_links()</script>
    </div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="openflow-switch.html" title="27. OpenFlow switch support"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="nix-vector-routing.html" title="25. Nix-Vector Routing Documentation"
             accesskey="P">previous</a> |</li>
    <li class="navelem"><a href="">ns-3</a><span class="navelem">&nbsp;</span></li>
    
        <li class="nav-item nav-item-0"><a href="index.html">Models</a><span class="navelem">&nbsp;</span></li>

        <li class="nav-item nav-item-this"><a href=""><span class="section-number">26. </span>Optimized Link State Routing (OLSR)</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="optimized-link-state-routing-olsr">
<h1><span class="section-number">26. </span>Optimized Link State Routing (OLSR)<a class="headerlink" href="#optimized-link-state-routing-olsr" title="Link to this heading">¶</a></h1>
<p>This model implements the base specification of the Optimized
Link State Routing (OLSR) protocol, which is a dynamic mobile ad hoc
unicast routing protocol.  It has been developed at the
University of Murcia (Spain) by Francisco J. Ros for NS-2, and was
ported to NS-3 by Gustavo Carneiro at INESC Porto (Portugal).</p>
<p>The implementation is based on OLSR Version 1 (<span class="target" id="index-0"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc3626.html"><strong>RFC 3626</strong></a> <a class="reference internal" href="#rfc3626" id="id1"><span>[rfc3626]</span></a>) and
it is <em>not</em> compliant with OLSR Version 2 (<span class="target" id="index-1"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc7181.html"><strong>RFC 7181</strong></a> <a class="reference internal" href="#rfc7181" id="id2"><span>[rfc7181]</span></a>) or any
of the Version 2 extensions.</p>
<section id="model-description">
<h2><span class="section-number">26.1. </span>Model Description<a class="headerlink" href="#model-description" title="Link to this heading">¶</a></h2>
<p>The source code for the OLSR model lives in the directory <cite>src/olsr</cite>.
As stated before, the model is based on <span class="target" id="index-2"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc3626.html"><strong>RFC 3626</strong></a> (<a class="reference internal" href="#rfc3626" id="id3"><span>[rfc3626]</span></a>). Moreover, many
design choices are based on the previous ns2 model.</p>
<section id="scope-and-limitations">
<h3><span class="section-number">26.1.1. </span>Scope and Limitations<a class="headerlink" href="#scope-and-limitations" title="Link to this heading">¶</a></h3>
<p>The model is for IPv4 only.</p>
<ul class="simple">
<li><p>Mostly compliant with OLSR as documented in <span class="target" id="index-3"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc3626.html"><strong>RFC 3626</strong></a> (<a class="reference internal" href="#rfc3626" id="id4"><span>[rfc3626]</span></a>),</p></li>
<li><p>The use of multiple interfaces was not supported by the NS-2 version, but is supported in NS-3;</p></li>
<li><p>OLSR does not respond to the routing event notifications corresponding to dynamic interface up and down (<code class="docutils literal notranslate"><span class="pre">ns3::RoutingProtocol::NotifyInterfaceUp</span></code> and <code class="docutils literal notranslate"><span class="pre">ns3::RoutingProtocol::NotifyInterfaceDown</span></code>) or address insertion/removal <code class="docutils literal notranslate"><span class="pre">ns3::RoutingProtocol::NotifyAddAddress</span></code> and <code class="docutils literal notranslate"><span class="pre">ns3::RoutingProtocol::NotifyRemoveAddress</span></code>).</p></li>
<li><p>Unlike the NS-2 version, does not yet support MAC layer feedback as described in <span class="target" id="index-4"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc3626.html"><strong>RFC 3626</strong></a> (<a class="reference internal" href="#rfc3626" id="id5"><span>[rfc3626]</span></a>);</p></li>
</ul>
<p>Host Network Association (HNA) is supported in this implementation
of OLSR. Refer to <code class="docutils literal notranslate"><span class="pre">examples/olsr-hna.cc</span></code> to see how the API
is used.</p>
</section>
<section id="references">
<h3><span class="section-number">26.1.2. </span>References<a class="headerlink" href="#references" title="Link to this heading">¶</a></h3>
<div role="list" class="citation-list">
<div class="citation" id="rfc3626" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>rfc3626<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id1">1</a>,<a role="doc-backlink" href="#id3">2</a>,<a role="doc-backlink" href="#id4">3</a>,<a role="doc-backlink" href="#id5">4</a>)</span>
<p><span class="target" id="index-5"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc3626.html"><strong>RFC 3626</strong></a> <em>Optimized Link State Routing</em></p>
</div>
<div class="citation" id="rfc7181" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id2">rfc7181</a><span class="fn-bracket">]</span></span>
<p><span class="target" id="index-6"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc7181.html"><strong>RFC 7181</strong></a> <em>The Optimized Link State Routing Protocol Version 2</em></p>
</div>
</div>
</section>
</section>
<section id="usage">
<h2><span class="section-number">26.2. </span>Usage<a class="headerlink" href="#usage" title="Link to this heading">¶</a></h2>
<p>The usage pattern is the one of all the Internet routing protocols.
Since OLSR is not installed by default in the Internet stack, it is necessary to
set it in the Internet Stack helper by using <code class="docutils literal notranslate"><span class="pre">InternetStackHelper::SetRoutingHelper</span></code></p>
<p>Typically, OLSR is enabled in a main program by use of an OlsrHelper class that
installs OLSR into an Ipv4ListRoutingProtocol object. The following sample
commands will enable OLSR in a simulation using this helper class along with
some other routing helper objects. The setting of priority value 10, ahead of
the staticRouting priority of 0, means that OLSR will be consulted for a route
before the node’s static routing table.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">NodeContainer</span> <span class="n">c</span><span class="p">:</span>
<span class="o">...</span>
<span class="o">//</span> <span class="n">Enable</span> <span class="n">OLSR</span>
<span class="n">NS_LOG_INFO</span><span class="p">(</span><span class="s2">&quot;Enabling OLSR Routing.&quot;</span><span class="p">);</span>
<span class="n">OlsrHelper</span> <span class="n">olsr</span><span class="p">;</span>

<span class="n">Ipv4StaticRoutingHelper</span> <span class="n">staticRouting</span><span class="p">;</span>

<span class="n">Ipv4ListRoutingHelper</span> <span class="nb">list</span><span class="p">;</span>
<span class="nb">list</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">staticRouting</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
<span class="nb">list</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">olsr</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>

<span class="n">InternetStackHelper</span> <span class="n">internet</span><span class="p">;</span>
<span class="n">internet</span><span class="o">.</span><span class="n">SetRoutingHelper</span><span class="p">(</span><span class="nb">list</span><span class="p">);</span>
<span class="n">internet</span><span class="o">.</span><span class="n">Install</span><span class="p">(</span><span class="n">c</span><span class="p">);</span>
</pre></div>
</div>
<p>Once installed,the OLSR “main interface” can be set with the SetMainInterface()
command. If the user does not specify a main address, the protocol will select
the first primary IP address that it finds, starting first the loopback
interface and then the next non-loopback interface found, in order of Ipv4
interface index. The loopback address of 127.0.0.1 is not selected. In addition,
a number of protocol constants are defined in olsr-routing-protocol.cc.</p>
<p>Olsr is started at time zero of the simulation, based on a call to
Object::Start() that eventually calls OlsrRoutingProtocol::DoStart(). Note:  a
patch to allow the user to start and stop the protocol at other times would be
welcome.</p>
<section id="examples">
<h3><span class="section-number">26.2.1. </span>Examples<a class="headerlink" href="#examples" title="Link to this heading">¶</a></h3>
<p>The examples are in the <code class="docutils literal notranslate"><span class="pre">src/olsr/examples/</span></code> directory. However, many other examples exists in the
general examples directory, e.g., <code class="docutils literal notranslate"><span class="pre">examples/routing/manet-routing-compare.cc</span></code>.</p>
<p>For specific examples of the HNA feature, see the examples in <code class="docutils literal notranslate"><span class="pre">src/olsr/examples/</span></code>.</p>
</section>
<section id="helpers">
<h3><span class="section-number">26.2.2. </span>Helpers<a class="headerlink" href="#helpers" title="Link to this heading">¶</a></h3>
<p>A helper class for OLSR has been written.  After an IPv4 topology
has been created and unique IP addresses assigned to each node, the
simulation script writer can call one of three overloaded functions
with different scope to enable OLSR: <code class="docutils literal notranslate"><span class="pre">ns3::OlsrHelper::Install</span>
<span class="pre">(NodeContainer</span> <span class="pre">container)</span></code>; <code class="docutils literal notranslate"><span class="pre">ns3::OlsrHelper::Install</span> <span class="pre">(Ptr&lt;Node&gt;</span>
<span class="pre">node)</span></code>; or <code class="docutils literal notranslate"><span class="pre">ns3::OlsrHelper::InstallAll</span> <span class="pre">()</span></code></p>
</section>
<section id="attributes">
<h3><span class="section-number">26.2.3. </span>Attributes<a class="headerlink" href="#attributes" title="Link to this heading">¶</a></h3>
<p>In addition, the behavior of OLSR can be modified by changing certain
attributes.  The method <code class="docutils literal notranslate"><span class="pre">ns3::OlsrHelper::Set</span> <span class="pre">()</span></code> can be used
to set OLSR attributes.  These include HelloInterval, TcInterval,
MidInterval, Willingness.  Other parameters are defined as macros
in <code class="docutils literal notranslate"><span class="pre">olsr-routing-protocol.cc</span></code>.</p>
<p>The list of configurabel attributes is:</p>
<ul class="simple">
<li><p>HelloInterval (time, default 2s), HELLO messages emission interval.</p></li>
<li><p>TcInterval (time, default 5s), TC messages emission interval.</p></li>
<li><p>MidInterval (time, default 5s), MID messages emission interval.</p></li>
<li><p>HnaInterval (time, default 5s), HNA messages emission interval.</p></li>
<li><p>Willingness (enum, default olsr::Willingness::DEFAULT), Willingness of a node to carry and forward traffic for other nodes.</p></li>
</ul>
</section>
<section id="tracing">
<h3><span class="section-number">26.2.4. </span>Tracing<a class="headerlink" href="#tracing" title="Link to this heading">¶</a></h3>
<p>The available traces are:</p>
<ul class="simple">
<li><p>Rx: Receive OLSR packet.</p></li>
<li><p>Tx: Send OLSR packet.</p></li>
<li><p>RoutingTableChanged: The OLSR routing table has changed.</p></li>
</ul>
</section>
<section id="caveats">
<h3><span class="section-number">26.2.5. </span>Caveats<a class="headerlink" href="#caveats" title="Link to this heading">¶</a></h3>
<p>Presently, OLSR is limited to use with an Ipv4ListRouting object, and does not
respond to dynamic changes to a device’s IP address or link up/down
notifications; i.e. the topology changes are due to loss/gain of connectivity
over a wireless channel.</p>
<p>The code does not present any known issue.</p>
</section>
</section>
<section id="validation">
<h2><span class="section-number">26.3. </span>Validation<a class="headerlink" href="#validation" title="Link to this heading">¶</a></h2>
<p>The code validationhas been done through Wireshark message compliance and unit testings.</p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">26. Optimized Link State Routing (OLSR)</a><ul>
<li><a class="reference internal" href="#model-description">26.1. Model Description</a><ul>
<li><a class="reference internal" href="#scope-and-limitations">26.1.1. Scope and Limitations</a></li>
<li><a class="reference internal" href="#references">26.1.2. References</a></li>
</ul>
</li>
<li><a class="reference internal" href="#usage">26.2. Usage</a><ul>
<li><a class="reference internal" href="#examples">26.2.1. Examples</a></li>
<li><a class="reference internal" href="#helpers">26.2.2. Helpers</a></li>
<li><a class="reference internal" href="#attributes">26.2.3. Attributes</a></li>
<li><a class="reference internal" href="#tracing">26.2.4. Tracing</a></li>
<li><a class="reference internal" href="#caveats">26.2.5. Caveats</a></li>
</ul>
</li>
<li><a class="reference internal" href="#validation">26.3. Validation</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="nix-vector-routing.html"
                          title="previous chapter"><span class="section-number">25. </span>Nix-Vector Routing Documentation</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="openflow-switch.html"
                          title="next chapter"><span class="section-number">27. </span>OpenFlow switch support</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/olsr.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="openflow-switch.html" title="27. OpenFlow switch support"
             >next</a> |</li>
        <li class="right" >
          <a href="nix-vector-routing.html" title="25. Nix-Vector Routing Documentation"
             >previous</a> |</li>
    <li class="navelem"><a href="">ns-3</a><span class="navelem">&nbsp;</span></li>
    
        <li class="nav-item nav-item-0"><a href="index.html">Models</a><span class="navelem">&nbsp;</span></li>

        <li class="nav-item nav-item-this"><a href=""><span class="section-number">26. </span>Optimized Link State Routing (OLSR)</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2006-2019.
      Last updated on Nov 29, 2023 13:25.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.6.
    </div>
  </body>
</html>