

<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <title>Creating Documentation &#8212; Manual</title>
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Enabling Subsets of ns-3 Modules" href="enable-modules.html" />
    <link rel="prev" title="Adding a New Module to ns-3" href="new-modules.html" />
  <link rel="stylesheet" type="text/css"
    href="_static/ns3_stylesheet.css" />
    <link rel="icon" type="image/ico" 
      href="_static/favicon.ico" />

  <script type="text/javascript" src="_static/drop-down-menu.js"></script>
  <script type="text/javascript" src="_static/ns3_version.js"></script>
  <script type="text/javascript">var ns3_builder="html";</script>
  <script type="text/javascript" src="_static/ns3_links.js"></script>
      

  </head><body>
  <div id="titlearea">
    <table cellspacing="0" cellpadding="0" width="100%">
      <tbody>
	<tr style="height: 56px;">
	  <td id="projectlogo">
	    <a id="ns3_home1"
	       href="http://www.nsnam.org/">
	       <img alt="ns-3 Logo"
		    src="_static/ns-3-inverted-notext-small.png"/>
	    </a>
	  </td>
	  <td id="projecttext">
	    <div id="projectbrief">A Discrete-Event Network Simulator</div>
	      <span id="projectnumber"><script type="text/javascript">document.write(ns3_version)</script></span>
	  </td>
	      
	  <td id="ns3-menu">
	    <div class="menu">
	      <ul >
	        <li><a id="ns3_home2"
		       href="http://www.nsnam.org/"
		       >&nbsp;&nbsp;Home</a>
	        </li>
	        <li><span
		      onmouseover="mopen('mTuts')" 
		      onmouseout="mclosetime()"
			>Tutorials &nbsp;&#x25BC;</span>
		    <div id="mTuts" 
		        onmouseover="mcancelclosetime()" 
		        onmouseout="mclosetime()">
		      <a id="ns3_tut"
			 href="/docs/tutorial/html/index.html"
			  >English</a><br/>
	        </li>
	        <li><span
		      onmouseover="mopen('mDocs')" 
		      onmouseout="mclosetime()"
			>Docs &nbsp;&nbsp;&nbsp;&#x25BC;</span>
		    <div id="mDocs"
		        onmouseover="mcancelclosetime()" 
		        onmouseout="mclosetime()">
		      <a id="ns3_wiki"
			 href="http://www.nsnam.org/wiki"
			 >Wiki</a><br/>
		      <a id="ns3_man"
			 href="/docs/manual/html/index.html"
			 >Manual</a><br/>
		      <a id="ns3_mod"
			 href="/docs/models/html/index.html"
			 >Models</a><br/>
	        </li>
	        <li><span
		      onmouseover="mopen('mDev')" 
		      onmouseout="mclosetime()"
			>Develop &#x25BC;</span>
		    <div id="mDev"
		        onmouseover="mcancelclosetime()" 
		        onmouseout="mclosetime()">
		      <a id="ns3_api"
			 href="/docs/doxygen/html/index.html"
			 >API</a><br/>
		      <a id="ns3_bugs"
		       href="http://www.nsnam.org/bugzilla/">Bugs</a>
	        </li>
	      </ul>
	    </div>
	  </td>
	  <td id="projectsection">
	    <span style="margin-right:10px">Manual</span>
	  </td>
	</tr>
      </tbody>
    </table>
    <script  type="text/javascript">ns3_write_links()</script>
  </div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="enable-modules.html" title="Enabling Subsets of ns-3 Modules"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="new-modules.html" title="Adding a New Module to ns-3"
             accesskey="P">previous</a> |</li>
    <li class="navelem"><a href="">ns-3</a><span class="navelem">&nbsp;</span></li>
    
        <li class="nav-item nav-item-0"><a href="index.html">Manual</a><span class="navelem">&nbsp;</span></li>

          <li class="nav-item nav-item-1"><a href="support.html" accesskey="U">Support</a><span class="navelem">&nbsp;</span></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="creating-documentation">
<h1>Creating Documentation<a class="headerlink" href="#creating-documentation" title="Permalink to this headline">¶</a></h1>
<p><em>ns-3</em> supplies two kinds of documentation:  expository “user-guide”-style
chapters, and source code API documentation.</p>
<p>The “user-guide” chapters are written by hand in <a class="reference external" href="http://sphinx-doc.org/rest.html">reStructuredText</a>
format (<code class="docutils literal notranslate"><span class="pre">.rst</span></code>), which is processed by the Python documentation
system <a class="reference external" href="http://sphinx-doc.org/">Sphinx</a> to generate web pages and pdf files.
The API documentation is generated from the source code itself,
using <a class="reference external" href="http://www.doxygen.org/">Doxygen</a>, to generate cross-linked web pages.
Both of these are important:  the Sphinx chapters explain the <em>why</em>
and overview of using a model; the API documentation explains the
<em>how</em> details.</p>
<p>This chapter gives a quick overview of these
tools, emphasizing preferred usage and customizations for <em>ns-3</em>.</p>
<p>To build all the standard documentation:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ./waf docs
</pre></div>
</div>
<p>For more specialized options, read on.</p>
<div class="section" id="documenting-with-sphinx">
<h2>Documenting with Sphinx<a class="headerlink" href="#documenting-with-sphinx" title="Permalink to this headline">¶</a></h2>
<p>We use <a class="reference external" href="http://sphinx-doc.org/">Sphinx</a> to generate expository chapters describing
the design and usage of each module.  Right now you are reading the
<a class="reference internal" href="#"><span class="doc">Documentation</span></a> Chapter.
If you are reading the html version, the
<a class="reference external" href="_sources/documentation.txt">Show Source</a> link in the sidebar
will show you the reStructuredText source for this chapter.</p>
<div class="section" id="adding-new-chapters">
<h3>Adding New Chapters<a class="headerlink" href="#adding-new-chapters" title="Permalink to this headline">¶</a></h3>
<p>Adding a new chapter takes three steps (described in more detail below):</p>
<ol class="arabic simple">
<li><p>Choose <a class="reference internal" href="#where">Where?</a> the documentation file(s) will live.</p></li>
<li><p><a class="reference internal" href="#link">Link</a> from an existing page to the new documentation.</p></li>
<li><p>Add the new file to the <a class="reference internal" href="#makefile">Makefile</a>.</p></li>
</ol>
<div class="section" id="where">
<h4>Where?<a class="headerlink" href="#where" title="Permalink to this headline">¶</a></h4>
<p>Documentation for a specific module, <code class="docutils literal notranslate"><span class="pre">foo</span></code>, should normally go in
<code class="docutils literal notranslate"><span class="pre">src/foo/doc/</span></code>.  For example <code class="docutils literal notranslate"><span class="pre">src/foo/doc/foo.rst</span></code> would be the
top-level document for the module.  The <code class="docutils literal notranslate"><span class="pre">src/create-module.py</span></code> script
will create this file for you.</p>
<p>Some models require several <code class="docutils literal notranslate"><span class="pre">.rst</span></code> files, and figures; these should
all go in the <code class="docutils literal notranslate"><span class="pre">src/foo/doc/</span></code> directory.  The docs are actually built
by a Sphinx Makefile.  For especially involved
documentation, it may be helpful to have a local <code class="docutils literal notranslate"><span class="pre">Makefile</span></code>
in the <code class="docutils literal notranslate"><span class="pre">src/foo/doc/</span></code> directory to
simplify building the documentation for this module
(<a class="reference external" href="http://www.nsnam.org/docs/models/html/antenna.html">Antenna</a> is an example).  Setting this up
is not particularly hard, but is beyond the scope of this chapter.</p>
<p>In some cases, documentation spans multiple models; the
<a class="reference external" href="http://www.nsnam.org/docs/models/html/network.html">Network</a> chapter is an example.  In these cases
adding the <code class="docutils literal notranslate"><span class="pre">.rst</span></code> files directly to <code class="docutils literal notranslate"><span class="pre">doc/models/source/</span></code> might
be appropriate.</p>
</div>
<div class="section" id="link">
<h4>Link<a class="headerlink" href="#link" title="Permalink to this headline">¶</a></h4>
<p>Sphinx has to know <em>where</em> your new chapter should appear.  In most
cases, a new model chapter should appear the in <cite>Models</cite> book.
To add your chapter there, edit <code class="docutils literal notranslate"><span class="pre">doc/models/source/index.rst</span></code></p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">toctree</span><span class="p">::</span>
   <span class="nc">:maxdepth:</span> 1

  organization
  animation
  antenna
  aodv
  applications
<span class="cp">  ...</span>
</pre></div>
</div>
<p>Add the name of your document (without the <code class="docutils literal notranslate"><span class="pre">.rst</span></code> extension) to
this list.  Please keep the Model chapters in alphabetical order,
to ease visual scanning for specific chapters.</p>
</div>
<div class="section" id="makefile">
<h4>Makefile<a class="headerlink" href="#makefile" title="Permalink to this headline">¶</a></h4>
<p>You also have to add your document to the appropriate <code class="docutils literal notranslate"><span class="pre">Makefile</span></code>,
so <code class="docutils literal notranslate"><span class="pre">make</span></code> knows to check it for updates.  The Models book Makefile
is <code class="docutils literal notranslate"><span class="pre">doc/models/Makefile</span></code>, the Manual book Makefile is
<code class="docutils literal notranslate"><span class="pre">doc/manual/Makefile</span></code>.</p>
<div class="highlight-make notranslate"><div class="highlight"><pre><span></span><span class="c"># list all model library .rst files that need to be copied to $SOURCETEMP</span>
<span class="nv">SOURCES</span> <span class="o">=</span> <span class="se">\</span>
        source/conf.py <span class="se">\</span>
        source/_static <span class="se">\</span>
        source/index.rst <span class="se">\</span>
        source/replace.txt <span class="se">\</span>
        source/organization.rst <span class="se">\</span>
        ...
        <span class="k">$(</span>SRC<span class="k">)</span>/antenna/doc/source/antenna.rst <span class="se">\</span>
        ...
</pre></div>
</div>
<p>You add your <code class="docutils literal notranslate"><span class="pre">.rst</span></code> files to the <code class="docutils literal notranslate"><span class="pre">SOURCES</span></code> variable.  To add figures,
read the comments in the <code class="docutils literal notranslate"><span class="pre">Makefile</span></code> to see which variable should contain
your image files.  Again, please keep these in alphabetical order.</p>
</div>
</div>
<div class="section" id="building-sphinx-docs">
<h3>Building Sphinx Docs<a class="headerlink" href="#building-sphinx-docs" title="Permalink to this headline">¶</a></h3>
<p>Building the Sphinx documentation is pretty simple.
To build all the Sphinx documentation:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ./waf sphinx
</pre></div>
</div>
<p>To build just the Models documentation:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ make -C doc/models html
</pre></div>
</div>
<p>To see the generated documentation point your browser at
<code class="docutils literal notranslate"><span class="pre">doc/models/build/html</span></code>.</p>
<p>As you can see, Sphinx uses Make to guide the process.
The default target builds all enabled output forms, which in
<em>ns-3</em> are the multi-page <code class="docutils literal notranslate"><span class="pre">html</span></code>, single-page <code class="docutils literal notranslate"><span class="pre">singlehtml</span></code>, and pdf
(<code class="docutils literal notranslate"><span class="pre">latex</span></code>).  To build just the multi-page html, you add the <code class="docutils literal notranslate"><span class="pre">html</span></code> target:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ make -C doc/models html
</pre></div>
</div>
<p>This can be helpful to reduce the build time (and the size of the
build chatter) as you are writing your chapter.</p>
<p>Before committing your documentation to the repo, please check
that it builds without errors or warnings.  The build process
generates lots of output (mostly normal chatter from LaTeX),
which can make it difficult to see if there are any Sphinx
warnings or errors.  To find important warnings and errors
build just the <code class="docutils literal notranslate"><span class="pre">html</span></code> version, then search the build log
for <code class="docutils literal notranslate"><span class="pre">warning</span></code> or <code class="docutils literal notranslate"><span class="pre">error</span></code>.</p>
</div>
<div class="section" id="ns3-specifics">
<h3><em>ns-3</em> Specifics<a class="headerlink" href="#ns3-specifics" title="Permalink to this headline">¶</a></h3>
<p>The Sphinx <a class="reference external" href="http://sphinx-doc.org/contents.html">documentation</a> and <a class="reference external" href="http://sphinx-doc.org/tutorial.html">tutorial</a> are pretty good.  We won’t duplicate
the basics here, instead focusing on preferred usage for <em>ns-3</em>.</p>
<ul>
<li><p>Start documents with these two lines:</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">include</span><span class="p">::</span> replace.txt
<span class="p">..</span> <span class="ow">highlight</span><span class="p">::</span> cpp
</pre></div>
</div>
<p>The first line enables some simple replacements.  For example,
typing <code class="docutils literal notranslate"><span class="pre">|ns3|</span></code> renders as <em>ns-3</em>.
The second sets the default source code highlighting language explicitly
for the file, since the parser guess isn’t always accurate.
(It’s also possible to set the language explicitly for a single code block,
see below.)</p>
</li>
<li><p>Sections:</p>
<p>Sphinx is pretty liberal about marking section headings.  By convention,
we prefer this hierarchy:</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span><span class="cp">.. heading hierarchy:</span>
<span class="cp">   ------------- Chapter</span>
<span class="cp">   ************* Section (#.#)</span>
<span class="cp">   ============= Subsection (#.#.#)</span>
<span class="cp">   ############# Sub-subsection</span>
</pre></div>
</div>
</li>
<li><p>Syntax Highlighting:</p>
<p>To use the default syntax highlighter, simply start a sourcecode block:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 51%" />
<col style="width: 49%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Sphinx Source</p></th>
<th class="head"><p>Rendered Output</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-rest notranslate"><div class="highlight"><pre><span></span>The <span class="s">``Frobnitz``</span> is accessed by<span class="se">::</span>

<span class="s">  Foo::Frobnitz frob;</span>
<span class="s">  frob.Set (...);</span>
</pre></div>
</div>
</td>
<td><p>The <code class="docutils literal notranslate"><span class="pre">Frobnitz</span></code> is accessed by:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">Foo</span><span class="o">::</span><span class="n">Frobnitz</span> <span class="n">frob</span><span class="p">;</span>
<span class="n">frob</span><span class="p">.</span><span class="n">Set</span> <span class="p">(...);</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<p>To use a specific syntax highlighter, for example, <code class="docutils literal notranslate"><span class="pre">bash</span></code> shell commands:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 51%" />
<col style="width: 49%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Sphinx Source</p></th>
<th class="head"><p>Rendered Output</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-rest notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">sourcecode</span><span class="p">::</span> bash

   $ ls
</pre></div>
</div>
</td>
<td><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ls
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</li>
<li><p>Shorthand Notations:</p>
<p>These shorthands are defined:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 51%" />
<col style="width: 49%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Sphinx Source</p></th>
<th class="head"><p>Rendered Output</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-rest notranslate"><div class="highlight"><pre><span></span>|ns3|
</pre></div>
</div>
</td>
<td><p><em>ns-3</em></p></td>
</tr>
<tr class="row-odd"><td><div class="highlight-rest notranslate"><div class="highlight"><pre><span></span>|ns2|
</pre></div>
</div>
</td>
<td><p><em>ns-2</em></p></td>
</tr>
<tr class="row-even"><td><div class="highlight-rest notranslate"><div class="highlight"><pre><span></span>|check|
</pre></div>
</div>
</td>
<td><p><img class="math" src="_images/math/eb43d5592546eaaff233c50b390d221dc5c75cd9.png" alt="\checkmark"/></p></td>
</tr>
<tr class="row-odd"><td><div class="highlight-rest notranslate"><div class="highlight"><pre><span></span><span class="na">:rfc:</span><span class="nv">`6282`</span>
</pre></div>
</div>
</td>
<td><p><span class="target" id="index-0"></span><a class="rfc reference external" href="https://tools.ietf.org/html/rfc6282.html"><strong>RFC 6282</strong></a></p></td>
</tr>
</tbody>
</table>
</li>
</ul>
</div>
</div>
<div class="section" id="documenting-with-doxygen">
<h2>Documenting with Doxygen<a class="headerlink" href="#documenting-with-doxygen" title="Permalink to this headline">¶</a></h2>
<p>We use <a class="reference external" href="http://www.doxygen.org/">Doxygen</a> to generate <a class="reference external" href="https://www.nsnam.org/docs/doxygen">browsable</a> API documentation.  Doxygen
provides a number of useful features:</p>
<ul class="simple">
<li><p>Summary table of all class members.</p></li>
<li><p>Graphs of inheritance and collaboration for all classes.</p></li>
<li><p>Links to the source code implementing each function.</p></li>
<li><p>Links to every place a member is used.</p></li>
<li><p>Links to every object used in implementing a function.</p></li>
<li><p>Grouping of related classes, such as all the classes related to
a specific protocol.</p></li>
</ul>
<p>In addition, we use the <code class="docutils literal notranslate"><span class="pre">TypeId</span></code> system to add to the documentation
for every class</p>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">Config</span></code> paths by which such objects can be reached.</p></li>
<li><p>Documentation for any <code class="docutils literal notranslate"><span class="pre">Attributes</span></code>, including <code class="docutils literal notranslate"><span class="pre">Attributes</span></code>
defined in parent classes.</p></li>
<li><p>Documentation for any <code class="docutils literal notranslate"><span class="pre">Trace</span></code> sources defined by the class.</p></li>
<li><p>The memory footprint for each class.</p></li>
</ul>
<p>Doxygen operates by scanning the source code, looking for
specially marked comments.  It also creates a cross reference,
indicating <em>where</em> each file, class, method, and variable is used.</p>
<div class="section" id="preferred-style">
<h3>Preferred Style<a class="headerlink" href="#preferred-style" title="Permalink to this headline">¶</a></h3>
<p>The preferred style for Doxygen comments is the JavaDoc style:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cm">/**</span>
<span class="cm"> *  Brief description of this class or method.</span>
<span class="cm"> *  Adjacent lines become a single paragraph.</span>
<span class="cm"> *</span>
<span class="cm"> *  Longer description, with lots of details.</span>
<span class="cm"> *</span>
<span class="cm"> *  Blank lines separate paragraphs.</span>
<span class="cm"> *</span>
<span class="cm"> *  Explain what the class or method does, using what algorithm.</span>
<span class="cm"> *  Explain the units of arguments and return values.</span>
<span class="cm"> *</span>
<span class="cm"> *  \note Note any limitations or gotchas.</span>
<span class="cm"> *</span>
<span class="cm"> *  (For functions with arguments or return valued:)</span>
<span class="cm"> *  \param [in] foo Brief noun phrase describing this argument. Note</span>
<span class="cm"> *                  that we indicate if the argument is input,</span>
<span class="cm"> *                  output, or both.</span>
<span class="cm"> *  \param [in,out] bar Note Sentence case, and terminating period.</span>
<span class="cm"> *  \param [in] baz Indicate boolean values with \c true or \c false.</span>
<span class="cm"> *  \return Brief noun phrase describing the value.</span>
<span class="cm"> *</span>
<span class="cm"> *  \internal</span>
<span class="cm"> *</span>
<span class="cm"> *  You can also discuss internal implementation details.</span>
<span class="cm"> *  Understanding this material shouldn&#39;t be necessary to using</span>
<span class="cm"> *  the class or method.</span>
<span class="cm"> */</span>
 <span class="kt">void</span> <span class="nf">ExampleFunction</span> <span class="p">(</span><span class="k">const</span> <span class="kt">int</span> <span class="n">foo</span><span class="p">,</span> <span class="kt">double</span> <span class="o">&amp;</span> <span class="n">bar</span><span class="p">,</span> <span class="k">const</span> <span class="kt">bool</span> <span class="n">baz</span><span class="p">);</span>
</pre></div>
</div>
<p>In this style the Doxygen comment block begins with two `*’ characters:
<code class="docutils literal notranslate"><span class="pre">/**</span></code>, and precedes the item being documented.</p>
<p>For items needing only a brief description, either of these short forms
is appropriate:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cm">/** Destructor implementation. */</span>
<span class="kt">void</span> <span class="nf">DoDispose</span> <span class="p">();</span>

<span class="kt">int</span> <span class="n">m_count</span><span class="p">;</span>  <span class="c1">//!&lt; Count of ...</span>
</pre></div>
</div>
<p>Note the special form of the end of line comment, <code class="docutils literal notranslate"><span class="pre">//!&lt;</span></code>, indicating
that it refers to the <em>preceding</em> item.</p>
<p>Some items to note:</p>
<ul class="simple">
<li><p>Use sentence case, including the initial capital.</p></li>
<li><p>Use punctuation, especially `.’s at the end of sentences or phrases.</p></li>
<li><dl class="simple">
<dt>The <code class="docutils literal notranslate"><span class="pre">\brief</span></code> tag is not needed; the first sentence will be</dt><dd><p>used as the brief description.</p>
</dd>
</dl>
</li>
</ul>
<p>Every class, method, typedef, member variable, function argument
and return value should be documented in all source code files
which form the formal API and implementation for <em>ns-3</em>, such as
<code class="docutils literal notranslate"><span class="pre">src/&lt;module&gt;/model/*</span></code>, <code class="docutils literal notranslate"><span class="pre">src/&lt;module&gt;/helper/*</span></code> and
<code class="docutils literal notranslate"><span class="pre">src/&lt;module&gt;/utils/*</span></code>.  Documentation for items in <code class="docutils literal notranslate"><span class="pre">src/&lt;module&gt;/test/*</span></code>
and <code class="docutils literal notranslate"><span class="pre">src/&lt;module&gt;/examples/*</span></code> is preferred, but not required.</p>
</div>
<div class="section" id="useful-features">
<h3>Useful Features<a class="headerlink" href="#useful-features" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>Inherited members will automatically inherit docs from the parent,
(but can be replaced by local documentation).</p>
<ol class="arabic">
<li><p>Document the base class.</p></li>
<li><p>In the sub class mark inherited functions with an ordinary comment:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// Inherited methods</span>
<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">FooBar</span> <span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="k">virtual</span> <span class="kt">int</span> <span class="nf">BarFoo</span> <span class="p">(</span><span class="kt">double</span> <span class="n">baz</span><span class="p">);</span>
</pre></div>
</div>
<p>Note that the signatures have to match exactly, so include the formal
argument <code class="docutils literal notranslate"><span class="pre">(void)</span></code></p>
<p>This doesn’t work for static functions; see <code class="docutils literal notranslate"><span class="pre">GetTypeId</span></code>, below, for an
example.</p>
</li>
</ol>
</li>
</ul>
</div>
<div class="section" id="building-doxygen-docs">
<h3>Building Doxygen Docs<a class="headerlink" href="#building-doxygen-docs" title="Permalink to this headline">¶</a></h3>
<p>Building the Doxygen documentation is pretty simple:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ./waf doxygen
</pre></div>
</div>
<p>This builds using the default configuration, which generates
documentation sections for <em>all</em> items, even if they do not have
explicit comment documentation blocks.  This has the effect of
suppressing warnings for undocumented items, but makes sure everything
appears in the generated output, which is usually what you want for
general use.  Note that we generate documentation even for modules
which are disabled, to make it easier to see all the features
available in <em>ns-3</em>.</p>
<p>When writing documentation, it’s often more useful to see which items
are generating warnings, typically about missing documentation.  To
see the full warnings list, use the <code class="docutils literal notranslate"><span class="pre">doc/doxygen.warnings.report.sh</span></code>
script:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ doc/doxygen.warnings.report.sh

doxygen.warnings.report.sh:
Building and running print-introspected-doxygen...done.
Rebuilding doxygen <span class="o">(</span>v1.8.10<span class="o">)</span> docs with full errors...done.


Report of Doxygen warnings
----------------------------------------

<span class="o">(</span>All counts are lower bounds.<span class="o">)</span>

Warnings by module/directory:

Count Directory
----- ----------------------------------
<span class="m">3414</span> src/lte/model
<span class="m">1532</span> src/wimax/model
 <span class="m">825</span> src/lte/test
....
   <span class="m">1</span> src/applications/test
 <span class="m">97</span> additional undocumented parameters.
----------------------------------------
 <span class="m">12460</span> total warnings
   <span class="m">100</span> directories with warnings


Warnings by file <span class="o">(</span>alphabetical<span class="o">)</span>

Count File
----- ----------------------------------
  <span class="m">15</span> examples/routing/manet-routing-compare.cc
  <span class="m">26</span> examples/stats/wifi-example-apps.h
  <span class="m">12</span> examples/tutorial/fifth.cc
....
  <span class="m">17</span> utils/python-unit-tests.py
----------------------------------------
   <span class="m">771</span> files with warnings


Warnings by file <span class="o">(</span>numerical<span class="o">)</span>

Count File
----- ----------------------------------
 <span class="m">273</span> src/lte/model/lte-rrc-sap.h
 <span class="m">272</span> src/core/model/simulator.h
 <span class="m">221</span> src/netanim/model/animation-interface.h
....
   <span class="m">1</span> src/wimax/model/ul-job.cc
----------------------------------------
   <span class="m">771</span> files with warnings


Doxygen Warnings Summary
----------------------------------------
   <span class="m">100</span> directories
   <span class="m">771</span> files
 <span class="m">12460</span> warnings
</pre></div>
</div>
<p>(This snippet has <em>a lot</em> of lines suppressed!)</p>
<p>The script modifies the configuration to show all warnings, and to
shorten the run time.  (It shortens the run time primarily by
disabling creation of diagrams, such as call trees, and doesn’t
generate documentation for undocumented items, in order to trigger the
warnings.)  As you can see, at this writing we have <em>a lot</em> of
undocumented items.  The report summarizes warnings by module
<code class="docutils literal notranslate"><span class="pre">src/*/*</span></code>, and by file, in alphabetically and numerical order.</p>
<p>The script has a few options to pare things down and make the output more
manageable.  For help, use the <code class="docutils literal notranslate"><span class="pre">-h</span></code> option.  Having run it once
to do the Doxygen build and generate the full warnings log,
you can reprocess the log file with various “filters,”
without having to do the full Doxygen build again by
using the <code class="docutils literal notranslate"><span class="pre">-s</span></code> option.  You can exclude warnings
from <code class="docutils literal notranslate"><span class="pre">*/examples/*</span></code> files (<code class="docutils literal notranslate"><span class="pre">-e</span></code> option), and/or <code class="docutils literal notranslate"><span class="pre">*/test/*</span></code> files
(<code class="docutils literal notranslate"><span class="pre">-t</span></code>).  Just to be clear, all of the filter options do the complete
fast doxygen build; they just filter doxygen log and warnings output.</p>
<p>Perhaps the most useful option when writing documentation comments
is <code class="docutils literal notranslate"><span class="pre">-m</span> <span class="pre">&lt;module&gt;</span></code>, which will limit the report to just files matching
<code class="docutils literal notranslate"><span class="pre">src/&lt;module&gt;/*</span></code>, and follow the report with the actual warning lines.
Combine with <code class="docutils literal notranslate"><span class="pre">-et</span></code> and you can focus on the warnings that are most
urgent in a single module:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ doc/doxygen.warnings.report.sh -m mesh/helper
...
Doxygen Warnings Summary
----------------------------------------
  <span class="m">1</span> directories
  <span class="m">3</span> files
<span class="m">149</span> warnings


Filtered <span class="nv">Warnings</span>
<span class="o">========================================</span>
src/mesh/helper/dot11s/dot11s-installer.h:72: warning: Member m_root <span class="o">(</span>variable<span class="o">)</span> of class ns3::Dot11sStack is not documented.
src/mesh/helper/dot11s/dot11s-installer.h:35: warning: <span class="k">return</span> <span class="nb">type</span> of member ns3::Dot11sStack::GetTypeId is not documented
src/mesh/helper/dot11s/dot11s-installer.h:56: warning: <span class="k">return</span> <span class="nb">type</span> of member ns3::Dot11sStack::InstallStack is not documented
src/mesh/helper/flame/lfame-installer.h:40: warning: Member GetTypeId<span class="o">()</span> <span class="o">(</span><span class="k">function</span><span class="o">)</span> of class ns3::FlameStack is not documented.
src/mesh/helper/flame/flame-installer.h:60: warning: <span class="k">return</span> <span class="nb">type</span> of member ns3::FlameStack::InstallStack is not documented
src/mesh/helper/mesh-helper.h:213: warning: Member m_nInterfaces <span class="o">(</span>variable<span class="o">)</span> of class ns3::MeshHelper is not documented.
src/mesh/helper/mesh-helper.h:214: warning: Member m_spreadChannelPolicy <span class="o">(</span>variable<span class="o">)</span> of class ns3::MeshHelper is not documented.
src/mesh/helper/mesh-helper.h:215: warning: Member m_stack <span class="o">(</span>variable<span class="o">)</span> of class ns3::MeshHelper is not documented.
src/mesh/helper/mesh-helper.h:216: warning: Member m_stackFactory <span class="o">(</span>variable<span class="o">)</span> of class ns3::MeshHelper is not documented.
src/mesh/helper/mesh-helper.h:209: warning: parameters of member ns3::MeshHelper::CreateInterface are not <span class="o">(</span>all<span class="o">)</span> documented
src/mesh/helper/mesh-helper.h:119: warning: parameters of member ns3::MeshHelper::SetStandard are not <span class="o">(</span>all<span class="o">)</span> documented
</pre></div>
</div>
<p>Finally, note that undocumented items (classes, methods, functions,
typedefs, <em>etc.</em> won’t produce documentation when you build with
<code class="docutils literal notranslate"><span class="pre">doxygen.warnings.report.sh</span></code>, and only the outermost item
will produce a warning.  As a result, if you don’t see documentation
for a class method in the generated documentation, the class itself
probably needs documentation.</p>
<p>Now it’s just a matter of understanding the code, and writing some
docs!</p>
</div>
<div class="section" id="id1">
<h3><em>ns-3</em> Specifics<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>As for Sphinx, the Doxygen <a class="reference external" href="http://www.stack.nl/~dimitri/doxygen/index.html">docs</a> and <a class="reference external" href="http://www.stack.nl/~dimitri/doxygen/manual/commands.html">reference</a> are pretty good.
We won’t duplicate the basics here, instead focusing on preferred
usage for <em>ns-3</em>.</p>
<ul>
<li><p>Use Doxygen <code class="docutils literal notranslate"><span class="pre">Modules</span></code> to group related items.</p>
<p>In the main header for a module, create a Doxgyen group:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cm">/**</span>
<span class="cm"> *  \defgroup foo Foo protocol.</span>
<span class="cm"> *  Implementation of the Foo protocol.</span>
<span class="cm"> */</span>
</pre></div>
</div>
<p>The symbol <code class="docutils literal notranslate"><span class="pre">foo</span></code> is how other items can add themselves to this group.
The string following that will be the title for the group.  Any further
text will be the detailed description for the group page.</p>
</li>
<li><p>Document each file, assigning it to the relevant group.  In a header file:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cm">/**</span>
<span class="cm"> *  \file</span>
<span class="cm"> *  \ingroup foo</span>
<span class="cm"> *  Class Foo declaration.</span>
<span class="cm"> */</span>
</pre></div>
</div>
<p>or in the corresponding <code class="docutils literal notranslate"><span class="pre">.cc</span></code> file:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cm">/**</span>
<span class="cm"> *  \file</span>
<span class="cm"> *  \ingroup foo</span>
<span class="cm"> *  Class FooBar implementation.</span>
<span class="cm"> */</span>
</pre></div>
</div>
</li>
<li><p>Mark each associated class as belonging to the group:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cm">/**</span>
<span class="cm"> *  \ingroup foo</span>
<span class="cm"> *</span>
<span class="cm"> *  FooBar packet type.</span>
<span class="cm">*/</span>
<span class="k">class</span> <span class="nc">FooBar</span>
</pre></div>
</div>
</li>
<li><p>Did you know <code class="docutils literal notranslate"><span class="pre">typedefs</span></code> can have formal arguments?  This enables
documentation of function pointer signatures:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cm">/**</span>
<span class="cm"> *  Bar callback function signature.</span>
<span class="cm"> *</span>
<span class="cm"> *  \param ale The size of a pint of ale, in Imperial ounces.</span>
<span class="cm"> */</span>
<span class="k">typedef</span> <span class="nf">void</span> <span class="p">(</span><span class="o">*</span> <span class="n">BarCallback</span><span class="p">)(</span><span class="k">const</span> <span class="kt">int</span> <span class="n">ale</span><span class="p">);</span>
</pre></div>
</div>
</li>
<li><p>Copy the <code class="docutils literal notranslate"><span class="pre">Attribute</span></code> help strings from the <code class="docutils literal notranslate"><span class="pre">GetTypeId</span></code> method to use
as the brief descriptions of associated members.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">\bugid{298}</span></code> will create a link to bug 298 in our Bugzilla.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">\p</span> <span class="pre">foo</span></code> in a description will format <code class="docutils literal notranslate"><span class="pre">foo</span></code>
the same as the <code class="docutils literal notranslate"><span class="pre">\param</span> <span class="pre">foo</span></code> parameter, making it clear that you
are referring to an actual argument.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">\RFC{301}</span></code> will create a link to RFC 301.</p></li>
<li><p>Document the direction of function arguments with <code class="docutils literal notranslate"><span class="pre">\param</span> <span class="pre">[in]</span></code>, <em>etc</em>.
The allowed values of the direction token are <code class="docutils literal notranslate"><span class="pre">[in]</span></code>, <code class="docutils literal notranslate"><span class="pre">[out]</span></code>, and
<code class="docutils literal notranslate"><span class="pre">[in,out]</span></code> (note the explicit square brackets), as discussed in the
Doxygen docs for <code class="docutils literal notranslate"><span class="pre">\param</span></code>.</p></li>
<li><p>Document template arguments with <code class="docutils literal notranslate"><span class="pre">\tparam</span></code>, just as you use <code class="docutils literal notranslate"><span class="pre">\param</span></code>
for function arguments.</p></li>
<li><p>For template arguments, indicate if they will be deduced or must be given
explicitly:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cm">/**</span>
<span class="cm"> * A templated function.</span>
<span class="cm"> * \tparam T \explicit The return type.</span>
<span class="cm"> * \tparam U \deduced The argument type.</span>
<span class="cm"> * \param [in] a The argument.</span>
<span class="cm"> */</span>
<span class="k">template</span> <span class="o">&lt;</span><span class="k">typename</span> <span class="n">T</span><span class="p">,</span> <span class="k">typename</span> <span class="n">U</span><span class="o">&gt;</span> <span class="n">T</span> <span class="n">Function</span> <span class="p">(</span><span class="n">U</span> <span class="n">a</span><span class="p">);</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Use <code class="docutils literal notranslate"><span class="pre">\tparam</span> <span class="pre">U</span> <span class="pre">\deduced</span></code> because the type <code class="docutils literal notranslate"><span class="pre">U</span></code> can be deduced at
the site where the template is invoked.  Basically deduction can only
be done for function arguments.</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">\tparam</span> <span class="pre">T</span> <span class="pre">\explicit</span></code> because the type <code class="docutils literal notranslate"><span class="pre">T</span></code> can’t be deduced;
it must be given explicitly at the invocation site, as in
<code class="docutils literal notranslate"><span class="pre">Create&lt;MyObject&gt;</span> <span class="pre">(...)</span></code></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">\internal</span></code> should be used only to set off a discussion of implementation
details, not to mark <code class="docutils literal notranslate"><span class="pre">private</span></code> functions (they are already marked,
as <code class="docutils literal notranslate"><span class="pre">private</span></code>!)</p></li>
<li><p>Don’t create classes with trivial names, such as <code class="docutils literal notranslate"><span class="pre">class</span> <span class="pre">A</span></code>,
even in test suites.  These cause all instances of the class name
literal `A’ to be rendered as links.</p></li>
</ul>
<p>As noted above, static functions don’t inherit the documentation
of the same functions in the parent class.  <em>ns-3</em> uses a few static
functions ubiquitously; the suggested documentation block for these
cases is:</p>
<ul>
<li><p>Default constructor/destructor:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">MyClass</span> <span class="p">();</span>   <span class="c1">//!&lt; Default constructor</span>
<span class="o">~</span><span class="n">MyClass</span> <span class="p">();</span>  <span class="c1">//!&lt; Destructor</span>
</pre></div>
</div>
</li>
<li><p>Dummy destructor and DoDispose:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cm">/** Dummy destructor, see DoDispose. */</span>
<span class="o">~</span><span class="n">MyClass</span> <span class="p">();</span>

<span class="cm">/** Destructor implementation */</span>
<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">DoDispose</span> <span class="p">();</span>
</pre></div>
</div>
</li>
<li><p>GetTypeId:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cm">/**</span>
<span class="cm"> *  Register this type.</span>
<span class="cm"> *  \return The object TypeId.</span>
<span class="cm"> */</span>
<span class="k">static</span> <span class="n">TypeId</span> <span class="nf">GetTypeId</span> <span class="p">(</span><span class="kt">void</span><span class="p">);</span>
</pre></div>
</div>
</li>
</ul>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Creating Documentation</a><ul>
<li><a class="reference internal" href="#documenting-with-sphinx">Documenting with Sphinx</a><ul>
<li><a class="reference internal" href="#adding-new-chapters">Adding New Chapters</a><ul>
<li><a class="reference internal" href="#where">Where?</a></li>
<li><a class="reference internal" href="#link">Link</a></li>
<li><a class="reference internal" href="#makefile">Makefile</a></li>
</ul>
</li>
<li><a class="reference internal" href="#building-sphinx-docs">Building Sphinx Docs</a></li>
<li><a class="reference internal" href="#ns3-specifics"><em>ns-3</em> Specifics</a></li>
</ul>
</li>
<li><a class="reference internal" href="#documenting-with-doxygen">Documenting with Doxygen</a><ul>
<li><a class="reference internal" href="#preferred-style">Preferred Style</a></li>
<li><a class="reference internal" href="#useful-features">Useful Features</a></li>
<li><a class="reference internal" href="#building-doxygen-docs">Building Doxygen Docs</a></li>
<li><a class="reference internal" href="#id1"><em>ns-3</em> Specifics</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="new-modules.html"
                        title="previous chapter">Adding a New Module to <em>ns-3</em></a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="enable-modules.html"
                        title="next chapter">Enabling Subsets of <em>ns-3</em> Modules</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/documentation.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="enable-modules.html" title="Enabling Subsets of ns-3 Modules"
             >next</a> |</li>
        <li class="right" >
          <a href="new-modules.html" title="Adding a New Module to ns-3"
             >previous</a> |</li>
    <li class="navelem"><a href="">ns-3</a><span class="navelem">&nbsp;</span></li>
    
        <li class="nav-item nav-item-0"><a href="index.html">Manual</a><span class="navelem">&nbsp;</span></li>

          <li class="nav-item nav-item-1"><a href="support.html" >Support</a><span class="navelem">&nbsp;</span></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2006-2019.
      Last updated on Apr 29, 2020 18:24.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.0.2.
    </div>
  </body>
</html>