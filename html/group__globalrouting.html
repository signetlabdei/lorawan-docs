<!-- ns-3 doxygen header, based on
     HTML header for doxygen 1.8.3.1
     Verified compatible with 1.8.6
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.19"/>
<title>ns-3: Global Routing.</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="ns3_stylesheet.css" rel="stylesheet" type="text/css"/>
    <link href="favicon.ico" rel="shortcut icon" type="image/ico"></link>
    <script type="text/javascript" src="drop-down-menu.js"></script>
    <script type="text/javascript" src="ns3_version.js"></script>
    <script type="text/javascript" src="ns3_links.js"></script>
  </head>
<body>
    <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
      <div id="titlearea">
	<table cellspacing="0" cellpadding="0" width="100%">
	  <tbody>
	    <tr style="height: 56px;">
	      <td id="projectlogo">
		<a id="ns3_home1"
		  href="http://www.nsnam.org/">
		  <img alt="ns-3 Logo"
		    src="ns-3-inverted-notext-small.png"/>
		</a>
	      </td>
	      <td id="projecttext">
		<div id="projectbrief">A Discrete-Event Network Simulator</div>
		<span id="projectnumber"><script type="text/javascript">document.write(ns3_version)</script></span>
	      </td>
	      <td id="ns3-menu">
		<div class="menu">
		  <ul >
		    <li><a id="ns3_home2"
			href="http://www.nsnam.org/"
			>&nbsp;&nbsp;Home</a>
		    </li>
		    <li><span
			onmouseover="mopen('mTuts')" 
			onmouseout="mclosetime()"
			>Tutorials &nbsp;&#x25BC;</span>
		      <div id="mTuts" 
		        onmouseover="mcancelclosetime()" 
		        onmouseout="mclosetime()">
			<a id="ns3_tut"
			  href="/docs/tutorial/html/index.html"
			  >English</a><br/>
		    </li>
		    <li><span
			onmouseover="mopen('mDocs')" 
			onmouseout="mclosetime()"
			>Docs &nbsp;&nbsp;&nbsp;&#x25BC;</span>
		      <div id="mDocs"
		        onmouseover="mcancelclosetime()" 
		        onmouseout="mclosetime()">
			<a id="ns3_wiki"
			  href="http://www.nsnam.org/wiki"
			  >Wiki</a><br/>
			<a id="ns3_man"
			    href="/docs/manual/html/index.html"
			    >Manual</a><br/>
			<a id="ns3_mod"
			   href="/docs/models/html/index.html"
			   >Models</a><br/>
		    </li>
		    <li><span
			onmouseover="mopen('mDev')" 
			onmouseout="mclosetime()"
			>Develop &#x25BC;</span>
		      <div id="mDev"
		        onmouseover="mcancelclosetime()" 
		        onmouseout="mclosetime()">
			<a id="ns3_api"
			   href="/docs/doxygen/index.html"
			   >API</a><br/>
			<a id="ns3_bugs"
			   href="http://www.nsnam.org/bugzilla/">Bugs</a>
		    </li>
		  </ul>
		</div>
	      </td>
	      <td id="projectsection">
		<span style="margin-right:10px">API</span>
	      </td>
	    </tr>
	  </tbody>
	</table>
	<script  type="text/javascript">ns3_write_links();</script>
      </div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.19 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__globalrouting.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a>  </div>
  <div class="headertitle">
<div class="title">Global Routing.<div class="ingroups"><a class="el" href="group__internet.html">Internet</a> &raquo; <a class="el" href="group__ipv4_routing.html">IPv4 Routing Protocols.</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Performs pre-simulation static route computation on a layer-3 IPv4 topology.  
<a href="#details">More...</a></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for Global Routing.:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__globalrouting.png" border="0" usemap="#group____globalrouting" alt=""/></div>
<map name="group____globalrouting" id="group____globalrouting">
<area shape="rect" href="group__ipv4_routing.html" title="The classes in this group implement different routing protocols for IPv4. Other modules could impleme..." alt="" coords="5,5,177,31"/>
<area shape="rect" title="Performs pre&#45;simulation static route computation on a layer&#45;3 IPv4 topology." alt="" coords="225,5,348,31"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_candidate_queue.html">ns3::CandidateQueue</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A Candidate <a class="el" href="classns3_1_1_queue.html" title="Template class for packet Queues.">Queue</a> used in routing calculations.  <a href="classns3_1_1_candidate_queue.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_global_route_manager.html">ns3::GlobalRouteManager</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A global global router.  <a href="classns3_1_1_global_route_manager.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_global_routing_link_record.html">ns3::GlobalRoutingLinkRecord</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A single link record for a link state advertisement.  <a href="classns3_1_1_global_routing_link_record.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_s_p_f_vertex.html">ns3::SPFVertex</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Vertex used in shortest path first (SPF) computations. See <a href="http://datatracker.ietf.org/doc/rfc2328/">RFC 2328</a>, Section 16.  <a href="classns3_1_1_s_p_f_vertex.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Performs pre-simulation static route computation on a layer-3 IPv4 topology. </p>
<h1><a class="anchor" id="model"></a>
Model</h1>
<p>ns-3 global routing performs pre-simulation static route computation on a layer-3 IPv4 topology. The user API from the script level is fairly minimal; once a topology has been constructed and addresses assigned, the user may call ns3::GlobalRouteManager::PopulateRoutingTables() and the simulator will initialize the routing database and set up static unicast forwarding tables for each node.</p>
<p>The model assumes that all nodes on an ns-3 channel are reachable to one another, regardless of whether the nodes can use the channel successfully (in the case of wireless). Therefore, this model should typically be used only on wired topologies. Layer-2 bridge devices are supported. API does not yet exist to control the subset of a topology to which this global static routing is applied.</p>
<p>If the topology changes during the simulation, by default, routing will not adjust. There are two ways to make it adjust.</p><ul>
<li>Set the attribute Ipv4GlobalRouting::RespondToInterfaceEvents to true</li>
<li>Manually call the sequence of GlobalRouteManager methods to delete global routes, build global routing database, and initialize routes. There is a helper method that encapsulates this (Ipv4GlobalRoutingHelper::RecomputeRoutingTables())</li>
</ul>
<h1><a class="anchor" id="api"></a>
API and Usage</h1>
<p>Users must include ns3/global-route-manager.h header file. After the IPv4 topology has been built and addresses assigned, users call ns3::GlobalRouteManager::PopulateRoutingTables (), prior to the <a class="el" href="classns3_1_1_simulator.html#a84be982e6d03b62c3dc3303c75a9b909" title="Run the simulation.">ns3::Simulator::Run()</a> call.</p>
<p>There are two attributes of Ipv4GlobalRouting that govern behavior.</p><ul>
<li>Ipv4GlobalRouting::RandomEcmpRouting</li>
<li>Ipv4GlobalRouting::RespondToInterfaceEvents</li>
</ul>
<h1><a class="anchor" id="impl"></a>
Implementation</h1>
<p>A singleton object, <a class="el" href="classns3_1_1_global_route_manager.html" title="A global global router.">ns3::GlobalRouteManager</a>, builds a global routing database of information about the topology, and executes a Dijkstra Shortest Path First (SPF) algorithm on the topology for each node, and stores the computed routes in each node's IPv4 forwarding table by making use of the routing API in class <a class="el" href="classns3_1_1_ipv4.html" title="Access to the IPv4 forwarding table, interfaces, and configuration.">ns3::Ipv4</a>.</p>
<p>The nodes that export data are those that have had an <a class="el" href="classns3_1_1_global_router.html" title="An interface aggregated to a node to provide global routing info.">ns3::GlobalRouter</a> object aggregated to them. The <a class="el" href="classns3_1_1_global_router.html" title="An interface aggregated to a node to provide global routing info.">ns3::GlobalRouter</a> can be thought of as a per-node agent that exports topology information to the <a class="el" href="classns3_1_1_global_route_manager.html" title="A global global router.">ns3::GlobalRouteManager</a>. When it comes time to build the global routing database, the list of nodes is iterated and each node with an <a class="el" href="classns3_1_1_global_router.html" title="An interface aggregated to a node to provide global routing info.">ns3::GlobalRouter</a> object is asked to export routing information concerning the links to which it is attached.</p>
<p>The format of the data exported conforms to the OSPFv2 standard <a href="http://datatracker.ietf.org/doc/rfc2328/">RFC 2328</a>. In particular, the information is exported in the form of ns3::GlobalLSA objects that semantically match the Link State Advertisements of OSPF.</p>
<p>By using a standard data format for reporting topology, existing OSPF route computation code can be reused, and that is what is done by the <a class="el" href="classns3_1_1_global_route_manager.html" title="A global global router.">ns3::GlobalRouteManager</a>. The main computation functions are ported from the quagga routing suite (<a href="http://www.quagga.net">http://www.quagga.net</a>). </p>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- ns-3 doxygen header, based on
     HTML header for doxygen 1.8.3.1
     Verified compatible with 1.8.6
-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed Apr 29 2020 17:43:20 for ns-3 by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.19 </li>
  </ul>
</div>
</body>
</html>
