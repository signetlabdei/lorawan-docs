<!-- ns-3 doxygen header, based on
     HTML header for doxygen 1.8.3.1
     Verified compatible with 1.8.6
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.19"/>
<title>ns-3: src/mobility/examples/ns2-mobility-trace.cc Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="ns3_stylesheet.css" rel="stylesheet" type="text/css"/>
    <link href="favicon.ico" rel="shortcut icon" type="image/ico"></link>
    <script type="text/javascript" src="drop-down-menu.js"></script>
    <script type="text/javascript" src="ns3_version.js"></script>
    <script type="text/javascript" src="ns3_links.js"></script>
  </head>
<body>
    <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
      <div id="titlearea">
	<table cellspacing="0" cellpadding="0" width="100%">
	  <tbody>
	    <tr style="height: 56px;">
	      <td id="projectlogo">
		<a id="ns3_home1"
		  href="http://www.nsnam.org/">
		  <img alt="ns-3 Logo"
		    src="ns-3-inverted-notext-small.png"/>
		</a>
	      </td>
	      <td id="projecttext">
		<div id="projectbrief">A Discrete-Event Network Simulator</div>
		<span id="projectnumber"><script type="text/javascript">document.write(ns3_version)</script></span>
	      </td>
	      <td id="ns3-menu">
		<div class="menu">
		  <ul >
		    <li><a id="ns3_home2"
			href="http://www.nsnam.org/"
			>&nbsp;&nbsp;Home</a>
		    </li>
		    <li><span
			onmouseover="mopen('mTuts')" 
			onmouseout="mclosetime()"
			>Tutorials &nbsp;&#x25BC;</span>
		      <div id="mTuts" 
		        onmouseover="mcancelclosetime()" 
		        onmouseout="mclosetime()">
			<a id="ns3_tut"
			  href="/docs/tutorial/html/index.html"
			  >English</a><br/>
		    </li>
		    <li><span
			onmouseover="mopen('mDocs')" 
			onmouseout="mclosetime()"
			>Docs &nbsp;&nbsp;&nbsp;&#x25BC;</span>
		      <div id="mDocs"
		        onmouseover="mcancelclosetime()" 
		        onmouseout="mclosetime()">
			<a id="ns3_wiki"
			  href="http://www.nsnam.org/wiki"
			  >Wiki</a><br/>
			<a id="ns3_man"
			    href="/docs/manual/html/index.html"
			    >Manual</a><br/>
			<a id="ns3_mod"
			   href="/docs/models/html/index.html"
			   >Models</a><br/>
		    </li>
		    <li><span
			onmouseover="mopen('mDev')" 
			onmouseout="mclosetime()"
			>Develop &#x25BC;</span>
		      <div id="mDev"
		        onmouseover="mcancelclosetime()" 
		        onmouseout="mclosetime()">
			<a id="ns3_api"
			   href="/docs/doxygen/index.html"
			   >API</a><br/>
			<a id="ns3_bugs"
			   href="http://www.nsnam.org/bugzilla/">Bugs</a>
		    </li>
		  </ul>
		</div>
	      </td>
	      <td id="projectsection">
		<span style="margin-right:10px">API</span>
	      </td>
	    </tr>
	  </tbody>
	</table>
	<script  type="text/javascript">ns3_write_links();</script>
      </div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.19 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('ns2-mobility-trace_8cc_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">ns2-mobility-trace.cc</div>  </div>
</div><!--header-->
<div class="contents">
<a href="ns2-mobility-trace_8cc.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/* -*-  Mode: C++; c-file-style: &quot;gnu&quot;; indent-tabs-mode:nil; -*- */</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * Copyright (c) 2007 INRIA</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *               2009,2010 Contributors</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * This program is free software; you can redistribute it and/or modify</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * it under the terms of the GNU General Public License version 2 as</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * published by the Free Software Foundation;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * This program is distributed in the hope that it will be useful,</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * GNU General Public License for more details.</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * You should have received a copy of the GNU General Public License</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * along with this program; if not, write to the Free Software</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> * Author: Mart√≠n Giachino &lt;martin.giachino@gmail.com&gt;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"> * This example demonstrates the use of Ns2MobilityHelper class to work with mobility.</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment"> * Detailed example description.</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment"> *  - intended usage: this should be used in order to load ns2 movement trace files into ns3.</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment"> *  - behavior:</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment"> *      - Ns2MobilityHelper object is created, associated to the specified trace file. </span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment"> *      - A log file is created, using the log file name argument.</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment"> *      - A node container is created with the number of nodes specified in the command line.  For the default ns-2 trace, specify the value 2 for this argument.</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment"> *      - the program calls the Install() method of Ns2MobilityHelper to set mobility to nodes. At this moment, the file is read line by line, and the movement is scheduled in the simulator.</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment"> *      - A callback is configured, so each time a node changes its course a log message is printed.</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment"> *  - expected output: example prints out messages generated by each read line from the ns2 movement trace file.</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment"> *                     For each line, it shows if the line is correct, or of it has errors and in this case it will</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment"> *                     be ignored.</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment"> * Usage of ns2-mobility-trace:</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment"> *  ./waf --run &quot;ns2-mobility-trace \</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment"> *        --traceFile=src/mobility/examples/default.ns_movements</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment"> *        --nodeNum=2  --duration=100.0 --logFile=ns2-mobility-trace.log&quot;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment"> *  NOTE: ns2-traces-file could be an absolute or relative path. You could use the file default.ns_movements</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment"> *        included in the same directory as the example file.</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment"> *  NOTE 2: Number of nodes present in the trace file must match with the command line argument.</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment"> *          Note that you must know it before to be able to load it.</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment"> *  NOTE 3: Duration must be a positive number and should match the trace file. Note that you must know it before to be able to load it.</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160; </div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160; </div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#include &lt;fstream&gt;</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#include &lt;sstream&gt;</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">#include &quot;ns3/core-module.h&quot;</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">#include &quot;ns3/mobility-module.h&quot;</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">#include &quot;ns3/ns2-mobility-helper.h&quot;</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160; </div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacens3.html">ns3</a>;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160; </div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment">// Prints actual position and velocity when a course change event occurs</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="ns2-mobility-trace_8cc.html#a6488aa51fddc446bc1a40d66a29f7445">   62</a></span>&#160;<a class="code" href="ns2-mobility-trace_8cc.html#a6488aa51fddc446bc1a40d66a29f7445">CourseChange</a> (std::ostream *os, std::string foo, <a class="code" href="classns3_1_1_ptr.html">Ptr&lt;const MobilityModel&gt;</a> <a class="code" href="namespacethird.html#ae696e36bf1ea3312c33cec7727af7ab4">mobility</a>)</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;{</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  Vector pos = <a class="code" href="namespacethird.html#ae696e36bf1ea3312c33cec7727af7ab4">mobility</a>-&gt;GetPosition (); <span class="comment">// Get position</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  Vector vel = <a class="code" href="namespacethird.html#ae696e36bf1ea3312c33cec7727af7ab4">mobility</a>-&gt;GetVelocity (); <span class="comment">// Get velocity</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160; </div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  <span class="comment">// Prints position and velocities</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  *os &lt;&lt; <a class="code" href="classns3_1_1_simulator.html#ac3178fa975b419f7875e7105be122800">Simulator::Now</a> () &lt;&lt; <span class="stringliteral">&quot; POS: x=&quot;</span> &lt;&lt; pos.x &lt;&lt; <span class="stringliteral">&quot;, y=&quot;</span> &lt;&lt; pos.y</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;      &lt;&lt; <span class="stringliteral">&quot;, z=&quot;</span> &lt;&lt; pos.z &lt;&lt; <span class="stringliteral">&quot;; VEL:&quot;</span> &lt;&lt; vel.x &lt;&lt; <span class="stringliteral">&quot;, y=&quot;</span> &lt;&lt; vel.y</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;      &lt;&lt; <span class="stringliteral">&quot;, z=&quot;</span> &lt;&lt; vel.z &lt;&lt; std::endl;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;}</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160; </div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment">// Example to use ns2 traces file in ns3</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="keywordtype">int</span> main (<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[])</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;{</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  std::string traceFile;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  std::string logFile;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160; </div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <span class="keywordtype">int</span>    nodeNum;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <span class="keywordtype">double</span> <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a>;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160; </div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  <span class="comment">// Enable logging from the ns2 helper</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  <a class="code" href="namespacens3.html#adc4ef4f00bb2f5f4edae67fc3bc27f20">LogComponentEnable</a> (<span class="stringliteral">&quot;Ns2MobilityHelper&quot;</span>,<a class="code" href="namespacens3.html#aa6464a4d69551a9cc968e17a65f39bdbabc85ae851e992c4d8577705c712061ef">LOG_LEVEL_DEBUG</a>);</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160; </div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  <span class="comment">// Parse command line attribute</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  <a class="code" href="group__commandline.html#ga6520780a7fe4f370c303f7a8a39fd077">COMMANDLINE</a> (<a class="code" href="namespacesecond.html#ae84c87468c0e4398eab4dbb6cadc17d9">cmd</a>);</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <a class="code" href="namespacesecond.html#ae84c87468c0e4398eab4dbb6cadc17d9">cmd</a>.AddValue (<span class="stringliteral">&quot;traceFile&quot;</span>, <span class="stringliteral">&quot;Ns2 movement trace file&quot;</span>, traceFile);</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  <a class="code" href="namespacesecond.html#ae84c87468c0e4398eab4dbb6cadc17d9">cmd</a>.AddValue (<span class="stringliteral">&quot;nodeNum&quot;</span>, <span class="stringliteral">&quot;Number of nodes&quot;</span>, nodeNum);</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <a class="code" href="namespacesecond.html#ae84c87468c0e4398eab4dbb6cadc17d9">cmd</a>.AddValue (<span class="stringliteral">&quot;duration&quot;</span>, <span class="stringliteral">&quot;Duration of Simulation&quot;</span>, <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a>);</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <a class="code" href="namespacesecond.html#ae84c87468c0e4398eab4dbb6cadc17d9">cmd</a>.AddValue (<span class="stringliteral">&quot;logFile&quot;</span>, <span class="stringliteral">&quot;Log file&quot;</span>, logFile);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <a class="code" href="namespacesecond.html#ae84c87468c0e4398eab4dbb6cadc17d9">cmd</a>.Parse (argc,argv);</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160; </div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  <span class="comment">// Check command line arguments</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <span class="keywordflow">if</span> (traceFile.empty () || nodeNum &lt;= 0 || <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a> &lt;= 0 || logFile.empty ())</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    {</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;      std::cout &lt;&lt; <span class="stringliteral">&quot;Usage of &quot;</span> &lt;&lt; argv[0] &lt;&lt; <span class="stringliteral">&quot; :\n\n&quot;</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;      <span class="stringliteral">&quot;./waf --run \&quot;ns2-mobility-trace&quot;</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;      <span class="stringliteral">&quot; --traceFile=src/mobility/examples/default.ns_movements&quot;</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;      <span class="stringliteral">&quot; --nodeNum=2 --duration=100.0 --logFile=ns2-mob.log\&quot; \n\n&quot;</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;      <span class="stringliteral">&quot;NOTE: ns2-traces-file could be an absolute or relative path. You could use the file default.ns_movements\n&quot;</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;      <span class="stringliteral">&quot;      included in the same directory of this example file.\n\n&quot;</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;      <span class="stringliteral">&quot;NOTE 2: Number of nodes present in the trace file must match with the command line argument and must\n&quot;</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;      <span class="stringliteral">&quot;        be a positive number. Note that you must know it before to be able to load it.\n\n&quot;</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;      <span class="stringliteral">&quot;NOTE 3: Duration must be a positive number. Note that you must know it before to be able to load it.\n\n&quot;</span>;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160; </div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;      <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    }</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160; </div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  <span class="comment">// Create Ns2MobilityHelper with the specified trace log file as parameter</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <a class="code" href="classns3_1_1_ns2_mobility_helper.html">Ns2MobilityHelper</a> ns2 = <a class="code" href="classns3_1_1_ns2_mobility_helper.html">Ns2MobilityHelper</a> (traceFile);</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160; </div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <span class="comment">// open log file for output</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  std::ofstream os;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  os.open (logFile.c_str ());</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160; </div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <span class="comment">// Create all nodes.</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <a class="code" href="classns3_1_1_node_container.html">NodeContainer</a> stas;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  stas.<a class="code" href="classns3_1_1_node_container.html#a787f059e2813e8b951cc6914d11dfe69">Create</a> (nodeNum);</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160; </div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  ns2.<a class="code" href="classns3_1_1_ns2_mobility_helper.html#abc85feeb736f55564fa629fee1e873e5">Install</a> (); <span class="comment">// configure movements for each node, while reading trace file</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160; </div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <span class="comment">// Configure callback for logging</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <a class="code" href="group__config.html#ga4014f151241cd0939b6cb64409605736">Config::Connect</a> (<span class="stringliteral">&quot;/NodeList/*/$ns3::MobilityModel/CourseChange&quot;</span>,</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                   <a class="code" href="group__makeboundcallback.html#ga1725d6362e6065faa0709f7c93f8d770">MakeBoundCallback</a> (&amp;<a class="code" href="ns2-mobility-trace_8cc.html#a6488aa51fddc446bc1a40d66a29f7445">CourseChange</a>, &amp;os));</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160; </div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <a class="code" href="classns3_1_1_simulator.html#a2335ba5b62e9066e893fecb21b7f6afd">Simulator::Stop</a> (<a class="code" href="group__timecivil.html#ga33c34b816f8ff6628e33d5c8e9713b9e">Seconds</a> (<a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a>));</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <a class="code" href="classns3_1_1_simulator.html#a84be982e6d03b62c3dc3303c75a9b909">Simulator::Run</a> ();</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  <a class="code" href="classns3_1_1_simulator.html#a2a056e59a6623225df0957eda0ee8252">Simulator::Destroy</a> ();</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160; </div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  os.close (); <span class="comment">// close log file</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="anamespacealoha_html_a2e783efd48c6e7010b99887a6daa8ac3"><div class="ttname"><a href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">aloha.duration</a></div><div class="ttdeci">float duration</div><div class="ttdef"><b>Definition:</b> <a href="aloha_8py_source.html#l00037">aloha.py:37</a></div></div>
<div class="ttc" id="aclassns3_1_1_simulator_html_ac3178fa975b419f7875e7105be122800"><div class="ttname"><a href="classns3_1_1_simulator.html#ac3178fa975b419f7875e7105be122800">ns3::Simulator::Now</a></div><div class="ttdeci">static Time Now(void)</div><div class="ttdoc">Return the current simulation virtual time.</div><div class="ttdef"><b>Definition:</b> <a href="simulator_8cc_source.html#l00195">simulator.cc:195</a></div></div>
<div class="ttc" id="anamespacens3_html"><div class="ttname"><a href="namespacens3.html">ns3</a></div><div class="ttdoc">Every class exported by the ns3 library is enclosed in the ns3 namespace.</div></div>
<div class="ttc" id="anamespacens3_html_adc4ef4f00bb2f5f4edae67fc3bc27f20"><div class="ttname"><a href="namespacens3.html#adc4ef4f00bb2f5f4edae67fc3bc27f20">ns3::LogComponentEnable</a></div><div class="ttdeci">void LogComponentEnable(char const *name, enum LogLevel level)</div><div class="ttdoc">Enable the logging output associated with that log component.</div><div class="ttdef"><b>Definition:</b> <a href="log_8cc_source.html#l00361">log.cc:361</a></div></div>
<div class="ttc" id="aclassns3_1_1_node_container_html_a787f059e2813e8b951cc6914d11dfe69"><div class="ttname"><a href="classns3_1_1_node_container.html#a787f059e2813e8b951cc6914d11dfe69">ns3::NodeContainer::Create</a></div><div class="ttdeci">void Create(uint32_t n)</div><div class="ttdoc">Create n nodes and append pointers to them to the end of this NodeContainer.</div><div class="ttdef"><b>Definition:</b> <a href="node-container_8cc_source.html#l00098">node-container.cc:98</a></div></div>
<div class="ttc" id="ans2-mobility-trace_8cc_html_a6488aa51fddc446bc1a40d66a29f7445"><div class="ttname"><a href="ns2-mobility-trace_8cc.html#a6488aa51fddc446bc1a40d66a29f7445">CourseChange</a></div><div class="ttdeci">static void CourseChange(std::ostream *os, std::string foo, Ptr&lt; const MobilityModel &gt; mobility)</div><div class="ttdef"><b>Definition:</b> <a href="ns2-mobility-trace_8cc_source.html#l00062">ns2-mobility-trace.cc:62</a></div></div>
<div class="ttc" id="aclassns3_1_1_ptr_html"><div class="ttname"><a href="classns3_1_1_ptr.html">ns3::Ptr</a></div><div class="ttdoc">Smart pointer class similar to boost::intrusive_ptr.</div><div class="ttdef"><b>Definition:</b> <a href="ptr_8h_source.html#l00073">ptr.h:74</a></div></div>
<div class="ttc" id="aclassns3_1_1_simulator_html_a2335ba5b62e9066e893fecb21b7f6afd"><div class="ttname"><a href="classns3_1_1_simulator.html#a2335ba5b62e9066e893fecb21b7f6afd">ns3::Simulator::Stop</a></div><div class="ttdeci">static void Stop(void)</div><div class="ttdoc">Tell the Simulator the calling event should be the last one executed.</div><div class="ttdef"><b>Definition:</b> <a href="simulator_8cc_source.html#l00180">simulator.cc:180</a></div></div>
<div class="ttc" id="agroup__commandline_html_ga6520780a7fe4f370c303f7a8a39fd077"><div class="ttname"><a href="group__commandline.html#ga6520780a7fe4f370c303f7a8a39fd077">COMMANDLINE</a></div><div class="ttdeci">#define COMMANDLINE(var)</div><div class="ttdoc">Declare a CommandLine instance.</div><div class="ttdef"><b>Definition:</b> <a href="command-line_8h_source.html#l00057">command-line.h:56</a></div></div>
<div class="ttc" id="anamespacesecond_html_ae84c87468c0e4398eab4dbb6cadc17d9"><div class="ttname"><a href="namespacesecond.html#ae84c87468c0e4398eab4dbb6cadc17d9">second.cmd</a></div><div class="ttdeci">cmd</div><div class="ttdef"><b>Definition:</b> <a href="second_8py_source.html#l00035">second.py:35</a></div></div>
<div class="ttc" id="anamespacens3_html_aa6464a4d69551a9cc968e17a65f39bdbabc85ae851e992c4d8577705c712061ef"><div class="ttname"><a href="namespacens3.html#aa6464a4d69551a9cc968e17a65f39bdbabc85ae851e992c4d8577705c712061ef">ns3::LOG_LEVEL_DEBUG</a></div><div class="ttdeci">@ LOG_LEVEL_DEBUG</div><div class="ttdoc">LOG_DEBUG and above.</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00104">log.h:104</a></div></div>
<div class="ttc" id="aclassns3_1_1_ns2_mobility_helper_html_abc85feeb736f55564fa629fee1e873e5"><div class="ttname"><a href="classns3_1_1_ns2_mobility_helper.html#abc85feeb736f55564fa629fee1e873e5">ns3::Ns2MobilityHelper::Install</a></div><div class="ttdeci">void Install(void) const</div><div class="ttdoc">Read the ns2 trace file and configure the movement patterns of all nodes contained in the global ns3:...</div><div class="ttdef"><b>Definition:</b> <a href="ns2-mobility-helper_8cc_source.html#l00811">ns2-mobility-helper.cc:811</a></div></div>
<div class="ttc" id="aclassns3_1_1_simulator_html_a84be982e6d03b62c3dc3303c75a9b909"><div class="ttname"><a href="classns3_1_1_simulator.html#a84be982e6d03b62c3dc3303c75a9b909">ns3::Simulator::Run</a></div><div class="ttdeci">static void Run(void)</div><div class="ttdoc">Run the simulation.</div><div class="ttdef"><b>Definition:</b> <a href="simulator_8cc_source.html#l00172">simulator.cc:172</a></div></div>
<div class="ttc" id="agroup__config_html_ga4014f151241cd0939b6cb64409605736"><div class="ttname"><a href="group__config.html#ga4014f151241cd0939b6cb64409605736">ns3::Config::Connect</a></div><div class="ttdeci">void Connect(std::string path, const CallbackBase &amp;cb)</div><div class="ttdef"><b>Definition:</b> <a href="config_8cc_source.html#l00873">config.cc:873</a></div></div>
<div class="ttc" id="agroup__timecivil_html_ga33c34b816f8ff6628e33d5c8e9713b9e"><div class="ttname"><a href="group__timecivil.html#ga33c34b816f8ff6628e33d5c8e9713b9e">ns3::Seconds</a></div><div class="ttdeci">Time Seconds(double value)</div><div class="ttdef"><b>Definition:</b> <a href="nstime_8h_source.html#l01070">nstime.h:1070</a></div></div>
<div class="ttc" id="agroup__makeboundcallback_html_ga1725d6362e6065faa0709f7c93f8d770"><div class="ttname"><a href="group__makeboundcallback.html#ga1725d6362e6065faa0709f7c93f8d770">ns3::MakeBoundCallback</a></div><div class="ttdeci">Callback&lt; R &gt; MakeBoundCallback(R(*fnPtr)(TX), ARG a1)</div><div class="ttdef"><b>Definition:</b> <a href="callback_8h_source.html#l01847">callback.h:1847</a></div></div>
<div class="ttc" id="aclassns3_1_1_simulator_html_a2a056e59a6623225df0957eda0ee8252"><div class="ttname"><a href="classns3_1_1_simulator.html#a2a056e59a6623225df0957eda0ee8252">ns3::Simulator::Destroy</a></div><div class="ttdeci">static void Destroy(void)</div><div class="ttdoc">Execute the events scheduled with ScheduleDestroy().</div><div class="ttdef"><b>Definition:</b> <a href="simulator_8cc_source.html#l00136">simulator.cc:136</a></div></div>
<div class="ttc" id="aclassns3_1_1_node_container_html"><div class="ttname"><a href="classns3_1_1_node_container.html">ns3::NodeContainer</a></div><div class="ttdoc">keep track of a set of node pointers.</div><div class="ttdef"><b>Definition:</b> <a href="node-container_8h_source.html#l00038">node-container.h:39</a></div></div>
<div class="ttc" id="aclassns3_1_1_ns2_mobility_helper_html"><div class="ttname"><a href="classns3_1_1_ns2_mobility_helper.html">ns3::Ns2MobilityHelper</a></div><div class="ttdoc">Helper class which can read ns-2 movement files and configure nodes mobility.</div><div class="ttdef"><b>Definition:</b> <a href="ns2-mobility-helper_8h_source.html#l00076">ns2-mobility-helper.h:77</a></div></div>
<div class="ttc" id="anamespacethird_html_ae696e36bf1ea3312c33cec7727af7ab4"><div class="ttname"><a href="namespacethird.html#ae696e36bf1ea3312c33cec7727af7ab4">third.mobility</a></div><div class="ttdeci">mobility</div><div class="ttdef"><b>Definition:</b> <a href="third_8py_source.html#l00108">third.py:108</a></div></div>
<!-- ns-3 doxygen header, based on
     HTML header for doxygen 1.8.3.1
     Verified compatible with 1.8.6
-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_26a3ad5af453008c0d8aca6881659990.html">mobility</a></li><li class="navelem"><a class="el" href="dir_8470fa048a315b6fec04712e90995975.html">examples</a></li><li class="navelem"><a class="el" href="ns2-mobility-trace_8cc.html">ns2-mobility-trace.cc</a></li>
    <li class="footer">Generated on Wed Apr 29 2020 17:43:09 for ns-3 by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.19 </li>
  </ul>
</div>
</body>
</html>
