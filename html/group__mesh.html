<!-- ns-3 doxygen header, based on
     HTML header for doxygen 1.8.3.1
     Verified compatible with 1.8.6
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.19"/>
<title>ns-3: Mesh Device</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="ns3_stylesheet.css" rel="stylesheet" type="text/css"/>
    <link href="favicon.ico" rel="shortcut icon" type="image/ico"></link>
    <script type="text/javascript" src="drop-down-menu.js"></script>
    <script type="text/javascript" src="ns3_version.js"></script>
    <script type="text/javascript" src="ns3_links.js"></script>
  </head>
<body>
    <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
      <div id="titlearea">
	<table cellspacing="0" cellpadding="0" width="100%">
	  <tbody>
	    <tr style="height: 56px;">
	      <td id="projectlogo">
		<a id="ns3_home1"
		  href="http://www.nsnam.org/">
		  <img alt="ns-3 Logo"
		    src="ns-3-inverted-notext-small.png"/>
		</a>
	      </td>
	      <td id="projecttext">
		<div id="projectbrief">A Discrete-Event Network Simulator</div>
		<span id="projectnumber"><script type="text/javascript">document.write(ns3_version)</script></span>
	      </td>
	      <td id="ns3-menu">
		<div class="menu">
		  <ul >
		    <li><a id="ns3_home2"
			href="http://www.nsnam.org/"
			>&nbsp;&nbsp;Home</a>
		    </li>
		    <li><span
			onmouseover="mopen('mTuts')" 
			onmouseout="mclosetime()"
			>Tutorials &nbsp;&#x25BC;</span>
		      <div id="mTuts" 
		        onmouseover="mcancelclosetime()" 
		        onmouseout="mclosetime()">
			<a id="ns3_tut"
			  href="/docs/tutorial/html/index.html"
			  >English</a><br/>
		    </li>
		    <li><span
			onmouseover="mopen('mDocs')" 
			onmouseout="mclosetime()"
			>Docs &nbsp;&nbsp;&nbsp;&#x25BC;</span>
		      <div id="mDocs"
		        onmouseover="mcancelclosetime()" 
		        onmouseout="mclosetime()">
			<a id="ns3_wiki"
			  href="http://www.nsnam.org/wiki"
			  >Wiki</a><br/>
			<a id="ns3_man"
			    href="/docs/manual/html/index.html"
			    >Manual</a><br/>
			<a id="ns3_mod"
			   href="/docs/models/html/index.html"
			   >Models</a><br/>
		    </li>
		    <li><span
			onmouseover="mopen('mDev')" 
			onmouseout="mclosetime()"
			>Develop &#x25BC;</span>
		      <div id="mDev"
		        onmouseover="mcancelclosetime()" 
		        onmouseout="mclosetime()">
			<a id="ns3_api"
			   href="/docs/doxygen/index.html"
			   >API</a><br/>
			<a id="ns3_bugs"
			   href="http://www.nsnam.org/bugzilla/">Bugs</a>
		    </li>
		  </ul>
		</div>
	      </td>
	      <td id="projectsection">
		<span style="margin-right:10px">API</span>
	      </td>
	    </tr>
	  </tbody>
	</table>
	<script  type="text/javascript">ns3_write_links();</script>
      </div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.19 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__mesh.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#nested-classes">Classes</a>  </div>
  <div class="headertitle">
<div class="title">Mesh Device</div>  </div>
</div><!--header-->
<div class="contents">

<p>MAC-layer mobile mesh networking.  
<a href="#details">More...</a></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for Mesh Device:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__mesh.png" border="0" usemap="#group____mesh" alt=""/></div>
<map name="group____mesh" id="group____mesh">
<area shape="rect" title="MAC&#45;layer mobile mesh networking." alt="" coords="5,55,112,80"/>
<area shape="rect" href="group__mesh-test.html" title=" " alt="" coords="160,5,307,31"/>
<area shape="rect" href="group__dot11s.html" title="IEEE 802.11s (mesh) draft standard implementation." alt="" coords="163,55,303,80"/>
<area shape="rect" href="group__flame.html" title="Forwarding LAyer for MEshing protocol." alt="" coords="200,104,267,129"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__flame"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flame.html">FLAME</a></td></tr>
<tr class="memdesc:group__flame"><td class="mdescLeft">&#160;</td><td class="mdescRight">Forwarding LAyer for MEshing protocol. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__dot11s"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dot11s.html">IEEE 802.11s draft</a></td></tr>
<tr class="memdesc:group__dot11s"><td class="mdescLeft">&#160;</td><td class="mdescRight">IEEE 802.11s (mesh) draft standard implementation. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__mesh-test"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mesh-test.html">mesh module tests</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_mesh_l2_routing_protocol.html">ns3::MeshL2RoutingProtocol</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interface for L2 mesh routing protocol and mesh point communication.  <a href="classns3_1_1_mesh_l2_routing_protocol.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_mesh_point_device.html">ns3::MeshPointDevice</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Virtual net device modeling mesh point.  <a href="classns3_1_1_mesh_point_device.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_mesh_stack.html">ns3::MeshStack</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prototype for class, which helps to install MAC-layer routing stack to <a class="el" href="classns3_1_1_mesh_point_device.html" title="Virtual net device modeling mesh point.">ns3::MeshPointDevice</a>.  <a href="classns3_1_1_mesh_stack.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mesh_test.html">MeshTest</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_mesh_test.html" title="MeshTest class.">MeshTest</a> class.  <a href="class_mesh_test.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_mesh_wifi_interface_mac.html">ns3::MeshWifiInterfaceMac</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Basic MAC of mesh point Wi-Fi interface. Its function is extendable through plugins mechanism.  <a href="classns3_1_1_mesh_wifi_interface_mac.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classns3_1_1_mesh_wifi_interface_mac_plugin.html">ns3::MeshWifiInterfaceMacPlugin</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Common interface for mesh point interface MAC plugins.  <a href="classns3_1_1_mesh_wifi_interface_mac_plugin.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>MAC-layer mobile mesh networking. </p>
<h1><a class="anchor" id="MeshOverview"></a>
Overview of Layer-2 Mesh networking protocols</h1>
<p>The main goal of this module is to provide MAC-layer routing functionality.</p>
<p>The main part of MAC-layer routing model is specific type of a network device &ndash; <a class="el" href="classns3_1_1_mesh_point_device.html" title="Virtual net device modeling mesh point.">ns3::MeshPointDevice</a>. Being an interface to upper-layer protocols, it provides routing functionality hidden from upper-layer protocols, by means of <a class="el" href="classns3_1_1_mesh_l2_routing_protocol.html" title="Interface for L2 mesh routing protocol and mesh point communication.">ns3::MeshL2RoutingProtocol</a>.</p>
<p>Our model supports stations with multiple network devices handled by a single MAC-layer routing protocol. So, <a class="el" href="classns3_1_1_mesh_point_device.html" title="Virtual net device modeling mesh point.">ns3::MeshPointDevice</a> serves as an umbrella to multiple network devices ("interfaces") working under the same MAC-layer routing protocol.</p>
<p>Network devices may be of different types, each with a specific medium access method. So <a class="el" href="classns3_1_1_mesh_l2_routing_protocol.html" title="Interface for L2 mesh routing protocol and mesh point communication.">ns3::MeshL2RoutingProtocol</a> consists of two parts: the one independent from the network device type, which we refer to as a routing protocol, and the other one depended on the network device type which we refer to as a plug-in to the routing protocol.</p>
<p>One can imagine a MAC-layer routing as a two-tier model. <a class="el" href="classns3_1_1_mesh_l2_routing_protocol.html" title="Interface for L2 mesh routing protocol and mesh point communication.">ns3::MeshL2RoutingProtocol</a> and <a class="el" href="classns3_1_1_mesh_point_device.html" title="Virtual net device modeling mesh point.">ns3::MeshPointDevice</a> belong to the upper tier. The task of <a class="el" href="classns3_1_1_mesh_point_device.html" title="Virtual net device modeling mesh point.">ns3::MeshPointDevice</a> is to send, receive, and forward frames, while the task of <a class="el" href="classns3_1_1_mesh_l2_routing_protocol.html" title="Interface for L2 mesh routing protocol and mesh point communication.">ns3::MeshL2RoutingProtocol</a> is to resolve routes and keep frames waiting for route resolution. This functionality is independent from the types of underlying network devices ("interfaces").</p>
<p>The lower tier implements the part of MAC-layer routing, specific for underlying network devices and their medium access control methods. For example, HWMP routing protocol in IEEE802.11s uses its own specific management frames.</p>
<p>At present, two routing protocols are implemented in this module:</p><ul>
<li>HWMP (default routing protocol for IEEE802.11s standard) + Peer management protocol (also described in 802.11s standard draft) which is required by HWMP to manage peer links (it works like association mechanism in IEEE802.11).</li>
<li>FLAME (Forwarding LAyer for MEshing).</li>
</ul>
<p>While HWMP only works with 802.11-MAC, FLAME works with all types of network devices, which support 48-bit MAC-addressing scheme.</p>
<h2><a class="anchor" id="Architecture"></a>
Architecture of MAC-layer routing stack</h2>
<p>As already mentioned, MAC-layer routing consists of two tiers. An <a class="el" href="classns3_1_1_mesh_point_device.html" title="Virtual net device modeling mesh point.">ns3::MeshPointDevice</a> which forwards frames by using an attached <a class="el" href="classns3_1_1_mesh_l2_routing_protocol.html" title="Interface for L2 mesh routing protocol and mesh point communication.">ns3::MeshL2RoutingProtocol</a> forms the upper tier. The interface between <a class="el" href="classns3_1_1_mesh_point_device.html" title="Virtual net device modeling mesh point.">ns3::MeshPointDevice</a> and the upper-layer protocols is inherited from <a class="el" href="classns3_1_1_net_device.html" title="Network layer to device interface.">ns3::NetDevice</a> class. The <a class="el" href="classns3_1_1_mesh_point_device.html" title="Virtual net device modeling mesh point.">ns3::MeshPointDevice</a> interacts with <a class="el" href="classns3_1_1_mesh_l2_routing_protocol.html" title="Interface for L2 mesh routing protocol and mesh point communication.">ns3::MeshL2RoutingProtocol</a> as follows: <a class="el" href="classns3_1_1_mesh_point_device.html" title="Virtual net device modeling mesh point.">ns3::MeshPointDevice</a> gives to <a class="el" href="classns3_1_1_mesh_l2_routing_protocol.html" title="Interface for L2 mesh routing protocol and mesh point communication.">ns3::MeshL2RoutingProtocol</a> a frame with the source and destination addresses, the network device index which the frame is received from, and a callback to be executed when the route is found. The callback is needed because all routing queues are implemented inside <a class="el" href="classns3_1_1_mesh_l2_routing_protocol.html" title="Interface for L2 mesh routing protocol and mesh point communication.">ns3::MeshL2RoutingProtocol</a>. When the route is resolved, <a class="el" href="classns3_1_1_mesh_l2_routing_protocol.html" title="Interface for L2 mesh routing protocol and mesh point communication.">ns3::MeshL2RoutingProtocol</a> returns the frame back to <a class="el" href="classns3_1_1_mesh_point_device.html" title="Virtual net device modeling mesh point.">ns3::MeshPointDevice</a> with the network device index which the packet shall be sent to. All additional routing information is stored inside the frame by means of tags. In the end, when all these routines are done, the frame goes to the lower tier.</p>
<p>The lower tier is responsible for filling MAC-specific headers. At present, we have only implemented the lower tier which is specific for <a class="el" href="classns3_1_1_wifi_net_device.html" title="Hold together all Wifi-related objects.">ns3::WifiNetDevice</a>. This tier is implemented as two base classes: <a class="el" href="classns3_1_1_mesh_wifi_interface_mac.html" title="Basic MAC of mesh point Wi-Fi interface. Its function is extendable through plugins mechanism.">ns3::MeshWifiInterfaceMac</a> and <a class="el" href="classns3_1_1_mesh_wifi_interface_mac_plugin.html" title="Common interface for mesh point interface MAC plugins.">ns3::MeshWifiInterfaceMacPlugin</a>. The former is a new kind of WifiMac. If beacon generation is enabled or disabled, it implements IEEE802.11s mesh functionality or a simple ad hoc functionality of the MAC-high part of the WiFi model, respectively. The latter is a plug-in to L2Routing protocol. It handles all outgoing and incoming frames, fills headers and make decisions to drop a frame or not. Also, it adds information elements to beacons specific to given L2Routing protocol, if needed. </p><div class="image">
<img src="MeshArchitecture.png" alt=""/>
<div class="caption">
Overview of the Mesh MAC-layer routing system</div></div>
<h2><a class="anchor" id="NewProtocol"></a>
Adding a new protocol</h2>
<p>This module requires all the network devices operate with <a class="el" href="classns3_1_1_mac48_address.html" title="an EUI-48 address">ns3::Mac48Address</a> addressing scheme.</p>
<p>To add a new L2Routing protocol, one needs to define the following:</p><ul>
<li>Write an upper part of the protocol inherited from ns3::MeshL2Routing.</li>
<li>If the protocol works only with 802.11 MAC &ndash; write a plug-in inherited from <a class="el" href="classns3_1_1_mesh_wifi_interface_mac_plugin.html" title="Common interface for mesh point interface MAC plugins.">ns3::MeshWifiInterfaceMacPlugin</a></li>
<li>If the protocol works with other types of network devices &ndash; write your own plug-in (interface for communication with other types of network devices is not implemented).</li>
</ul>
<p>When you implement a L2Routing protocol, remember that when you are at L2Routing tier, you work with a frame without an LLC header, and when you are at plug-in tier using <a class="el" href="classns3_1_1_mesh_wifi_interface_mac_plugin.html" title="Common interface for mesh point interface MAC plugins.">ns3::MeshWifiInterfaceMacPlugin</a>, an LLC header is already attached (by WifiNetDevice)</p>
<dl class="section attention"><dt>Attention</dt><dd>Note, when you use <a class="el" href="classns3_1_1_mesh_wifi_interface_mac.html" title="Basic MAC of mesh point Wi-Fi interface. Its function is extendable through plugins mechanism.">ns3::MeshWifiInterfaceMac</a>, multiple plug-ins may be installed.</dd></dl>
<h2><a class="anchor" id="Statistics"></a>
Statistics</h2>
<p>Each L2Routing protocol has a structure to capture statistics, Report and ResetStats methods. This gives an opportunity to collect statistic to an *.xml file periodically. </p>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- ns-3 doxygen header, based on
     HTML header for doxygen 1.8.3.1
     Verified compatible with 1.8.6
-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed Apr 29 2020 17:43:20 for ns-3 by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.19 </li>
  </ul>
</div>
</body>
</html>
