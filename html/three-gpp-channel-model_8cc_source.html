<!-- ns-3 doxygen header, based on
     HTML header for doxygen 1.8.3.1
     Verified compatible with 1.8.6
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.19"/>
<title>ns-3: src/spectrum/model/three-gpp-channel-model.cc Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="ns3_stylesheet.css" rel="stylesheet" type="text/css"/>
    <link href="favicon.ico" rel="shortcut icon" type="image/ico"></link>
    <script type="text/javascript" src="drop-down-menu.js"></script>
    <script type="text/javascript" src="ns3_version.js"></script>
    <script type="text/javascript" src="ns3_links.js"></script>
  </head>
<body>
    <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
      <div id="titlearea">
	<table cellspacing="0" cellpadding="0" width="100%">
	  <tbody>
	    <tr style="height: 56px;">
	      <td id="projectlogo">
		<a id="ns3_home1"
		  href="http://www.nsnam.org/">
		  <img alt="ns-3 Logo"
		    src="ns-3-inverted-notext-small.png"/>
		</a>
	      </td>
	      <td id="projecttext">
		<div id="projectbrief">A Discrete-Event Network Simulator</div>
		<span id="projectnumber"><script type="text/javascript">document.write(ns3_version)</script></span>
	      </td>
	      <td id="ns3-menu">
		<div class="menu">
		  <ul >
		    <li><a id="ns3_home2"
			href="http://www.nsnam.org/"
			>&nbsp;&nbsp;Home</a>
		    </li>
		    <li><span
			onmouseover="mopen('mTuts')" 
			onmouseout="mclosetime()"
			>Tutorials &nbsp;&#x25BC;</span>
		      <div id="mTuts" 
		        onmouseover="mcancelclosetime()" 
		        onmouseout="mclosetime()">
			<a id="ns3_tut"
			  href="/docs/tutorial/html/index.html"
			  >English</a><br/>
		    </li>
		    <li><span
			onmouseover="mopen('mDocs')" 
			onmouseout="mclosetime()"
			>Docs &nbsp;&nbsp;&nbsp;&#x25BC;</span>
		      <div id="mDocs"
		        onmouseover="mcancelclosetime()" 
		        onmouseout="mclosetime()">
			<a id="ns3_wiki"
			  href="http://www.nsnam.org/wiki"
			  >Wiki</a><br/>
			<a id="ns3_man"
			    href="/docs/manual/html/index.html"
			    >Manual</a><br/>
			<a id="ns3_mod"
			   href="/docs/models/html/index.html"
			   >Models</a><br/>
		    </li>
		    <li><span
			onmouseover="mopen('mDev')" 
			onmouseout="mclosetime()"
			>Develop &#x25BC;</span>
		      <div id="mDev"
		        onmouseover="mcancelclosetime()" 
		        onmouseout="mclosetime()">
			<a id="ns3_api"
			   href="/docs/doxygen/index.html"
			   >API</a><br/>
			<a id="ns3_bugs"
			   href="http://www.nsnam.org/bugzilla/">Bugs</a>
		    </li>
		  </ul>
		</div>
	      </td>
	      <td id="projectsection">
		<span style="margin-right:10px">API</span>
	      </td>
	    </tr>
	  </tbody>
	</table>
	<script  type="text/javascript">ns3_write_links();</script>
      </div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.19 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('three-gpp-channel-model_8cc_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">three-gpp-channel-model.cc</div>  </div>
</div><!--header-->
<div class="contents">
<a href="three-gpp-channel-model_8cc.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/* -*-  Mode: C++; c-file-style: &quot;gnu&quot;; indent-tabs-mode:nil; -*- */</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * Copyright (c) 2019 SIGNET Lab, Department of Information Engineering,</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * University of Padova</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * Copyright (c) 2015, NYU WIRELESS, Tandon School of Engineering,</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * New York University</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * This program is free software; you can redistribute it and/or modify</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * it under the terms of the GNU General Public License version 2 as</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * published by the Free Software Foundation;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * This program is distributed in the hope that it will be useful,</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * GNU General Public License for more details.</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> * You should have received a copy of the GNU General Public License</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * along with this program; if not, write to the Free Software</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160; </div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="three-gpp-channel-model_8h.html">three-gpp-channel-model.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;ns3/log.h&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;ns3/three-gpp-antenna-array-model.h&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;ns3/node.h&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;ns3/double.h&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;ns3/string.h&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;ns3/integer.h&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &lt;random&gt;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;ns3/log.h&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &lt;ns3/simulator.h&gt;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;ns3/mobility-model.h&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;ns3/pointer.h&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160; </div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacens3.html">ns3</a> {</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160; </div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<a class="code" href="group__logging.html#ga225a95395fa117b7309aa3c43518d02e">NS_LOG_COMPONENT_DEFINE</a> (<span class="stringliteral">&quot;ThreeGppChannelModel&quot;</span>);</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160; </div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<a class="code" href="group__object.html#gada1b0bfc04abdba718621b5095c87678">NS_OBJECT_ENSURE_REGISTERED</a> (ThreeGppChannelModel);</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160; </div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">//Table 7.5-3: Ray offset angles within a cluster, given for rms angle spread normalized to 1.</span></div>
<div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="namespacens3.html#a2344173eeb094a196c555a159e87bc6f">   44</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="namespacens3.html#a2344173eeb094a196c555a159e87bc6f">offSetAlpha</a>[20] = {</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  0.0447,-0.0447,0.1413,-0.1413,0.2492,-0.2492,0.3715,-0.3715,0.5129,-0.5129,0.6797,-0.6797,0.8844,-0.8844,1.1481,-1.1481,1.5195,-1.5195,2.1551,-2.1551</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;};</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160; </div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment"> * The cross correlation matrix is constructed according to table 7.5-6.</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment"> * All the square root matrix is being generated using the Cholesky decomposition</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment"> * and following the order of [SF,K,DS,ASD,ASA,ZSD,ZSA].</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment"> * The parameter K is ignored in NLOS.</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment"> * The Matlab file to generate the matrices can be found in</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment"> * https://github.com/nyuwireless-unipd/ns3-mmwave/blob/master/src/mmwave/model/BeamFormingMatrix/SqrtMatrix.m</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="namespacens3.html#a94d0f9da9e007c8579b09abe4c003e51">   58</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="namespacens3.html#a94d0f9da9e007c8579b09abe4c003e51">sqrtC_RMa_LOS</a>[7][7] = {</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  {1, 0, 0, 0, 0, 0, 0},</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  {0, 1, 0, 0, 0, 0, 0},</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  {-0.5, 0, 0.866025, 0, 0, 0, 0},</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  {0, 0, 0, 1, 0, 0, 0},</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  {0, 0, 0, 0, 1, 0, 0},</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  {0.01, 0, -0.0519615, 0.73, -0.2, 0.651383, 0},</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  {-0.17, -0.02, 0.21362, -0.14, 0.24, 0.142773, 0.909661},</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;};</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160; </div>
<div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="namespacens3.html#a5956658e14c03e840f117722cf0bbbb6">   68</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="namespacens3.html#a5956658e14c03e840f117722cf0bbbb6">sqrtC_RMa_NLOS</a>[6][6] = {</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  {1, 0, 0, 0, 0, 0},</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  {-0.5, 0.866025, 0, 0, 0, 0},</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  {0.6, -0.11547, 0.791623, 0, 0, 0},</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  {0, 0, 0, 1, 0, 0},</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  {-0.04, -0.138564, 0.540662, -0.18, 0.809003, 0},</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  {-0.25, -0.606218, -0.240013, 0.26, -0.231685, 0.625392},</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;};</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160; </div>
<div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="namespacens3.html#a2b0f46881ee11c47cddf832517b9a401">   77</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="namespacens3.html#a2b0f46881ee11c47cddf832517b9a401">sqrtC_RMa_O2I</a>[6][6] = {</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  {1, 0, 0, 0, 0, 0},</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  {0, 1, 0, 0, 0, 0},</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  {0, 0, 1, 0, 0, 0},</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  {0, 0, -0.7, 0.714143, 0, 0},</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  {0, 0, 0.66, -0.123225, 0.741091, 0},</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  {0, 0, 0.47, 0.152631, -0.393194, 0.775373},</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;};</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160; </div>
<div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="namespacens3.html#a6f06e6813ea09282bd2323f4499220b5">   86</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="namespacens3.html#a6f06e6813ea09282bd2323f4499220b5">sqrtC_UMa_LOS</a>[7][7] = {</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  {1, 0, 0, 0, 0, 0, 0},</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  {0, 1, 0, 0, 0, 0, 0},</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  {-0.4, -0.4, 0.824621, 0, 0, 0, 0},</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  {-0.5, 0, 0.242536, 0.83137, 0, 0, 0},</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  {-0.5, -0.2, 0.630593, -0.484671, 0.278293, 0, 0},</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  {0, 0, -0.242536, 0.672172, 0.642214, 0.27735, 0},</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  {-0.8, 0, -0.388057, -0.367926, 0.238537, -3.58949e-15, 0.130931},</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;};</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160; </div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160; </div>
<div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="namespacens3.html#ad5e4bf11a5acb312f0bc8a5326e39df2">   97</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="namespacens3.html#ad5e4bf11a5acb312f0bc8a5326e39df2">sqrtC_UMa_NLOS</a>[6][6] = {</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  {1, 0, 0, 0, 0, 0},</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  {-0.4, 0.916515, 0, 0, 0, 0},</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  {-0.6, 0.174574, 0.78072, 0, 0, 0},</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  {0, 0.654654, 0.365963, 0.661438, 0, 0},</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  {0, -0.545545, 0.762422, 0.118114, 0.327327, 0},</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  {-0.4, -0.174574, -0.396459, 0.392138, 0.49099, 0.507445},</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;};</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160; </div>
<div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="namespacens3.html#a39f2ef4de462777b91687b3f7f9d72f8">  106</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="namespacens3.html#a39f2ef4de462777b91687b3f7f9d72f8">sqrtC_UMa_O2I</a>[6][6] = {</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  {1, 0, 0, 0, 0, 0},</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  {-0.5, 0.866025, 0, 0, 0, 0},</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  {0.2, 0.57735, 0.791623, 0, 0, 0},</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  {0, 0.46188, -0.336861, 0.820482, 0, 0},</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  {0, -0.69282, 0.252646, 0.493742, 0.460857, 0},</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  {0, -0.23094, 0.16843, 0.808554, -0.220827, 0.464515},</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160; </div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;};</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160; </div>
<div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="namespacens3.html#a34f94bc21850882c7e480c4a8bc5036d">  116</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="namespacens3.html#a34f94bc21850882c7e480c4a8bc5036d">sqrtC_UMi_LOS</a>[7][7] = {</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  {1, 0, 0, 0, 0, 0, 0},</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  {0.5, 0.866025, 0, 0, 0, 0, 0},</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  {-0.4, -0.57735, 0.711805, 0, 0, 0, 0},</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  {-0.5, 0.057735, 0.468293, 0.726201, 0, 0, 0},</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  {-0.4, -0.11547, 0.805464, -0.23482, 0.350363, 0, 0},</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  {0, 0, 0, 0.688514, 0.461454, 0.559471, 0},</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  {0, 0, 0.280976, 0.231921, -0.490509, 0.11916, 0.782603},</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;};</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160; </div>
<div class="line"><a name="l00126"></a><span class="lineno"><a class="line" href="namespacens3.html#a6fd885aaf93f9727bfb2331d67dffec7">  126</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="namespacens3.html#a6fd885aaf93f9727bfb2331d67dffec7">sqrtC_UMi_NLOS</a>[6][6] = {</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  {1, 0, 0, 0, 0, 0},</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  {-0.7, 0.714143, 0, 0, 0, 0},</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  {0, 0, 1, 0, 0, 0},</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  {-0.4, 0.168034, 0, 0.90098, 0, 0},</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  {0, -0.70014, 0.5, 0.130577, 0.4927, 0},</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  {0, 0, 0.5, 0.221981, -0.566238, 0.616522},</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;};</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160; </div>
<div class="line"><a name="l00135"></a><span class="lineno"><a class="line" href="namespacens3.html#ac79a159d07651583d79482e4429cf74a">  135</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="namespacens3.html#ac79a159d07651583d79482e4429cf74a">sqrtC_UMi_O2I</a>[6][6] = {</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  {1, 0, 0, 0, 0, 0},</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  {-0.5, 0.866025, 0, 0, 0, 0},</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  {0.2, 0.57735, 0.791623, 0, 0, 0},</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  {0, 0.46188, -0.336861, 0.820482, 0, 0},</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  {0, -0.69282, 0.252646, 0.493742, 0.460857, 0},</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  {0, -0.23094, 0.16843, 0.808554, -0.220827, 0.464515},</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;};</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160; </div>
<div class="line"><a name="l00144"></a><span class="lineno"><a class="line" href="namespacens3.html#a39c2b4fa4d7bd533a6b2ecfa96b848ee">  144</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="namespacens3.html#a39c2b4fa4d7bd533a6b2ecfa96b848ee">sqrtC_office_LOS</a>[7][7] = {</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  {1, 0, 0, 0, 0, 0, 0},</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  {0.5, 0.866025, 0, 0, 0, 0, 0},</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  {-0.8, -0.11547, 0.588784, 0, 0, 0, 0},</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  {-0.4, 0.23094, 0.520847, 0.717903, 0, 0, 0},</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  {-0.5, 0.288675, 0.73598, -0.348236, 0.0610847, 0, 0},</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  {0.2, -0.11547, 0.418943, 0.541106, 0.219905, 0.655744, 0},</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  {0.3, -0.057735, 0.73598, -0.348236, 0.0610847, -0.304997, 0.383375},</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;};</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160; </div>
<div class="line"><a name="l00154"></a><span class="lineno"><a class="line" href="namespacens3.html#acc73441dd0287914f581fca4a7b36f3c">  154</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="namespacens3.html#acc73441dd0287914f581fca4a7b36f3c">sqrtC_office_NLOS</a>[6][6] = {</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  {1, 0, 0, 0, 0, 0},</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  {-0.5, 0.866025, 0, 0, 0, 0},</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  {0, 0.46188, 0.886942, 0, 0, 0},</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  {-0.4, -0.23094, 0.120263, 0.878751, 0, 0},</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  {0, -0.311769, 0.55697, -0.249198, 0.728344, 0},</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  {0, -0.069282, 0.295397, 0.430696, 0.468462, 0.709214},</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;};</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160; </div>
<div class="line"><a name="l00163"></a><span class="lineno"><a class="line" href="classns3_1_1_three_gpp_channel_model.html#a4e4a68ea9c164f38c71cadd3d4ca42b0">  163</a></span>&#160;<a class="code" href="classns3_1_1_three_gpp_channel_model.html#a4e4a68ea9c164f38c71cadd3d4ca42b0">ThreeGppChannelModel::ThreeGppChannelModel</a> ()</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;{</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <a class="code" href="group__logging.html#ga90b90d5bad1f39cb1b64923ea94c0761">NS_LOG_FUNCTION</a> (<span class="keyword">this</span>);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <a class="code" href="classns3_1_1_three_gpp_channel_model.html#a6f1967266792799ef6fa01181d4ae6b3">m_uniformRv</a> = CreateObject&lt;UniformRandomVariable&gt; ();</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160; </div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <a class="code" href="classns3_1_1_three_gpp_channel_model.html#a1d52f8abe7b21a2503279ae794e0e696">m_normalRv</a> = CreateObject&lt;NormalRandomVariable&gt; ();</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <a class="code" href="classns3_1_1_three_gpp_channel_model.html#a1d52f8abe7b21a2503279ae794e0e696">m_normalRv</a>-&gt;SetAttribute (<span class="stringliteral">&quot;Mean&quot;</span>, <a class="code" href="classns3_1_1_double_value.html">DoubleValue</a> (0.0));</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  <a class="code" href="classns3_1_1_three_gpp_channel_model.html#a1d52f8abe7b21a2503279ae794e0e696">m_normalRv</a>-&gt;SetAttribute (<span class="stringliteral">&quot;Variance&quot;</span>, <a class="code" href="classns3_1_1_double_value.html">DoubleValue</a> (1.0));</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;}</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160; </div>
<div class="line"><a name="l00173"></a><span class="lineno"><a class="line" href="classns3_1_1_three_gpp_channel_model.html#a3befdd6e5c6a800a4dbf9ea033eb0aa2">  173</a></span>&#160;<a class="code" href="classns3_1_1_three_gpp_channel_model.html#a3befdd6e5c6a800a4dbf9ea033eb0aa2">ThreeGppChannelModel::~ThreeGppChannelModel</a> ()</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;{</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  <a class="code" href="group__logging.html#ga90b90d5bad1f39cb1b64923ea94c0761">NS_LOG_FUNCTION</a> (<span class="keyword">this</span>);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;}</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160; </div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<a class="code" href="classns3_1_1_type_id.html">TypeId</a></div>
<div class="line"><a name="l00179"></a><span class="lineno"><a class="line" href="classns3_1_1_three_gpp_channel_model.html#ac9da49909816452a3f8025d3bc3d0447">  179</a></span>&#160;<a class="code" href="classns3_1_1_three_gpp_channel_model.html#ac9da49909816452a3f8025d3bc3d0447">ThreeGppChannelModel::GetTypeId</a> (<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;{</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <span class="keyword">static</span> <a class="code" href="classns3_1_1_type_id.html">TypeId</a> tid = <a class="code" href="classns3_1_1_type_id.html">TypeId</a> (<span class="stringliteral">&quot;ns3::ThreeGppChannelModel&quot;</span>)</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    .<a class="code" href="classns3_1_1_type_id.html#abaaca67ab7d2471067e7c275df0f7309">SetParent</a>&lt;<a class="code" href="classns3_1_1_object.html">Object</a>&gt; ()</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    .SetGroupName (<span class="stringliteral">&quot;Spectrum&quot;</span>)</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    .AddConstructor&lt;<a class="code" href="classns3_1_1_three_gpp_channel_model.html">ThreeGppChannelModel</a>&gt; ()</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    .AddAttribute (<span class="stringliteral">&quot;Frequency&quot;</span>,</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                   <span class="stringliteral">&quot;The operating Frequency in Hz&quot;</span>,</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                   <a class="code" href="classns3_1_1_double_value.html">DoubleValue</a> (500.0e6),</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                   <a class="code" href="namespacens3.html#a9698b9d45b5b800d0a691a458a8a1bcf">MakeDoubleAccessor</a> (&amp;<a class="code" href="classns3_1_1_three_gpp_channel_model.html#a5d2b26d56150f1417c4d710cb4023ed5">ThreeGppChannelModel::SetFrequency</a>,</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                                       &amp;<a class="code" href="classns3_1_1_three_gpp_channel_model.html#abead897cbe6824097b4424471edac979">ThreeGppChannelModel::GetFrequency</a>),</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                   MakeDoubleChecker&lt;double&gt; ())</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    .AddAttribute (<span class="stringliteral">&quot;Scenario&quot;</span>,</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                   <span class="stringliteral">&quot;The 3GPP scenario (RMa, UMa, UMi-StreetCanyon, InH-OfficeOpen, InH-OfficeMixed)&quot;</span>,</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                   <a class="code" href="classns3_1_1_string_value.html">StringValue</a> (<span class="stringliteral">&quot;UMa&quot;</span>),</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                   <a class="code" href="namespacens3.html#ab4dd4b5e197ecad857dca5725f0ddd8c">MakeStringAccessor</a> (&amp;<a class="code" href="classns3_1_1_three_gpp_channel_model.html#a75e53095ed616e79af3afbb145b34440">ThreeGppChannelModel::SetScenario</a>,</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                                       &amp;<a class="code" href="classns3_1_1_three_gpp_channel_model.html#ab9cf45d796fd816ae49727680b45258b">ThreeGppChannelModel::GetScenario</a>),</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                   <a class="code" href="namespacens3.html#a5e950c5ef7eed96d9067b823425f4f64">MakeStringChecker</a> ())</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    .AddAttribute (<span class="stringliteral">&quot;ChannelConditionModel&quot;</span>,</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                   <span class="stringliteral">&quot;Pointer to the channel condition model&quot;</span>,</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                   <a class="code" href="classns3_1_1_pointer_value.html">PointerValue</a> (),</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                   <a class="code" href="namespacens3.html#a395865a96718adfbd81ec47aa442931d">MakePointerAccessor</a> (&amp;<a class="code" href="classns3_1_1_three_gpp_channel_model.html#a816db845c97b53e5bb5dcfaa230c4b9a">ThreeGppChannelModel::SetChannelConditionModel</a>,</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                                        &amp;<a class="code" href="classns3_1_1_three_gpp_channel_model.html#ab22740460af3d47432f757d0fa373440">ThreeGppChannelModel::GetChannelConditionModel</a>),</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                   MakePointerChecker&lt;ChannelConditionModel&gt; ())</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    .AddAttribute (<span class="stringliteral">&quot;UpdatePeriod&quot;</span>,</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                   <span class="stringliteral">&quot;Specify the channel coherence time&quot;</span>,</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                   <a class="code" href="classns3_1_1_time_value.html">TimeValue</a> (<a class="code" href="group__timecivil.html#gaf26127cf4571146b83a92ee18679c7a9">MilliSeconds</a> (0)),</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                   <a class="code" href="namespacens3.html#a14613e89827b8d95bcfcbe23a763d4b6">MakeTimeAccessor</a> (&amp;<a class="code" href="classns3_1_1_three_gpp_channel_model.html#af3822dc7a32dcfeb06c5f29b04218974">ThreeGppChannelModel::m_updatePeriod</a>),</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                   <a class="code" href="namespacens3.html#a7032965bd4afa578691d88c09e4481c1">MakeTimeChecker</a> ())</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="comment">// attributes for the blockage model</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    .AddAttribute (<span class="stringliteral">&quot;Blockage&quot;</span>,</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                   <span class="stringliteral">&quot;Enable blockage model A (sec 7.6.4.1)&quot;</span>,</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                   <a class="code" href="classns3_1_1_boolean_value.html">BooleanValue</a> (<span class="keyword">false</span>),</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                   <a class="code" href="namespacens3.html#a8b4257cb2f3dc8cbce37f92e1c98660f">MakeBooleanAccessor</a> (&amp;<a class="code" href="classns3_1_1_three_gpp_channel_model.html#a2bed3dad6a8b235b32bccdfb2885cbf2">ThreeGppChannelModel::m_blockage</a>),</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                   <a class="code" href="namespacens3.html#adfb8610b210cb6f3f5ff954e709f120d">MakeBooleanChecker</a> ())</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    .AddAttribute (<span class="stringliteral">&quot;NumNonselfBlocking&quot;</span>,</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                   <span class="stringliteral">&quot;number of non-self-blocking regions&quot;</span>,</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                   <a class="code" href="classns3_1_1_integer_value.html">IntegerValue</a> (4),</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                   <a class="code" href="namespacens3.html#a557ed8cc6b1baa941d09d73f76b513ad">MakeIntegerAccessor</a> (&amp;<a class="code" href="classns3_1_1_three_gpp_channel_model.html#a845ceb5ed6364ab4b6819341acfb5611">ThreeGppChannelModel::m_numNonSelfBlocking</a>),</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                   MakeIntegerChecker&lt;uint16_t&gt; ())</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    .AddAttribute (<span class="stringliteral">&quot;PortraitMode&quot;</span>,</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                   <span class="stringliteral">&quot;true for portrait mode, false for landscape mode&quot;</span>,</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                   <a class="code" href="classns3_1_1_boolean_value.html">BooleanValue</a> (<span class="keyword">true</span>),</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                   <a class="code" href="namespacens3.html#a8b4257cb2f3dc8cbce37f92e1c98660f">MakeBooleanAccessor</a> (&amp;<a class="code" href="classns3_1_1_three_gpp_channel_model.html#a0a5207845a3dafa29315f1e13ec4d20f">ThreeGppChannelModel::m_portraitMode</a>),</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                   <a class="code" href="namespacens3.html#adfb8610b210cb6f3f5ff954e709f120d">MakeBooleanChecker</a> ())</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    .AddAttribute (<span class="stringliteral">&quot;BlockerSpeed&quot;</span>,</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                   <span class="stringliteral">&quot;The speed of moving blockers, the unit is m/s&quot;</span>,</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                   <a class="code" href="classns3_1_1_double_value.html">DoubleValue</a> (1),</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                   <a class="code" href="namespacens3.html#a9698b9d45b5b800d0a691a458a8a1bcf">MakeDoubleAccessor</a> (&amp;<a class="code" href="classns3_1_1_three_gpp_channel_model.html#a4f27160ce3a173bbe338d3fd5fc508b3">ThreeGppChannelModel::m_blockerSpeed</a>),</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                   MakeDoubleChecker&lt;double&gt; ())</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    ;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <span class="keywordflow">return</span> tid;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;}</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160; </div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l00234"></a><span class="lineno"><a class="line" href="classns3_1_1_three_gpp_channel_model.html#a816db845c97b53e5bb5dcfaa230c4b9a">  234</a></span>&#160;<a class="code" href="classns3_1_1_three_gpp_channel_model.html#a816db845c97b53e5bb5dcfaa230c4b9a">ThreeGppChannelModel::SetChannelConditionModel</a> (<a class="code" href="classns3_1_1_ptr.html">Ptr&lt;ChannelConditionModel&gt;</a> model)</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;{</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  <a class="code" href="group__logging.html#ga90b90d5bad1f39cb1b64923ea94c0761">NS_LOG_FUNCTION</a> (<span class="keyword">this</span>);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <a class="code" href="classns3_1_1_three_gpp_channel_model.html#ab4ca73d2aecd3c3d7ea08d5dae904281">m_channelConditionModel</a> = model;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;}</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160; </div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<a class="code" href="classns3_1_1_ptr.html">Ptr&lt;ChannelConditionModel&gt;</a></div>
<div class="line"><a name="l00241"></a><span class="lineno"><a class="line" href="classns3_1_1_three_gpp_channel_model.html#ab22740460af3d47432f757d0fa373440">  241</a></span>&#160;<a class="code" href="classns3_1_1_three_gpp_channel_model.html#ab22740460af3d47432f757d0fa373440">ThreeGppChannelModel::GetChannelConditionModel</a> ()<span class="keyword"> const</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  <a class="code" href="group__logging.html#ga90b90d5bad1f39cb1b64923ea94c0761">NS_LOG_FUNCTION</a> (<span class="keyword">this</span>);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classns3_1_1_three_gpp_channel_model.html#ab4ca73d2aecd3c3d7ea08d5dae904281">m_channelConditionModel</a>;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;}</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160; </div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l00248"></a><span class="lineno"><a class="line" href="classns3_1_1_three_gpp_channel_model.html#a5d2b26d56150f1417c4d710cb4023ed5">  248</a></span>&#160;<a class="code" href="classns3_1_1_three_gpp_channel_model.html#a5d2b26d56150f1417c4d710cb4023ed5">ThreeGppChannelModel::SetFrequency</a> (<span class="keywordtype">double</span> <a class="code" href="80211b_8c.html#ae7ffc1a8f84fa47a0812b2f2b9627132">f</a>)</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;{</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  <a class="code" href="group__logging.html#ga90b90d5bad1f39cb1b64923ea94c0761">NS_LOG_FUNCTION</a> (<span class="keyword">this</span>);</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  <a class="code" href="ipv4-address-generator_8cc.html#aaf5aa23b804d2e5e334106f207e8a6cc">NS_ASSERT_MSG</a> (<a class="code" href="80211b_8c.html#ae7ffc1a8f84fa47a0812b2f2b9627132">f</a> &gt;= 500.0e6 &amp;&amp; <a class="code" href="80211b_8c.html#ae7ffc1a8f84fa47a0812b2f2b9627132">f</a> &lt;= 100.0e9, <span class="stringliteral">&quot;Frequency should be between 0.5 and 100 GHz but is &quot;</span> &lt;&lt; <a class="code" href="80211b_8c.html#ae7ffc1a8f84fa47a0812b2f2b9627132">f</a>);</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  <a class="code" href="classns3_1_1_three_gpp_channel_model.html#a9ed0314cea99395b9ffb3bc7118a9102">m_frequency</a> = <a class="code" href="80211b_8c.html#ae7ffc1a8f84fa47a0812b2f2b9627132">f</a>;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;}</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160; </div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="keywordtype">double</span></div>
<div class="line"><a name="l00256"></a><span class="lineno"><a class="line" href="classns3_1_1_three_gpp_channel_model.html#abead897cbe6824097b4424471edac979">  256</a></span>&#160;<a class="code" href="classns3_1_1_three_gpp_channel_model.html#abead897cbe6824097b4424471edac979">ThreeGppChannelModel::GetFrequency</a> ()<span class="keyword"> const</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  <a class="code" href="group__logging.html#ga90b90d5bad1f39cb1b64923ea94c0761">NS_LOG_FUNCTION</a> (<span class="keyword">this</span>);</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classns3_1_1_three_gpp_channel_model.html#a9ed0314cea99395b9ffb3bc7118a9102">m_frequency</a>;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;}</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160; </div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l00263"></a><span class="lineno"><a class="line" href="classns3_1_1_three_gpp_channel_model.html#a75e53095ed616e79af3afbb145b34440">  263</a></span>&#160;<a class="code" href="classns3_1_1_three_gpp_channel_model.html#a75e53095ed616e79af3afbb145b34440">ThreeGppChannelModel::SetScenario</a> (<span class="keyword">const</span> std::string &amp;scenario)</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;{</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  <a class="code" href="group__logging.html#ga90b90d5bad1f39cb1b64923ea94c0761">NS_LOG_FUNCTION</a> (<span class="keyword">this</span>);</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  <a class="code" href="ipv4-address-generator_8cc.html#aaf5aa23b804d2e5e334106f207e8a6cc">NS_ASSERT_MSG</a> (scenario == <span class="stringliteral">&quot;RMa&quot;</span> || scenario == <span class="stringliteral">&quot;UMa&quot;</span> || scenario == <span class="stringliteral">&quot;UMi-StreetCanyon&quot;</span> ||</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                 scenario == <span class="stringliteral">&quot;InH-OfficeOpen&quot;</span> || scenario == <span class="stringliteral">&quot;InH-OfficeMixed&quot;</span>,</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                 <span class="stringliteral">&quot;Unknown scenario, choose between RMa, UMa, UMi-StreetCanyon, InH-OfficeOpen or InH-OfficeMixed&quot;</span>);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  <a class="code" href="classns3_1_1_three_gpp_channel_model.html#ab968c2f70de05322e504a407f92ad898">m_scenario</a> = scenario;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;}</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160; </div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;std::string</div>
<div class="line"><a name="l00273"></a><span class="lineno"><a class="line" href="classns3_1_1_three_gpp_channel_model.html#ab9cf45d796fd816ae49727680b45258b">  273</a></span>&#160;<a class="code" href="classns3_1_1_three_gpp_channel_model.html#ab9cf45d796fd816ae49727680b45258b">ThreeGppChannelModel::GetScenario</a> ()<span class="keyword"> const</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  <a class="code" href="group__logging.html#ga90b90d5bad1f39cb1b64923ea94c0761">NS_LOG_FUNCTION</a> (<span class="keyword">this</span>);</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classns3_1_1_three_gpp_channel_model.html#ab968c2f70de05322e504a407f92ad898">m_scenario</a>;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;}</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160; </div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<a class="code" href="classns3_1_1_ptr.html">Ptr&lt;const ThreeGppChannelModel::ParamsTable&gt;</a></div>
<div class="line"><a name="l00280"></a><span class="lineno"><a class="line" href="classns3_1_1_three_gpp_channel_model.html#a96b416dbec34b6baab625acf1a361e5f">  280</a></span>&#160;<a class="code" href="classns3_1_1_three_gpp_channel_model.html#a96b416dbec34b6baab625acf1a361e5f">ThreeGppChannelModel::GetThreeGppTable</a> (<span class="keywordtype">bool</span> los, <span class="keywordtype">bool</span> o2i, <span class="keywordtype">double</span> hBS, <span class="keywordtype">double</span> hUT, <span class="keywordtype">double</span> distance2D)<span class="keyword"> const</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  <a class="code" href="group__logging.html#ga90b90d5bad1f39cb1b64923ea94c0761">NS_LOG_FUNCTION</a> (<span class="keyword">this</span>);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160; </div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  <span class="keywordtype">double</span> fcGHz = <a class="code" href="classns3_1_1_three_gpp_channel_model.html#a9ed0314cea99395b9ffb3bc7118a9102">m_frequency</a> / 1e9;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  <a class="code" href="classns3_1_1_ptr.html">Ptr&lt;ParamsTable&gt;</a> table3gpp = Create&lt;ParamsTable&gt; ();</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  <span class="comment">// table3gpp includes the following parameters:</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  <span class="comment">// numOfCluster, raysPerCluster, uLgDS, sigLgDS, uLgASD, sigLgASD,</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  <span class="comment">// uLgASA, sigLgASA, uLgZSA, sigLgZSA, uLgZSD, sigLgZSD, offsetZOD,</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  <span class="comment">// cDS, cASD, cASA, cZSA, uK, sigK, rTau, uXpr, sigXpr, shadowingStd</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160; </div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  <span class="comment">// In NLOS case, parameter uK and sigK are not used and they are set to 0</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_three_gpp_channel_model.html#ab968c2f70de05322e504a407f92ad898">m_scenario</a> == <span class="stringliteral">&quot;RMa&quot;</span>)</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    {</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;      <span class="keywordflow">if</span> (los &amp;&amp; !o2i)</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        {</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;          <span class="comment">// 3GPP mentioned that 3.91 ns should be used when the Cluster DS (cDS)</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;          <span class="comment">// entry is N/A.</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#ab42b225c13f41995ffcd3de27e14ad2f">m_numOfCluster</a> = 11;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a593464ecd10da87588dfd4509045debb">m_raysPerCluster</a> = 20;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a7fdf9b839af774618f1267a00dc0fe0d">m_uLgDS</a> = -7.49;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#ae7c4787d86a984e4e032ca62f76edcee">m_sigLgDS</a> = 0.55;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a4172677edd5c4d3ac1331c0f2a62698e">m_uLgASD</a> = 0.90;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a79af9861ec4a042359c533f926e0f69f">m_sigLgASD</a> = 0.38;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a223177af5618a3f08e142f69ca09ba56">m_uLgASA</a> = 1.52;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a997e35b46920178711f78d7315425bfe">m_sigLgASA</a> = 0.24;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#aaf70ed1a21702f82db50f7c533a62117">m_uLgZSA</a> = 0.47;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#ad18775877d503ae8780ee82cd7a7c03c">m_sigLgZSA</a> = 0.40;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a1da6dcc53d8d85a885eac2e1ad1ad72f">m_uLgZSD</a> = 0.34;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a1b232288c744b55b438d1dc8686097d3">m_sigLgZSD</a> = <a class="code" href="80211b_8c.html#affe776513b24d84b39af8ab0930fef7f">std::max</a> (-1.0, -0.17 * (distance2D / 1000) - 0.01 * (hUT - 1.5) + 0.22);</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a7bc4cfade671c55c259b2a60348a7aed">m_offsetZOD</a> = 0;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#ab1520d35465ea804902f3c4f57063fd1">m_cDS</a> = 3.91e-9;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a1ce8ab7e6303740b2ff666c5dd7cc3ca">m_cASD</a> = 2;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a494ba2e2b37d6830e7ef46cc3555d79e">m_cASA</a> = 3;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#aaf74f560ce44d6ad05f9697cd672078e">m_cZSA</a> = 3;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a4150c63be2ae575ed3fdfe688ff82e9d">m_uK</a> = 7;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a639590fb89b38d7c28fa987490ee67a1">m_sigK</a> = 4;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a56bedb77bc11075a3ad220fb837fafa3">m_rTau</a> = 3.8;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#adac20a0adc245e3f6f91e5786df70823">m_uXpr</a> = 12;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a3a8039a5403a6cd3e1cc8db4a132245c">m_sigXpr</a> = 4;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a68894ea90be404a9aff3e010830503cc">m_perClusterShadowingStd</a> = 3;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160; </div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;          <span class="keywordflow">for</span> (uint8_t row = 0; row &lt; 7; row++)</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;            {</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;              <span class="keywordflow">for</span> (uint8_t column = 0; column &lt; 7; column++)</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;                {</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                  table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a0efa0087fd9f74f96a992de838625e35">m_sqrtC</a>[row][column] = <a class="code" href="namespacens3.html#a94d0f9da9e007c8579b09abe4c003e51">sqrtC_RMa_LOS</a>[row][column];</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                }</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;            }</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        }</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!los &amp;&amp; !o2i)</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        {</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#ab42b225c13f41995ffcd3de27e14ad2f">m_numOfCluster</a> = 10;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a593464ecd10da87588dfd4509045debb">m_raysPerCluster</a> = 20;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a7fdf9b839af774618f1267a00dc0fe0d">m_uLgDS</a> = -7.43;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#ae7c4787d86a984e4e032ca62f76edcee">m_sigLgDS</a> = 0.48;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a4172677edd5c4d3ac1331c0f2a62698e">m_uLgASD</a> = 0.95;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a79af9861ec4a042359c533f926e0f69f">m_sigLgASD</a> = 0.45;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a223177af5618a3f08e142f69ca09ba56">m_uLgASA</a> = 1.52;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a997e35b46920178711f78d7315425bfe">m_sigLgASA</a> = 0.13;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#aaf70ed1a21702f82db50f7c533a62117">m_uLgZSA</a> = 0.58,</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#ad18775877d503ae8780ee82cd7a7c03c">m_sigLgZSA</a> = 0.37;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a1da6dcc53d8d85a885eac2e1ad1ad72f">m_uLgZSD</a> = <a class="code" href="80211b_8c.html#affe776513b24d84b39af8ab0930fef7f">std::max</a> (-1.0, -0.19 * (distance2D / 1000) - 0.01 * (hUT - 1.5) + 0.28);</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a1b232288c744b55b438d1dc8686097d3">m_sigLgZSD</a> = 0.30;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a7bc4cfade671c55c259b2a60348a7aed">m_offsetZOD</a> = atan ((35 - 3.5) / distance2D) - atan ((35 - 1.5) / distance2D);</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#ab1520d35465ea804902f3c4f57063fd1">m_cDS</a> = 3.91e-9;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a1ce8ab7e6303740b2ff666c5dd7cc3ca">m_cASD</a> = 2;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a494ba2e2b37d6830e7ef46cc3555d79e">m_cASA</a> = 3;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#aaf74f560ce44d6ad05f9697cd672078e">m_cZSA</a> = 3;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a4150c63be2ae575ed3fdfe688ff82e9d">m_uK</a> = 0;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a639590fb89b38d7c28fa987490ee67a1">m_sigK</a> = 0;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a56bedb77bc11075a3ad220fb837fafa3">m_rTau</a> = 1.7;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#adac20a0adc245e3f6f91e5786df70823">m_uXpr</a> = 7;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a3a8039a5403a6cd3e1cc8db4a132245c">m_sigXpr</a> = 3;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a68894ea90be404a9aff3e010830503cc">m_perClusterShadowingStd</a> = 3;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160; </div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;          <span class="keywordflow">for</span> (uint8_t row = 0; row &lt; 6; row++)</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;            {</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;              <span class="keywordflow">for</span> (uint8_t column = 0; column &lt; 6; column++)</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;                {</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                  table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a0efa0087fd9f74f96a992de838625e35">m_sqrtC</a>[row][column] = <a class="code" href="namespacens3.html#a5956658e14c03e840f117722cf0bbbb6">sqrtC_RMa_NLOS</a>[row][column];</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                }</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;            }</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        }</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;      <span class="keywordflow">else</span> <span class="comment">// o2i</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        {</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#ab42b225c13f41995ffcd3de27e14ad2f">m_numOfCluster</a> = 10;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a593464ecd10da87588dfd4509045debb">m_raysPerCluster</a> = 20;</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a7fdf9b839af774618f1267a00dc0fe0d">m_uLgDS</a> = -7.47;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#ae7c4787d86a984e4e032ca62f76edcee">m_sigLgDS</a> = 0.24;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a4172677edd5c4d3ac1331c0f2a62698e">m_uLgASD</a> = 0.67;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a79af9861ec4a042359c533f926e0f69f">m_sigLgASD</a> = 0.18;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a223177af5618a3f08e142f69ca09ba56">m_uLgASA</a> = 1.66;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a997e35b46920178711f78d7315425bfe">m_sigLgASA</a> = 0.21;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#aaf70ed1a21702f82db50f7c533a62117">m_uLgZSA</a> = 0.93,</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#ad18775877d503ae8780ee82cd7a7c03c">m_sigLgZSA</a> = 0.22;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a1da6dcc53d8d85a885eac2e1ad1ad72f">m_uLgZSD</a> = <a class="code" href="80211b_8c.html#affe776513b24d84b39af8ab0930fef7f">std::max</a> (-1.0, -0.19 * (distance2D / 1000) - 0.01 * (hUT - 1.5) + 0.28);</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a1b232288c744b55b438d1dc8686097d3">m_sigLgZSD</a> = 0.30;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a7bc4cfade671c55c259b2a60348a7aed">m_offsetZOD</a> = atan ((35 - 3.5) / distance2D) - atan ((35 - 1.5) / distance2D);</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#ab1520d35465ea804902f3c4f57063fd1">m_cDS</a> = 3.91e-9;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a1ce8ab7e6303740b2ff666c5dd7cc3ca">m_cASD</a> = 2;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a494ba2e2b37d6830e7ef46cc3555d79e">m_cASA</a> = 3;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#aaf74f560ce44d6ad05f9697cd672078e">m_cZSA</a> = 3;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a4150c63be2ae575ed3fdfe688ff82e9d">m_uK</a> = 0;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a639590fb89b38d7c28fa987490ee67a1">m_sigK</a> = 0;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a56bedb77bc11075a3ad220fb837fafa3">m_rTau</a> = 1.7;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#adac20a0adc245e3f6f91e5786df70823">m_uXpr</a> = 7;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a3a8039a5403a6cd3e1cc8db4a132245c">m_sigXpr</a> = 3;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a68894ea90be404a9aff3e010830503cc">m_perClusterShadowingStd</a> = 3;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160; </div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;          <span class="keywordflow">for</span> (uint8_t row = 0; row &lt; 6; row++)</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;            {</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;              <span class="keywordflow">for</span> (uint8_t column = 0; column &lt; 6; column++)</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                {</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                  table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a0efa0087fd9f74f96a992de838625e35">m_sqrtC</a>[row][column] = <a class="code" href="namespacens3.html#a2b0f46881ee11c47cddf832517b9a401">sqrtC_RMa_O2I</a>[row][column];</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                }</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;            }</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        }</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    }</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_three_gpp_channel_model.html#ab968c2f70de05322e504a407f92ad898">m_scenario</a> == <span class="stringliteral">&quot;UMa&quot;</span>)</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    {</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;      <span class="keywordflow">if</span> (los &amp;&amp; !o2i)</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        {</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#ab42b225c13f41995ffcd3de27e14ad2f">m_numOfCluster</a> = 12;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a593464ecd10da87588dfd4509045debb">m_raysPerCluster</a> = 20;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a7fdf9b839af774618f1267a00dc0fe0d">m_uLgDS</a> = -6.955 - 0.0963 * log10 (fcGHz);</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#ae7c4787d86a984e4e032ca62f76edcee">m_sigLgDS</a> = 0.66;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a4172677edd5c4d3ac1331c0f2a62698e">m_uLgASD</a> = 1.06 + 0.1114 * log10 (fcGHz);</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a79af9861ec4a042359c533f926e0f69f">m_sigLgASD</a> = 0.28;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a223177af5618a3f08e142f69ca09ba56">m_uLgASA</a> = 1.81;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a997e35b46920178711f78d7315425bfe">m_sigLgASA</a> = 0.20;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#aaf70ed1a21702f82db50f7c533a62117">m_uLgZSA</a> = 0.95;</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#ad18775877d503ae8780ee82cd7a7c03c">m_sigLgZSA</a> = 0.16;</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a1da6dcc53d8d85a885eac2e1ad1ad72f">m_uLgZSD</a> = <a class="code" href="80211b_8c.html#affe776513b24d84b39af8ab0930fef7f">std::max</a> (-0.5, -2.1 * distance2D / 1000 - 0.01 * (hUT - 1.5) + 0.75);</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a1b232288c744b55b438d1dc8686097d3">m_sigLgZSD</a> = 0.40;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a7bc4cfade671c55c259b2a60348a7aed">m_offsetZOD</a> = 0;</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#ab1520d35465ea804902f3c4f57063fd1">m_cDS</a> = <a class="code" href="80211b_8c.html#affe776513b24d84b39af8ab0930fef7f">std::max</a> (0.25, -3.4084 * log10 (fcGHz) + 6.5622) * 1e-9;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a1ce8ab7e6303740b2ff666c5dd7cc3ca">m_cASD</a> = 5;</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a494ba2e2b37d6830e7ef46cc3555d79e">m_cASA</a> = 11;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#aaf74f560ce44d6ad05f9697cd672078e">m_cZSA</a> = 7;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a4150c63be2ae575ed3fdfe688ff82e9d">m_uK</a> = 9;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a639590fb89b38d7c28fa987490ee67a1">m_sigK</a> = 3.5;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a56bedb77bc11075a3ad220fb837fafa3">m_rTau</a> = 2.5;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#adac20a0adc245e3f6f91e5786df70823">m_uXpr</a> = 8;</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a3a8039a5403a6cd3e1cc8db4a132245c">m_sigXpr</a> = 4;</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a68894ea90be404a9aff3e010830503cc">m_perClusterShadowingStd</a> = 3;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160; </div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;          <span class="keywordflow">for</span> (uint8_t row = 0; row &lt; 7; row++)</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;            {</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;              <span class="keywordflow">for</span> (uint8_t column = 0; column &lt; 7; column++)</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                {</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                  table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a0efa0087fd9f74f96a992de838625e35">m_sqrtC</a>[row][column] = <a class="code" href="namespacens3.html#a6f06e6813ea09282bd2323f4499220b5">sqrtC_UMa_LOS</a>[row][column];</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                }</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;            }</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        }</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        {</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;          <span class="keywordtype">double</span> uLgZSD = <a class="code" href="80211b_8c.html#affe776513b24d84b39af8ab0930fef7f">std::max</a> (-0.5, -2.1 * distance2D / 1000 - 0.01 * (hUT - 1.5) + 0.9);</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160; </div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;          <span class="keywordtype">double</span> afc = 0.208 * log10 (fcGHz) - 0.782;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;          <span class="keywordtype">double</span> bfc = 25;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;          <span class="keywordtype">double</span> cfc = -0.13 * log10 (fcGHz) + 2.03;</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;          <span class="keywordtype">double</span> efc = 7.66 * log10 (fcGHz) - 5.96;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160; </div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;          <span class="keywordtype">double</span> offsetZOD = efc - std::pow (10, afc * log10 (<a class="code" href="80211b_8c.html#affe776513b24d84b39af8ab0930fef7f">std::max</a> (bfc,distance2D)) + cfc);</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160; </div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;          <span class="keywordflow">if</span> (!los &amp;&amp; !o2i)</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;            {</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#ab42b225c13f41995ffcd3de27e14ad2f">m_numOfCluster</a> = 20;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a593464ecd10da87588dfd4509045debb">m_raysPerCluster</a> = 20;</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a7fdf9b839af774618f1267a00dc0fe0d">m_uLgDS</a> = -6.28 - 0.204 * log10 (fcGHz);</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#ae7c4787d86a984e4e032ca62f76edcee">m_sigLgDS</a> = 0.39;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a4172677edd5c4d3ac1331c0f2a62698e">m_uLgASD</a> = 1.5 - 0.1144 * log10 (fcGHz);</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a79af9861ec4a042359c533f926e0f69f">m_sigLgASD</a> = 0.28;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a223177af5618a3f08e142f69ca09ba56">m_uLgASA</a> = 2.08 - 0.27 * log10 (fcGHz);</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a997e35b46920178711f78d7315425bfe">m_sigLgASA</a> = 0.11;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#aaf70ed1a21702f82db50f7c533a62117">m_uLgZSA</a> = -0.3236 * log10 (fcGHz) + 1.512;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#ad18775877d503ae8780ee82cd7a7c03c">m_sigLgZSA</a> = 0.16;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a1da6dcc53d8d85a885eac2e1ad1ad72f">m_uLgZSD</a> = uLgZSD;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a1b232288c744b55b438d1dc8686097d3">m_sigLgZSD</a> = 0.49;</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a7bc4cfade671c55c259b2a60348a7aed">m_offsetZOD</a> = offsetZOD;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#ab1520d35465ea804902f3c4f57063fd1">m_cDS</a> = <a class="code" href="80211b_8c.html#affe776513b24d84b39af8ab0930fef7f">std::max</a> (0.25, -3.4084 * log10 (fcGHz) + 6.5622) * 1e-9;;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a1ce8ab7e6303740b2ff666c5dd7cc3ca">m_cASD</a> = 2;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a494ba2e2b37d6830e7ef46cc3555d79e">m_cASA</a> = 15;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#aaf74f560ce44d6ad05f9697cd672078e">m_cZSA</a> = 7;</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a4150c63be2ae575ed3fdfe688ff82e9d">m_uK</a> = 0;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a639590fb89b38d7c28fa987490ee67a1">m_sigK</a> = 0;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a56bedb77bc11075a3ad220fb837fafa3">m_rTau</a> = 2.3;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#adac20a0adc245e3f6f91e5786df70823">m_uXpr</a> = 7;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a3a8039a5403a6cd3e1cc8db4a132245c">m_sigXpr</a> = 3;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a68894ea90be404a9aff3e010830503cc">m_perClusterShadowingStd</a> = 3;</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160; </div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;              <span class="keywordflow">for</span> (uint8_t row = 0; row &lt; 6; row++)</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;                {</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                  <span class="keywordflow">for</span> (uint8_t column = 0; column &lt; 6; column++)</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                    {</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                      table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a0efa0087fd9f74f96a992de838625e35">m_sqrtC</a>[row][column] = <a class="code" href="namespacens3.html#ad5e4bf11a5acb312f0bc8a5326e39df2">sqrtC_UMa_NLOS</a>[row][column];</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                    }</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;                }</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;            }</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;          <span class="keywordflow">else</span> <span class="comment">//(o2i)</span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;            {</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#ab42b225c13f41995ffcd3de27e14ad2f">m_numOfCluster</a> = 12;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a593464ecd10da87588dfd4509045debb">m_raysPerCluster</a> = 20;</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a7fdf9b839af774618f1267a00dc0fe0d">m_uLgDS</a> = -6.62;</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#ae7c4787d86a984e4e032ca62f76edcee">m_sigLgDS</a> = 0.32;</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a4172677edd5c4d3ac1331c0f2a62698e">m_uLgASD</a> = 1.25;</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a79af9861ec4a042359c533f926e0f69f">m_sigLgASD</a> = 0.42;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a223177af5618a3f08e142f69ca09ba56">m_uLgASA</a> = 1.76;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a997e35b46920178711f78d7315425bfe">m_sigLgASA</a> = 0.16;</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#aaf70ed1a21702f82db50f7c533a62117">m_uLgZSA</a> = 1.01;</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#ad18775877d503ae8780ee82cd7a7c03c">m_sigLgZSA</a> = 0.43;</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a1da6dcc53d8d85a885eac2e1ad1ad72f">m_uLgZSD</a> = uLgZSD;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a1b232288c744b55b438d1dc8686097d3">m_sigLgZSD</a> = 0.49;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a7bc4cfade671c55c259b2a60348a7aed">m_offsetZOD</a> = offsetZOD;</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#ab1520d35465ea804902f3c4f57063fd1">m_cDS</a> = 11e-9;</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a1ce8ab7e6303740b2ff666c5dd7cc3ca">m_cASD</a> = 5;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a494ba2e2b37d6830e7ef46cc3555d79e">m_cASA</a> = 8;</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#aaf74f560ce44d6ad05f9697cd672078e">m_cZSA</a> = 3;</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a4150c63be2ae575ed3fdfe688ff82e9d">m_uK</a> = 0;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a639590fb89b38d7c28fa987490ee67a1">m_sigK</a> = 0;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a56bedb77bc11075a3ad220fb837fafa3">m_rTau</a> = 2.2;</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#adac20a0adc245e3f6f91e5786df70823">m_uXpr</a> = 9;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a3a8039a5403a6cd3e1cc8db4a132245c">m_sigXpr</a> = 5;</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a68894ea90be404a9aff3e010830503cc">m_perClusterShadowingStd</a> = 4;</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160; </div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;              <span class="keywordflow">for</span> (uint8_t row = 0; row &lt; 6; row++)</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;                {</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;                  <span class="keywordflow">for</span> (uint8_t column = 0; column &lt; 6; column++)</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;                    {</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;                      table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a0efa0087fd9f74f96a992de838625e35">m_sqrtC</a>[row][column] = <a class="code" href="namespacens3.html#a39f2ef4de462777b91687b3f7f9d72f8">sqrtC_UMa_O2I</a>[row][column];</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;                    }</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;                }</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160; </div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;            }</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160; </div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        }</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160; </div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    }</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_three_gpp_channel_model.html#ab968c2f70de05322e504a407f92ad898">m_scenario</a> == <span class="stringliteral">&quot;UMi-StreetCanyon&quot;</span>)</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    {</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;      <span class="keywordflow">if</span> (los &amp;&amp; !o2i)</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        {</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#ab42b225c13f41995ffcd3de27e14ad2f">m_numOfCluster</a> = 12;</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a593464ecd10da87588dfd4509045debb">m_raysPerCluster</a> = 20;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a7fdf9b839af774618f1267a00dc0fe0d">m_uLgDS</a> = -0.24 * log10 (1 + fcGHz) - 7.14;</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#ae7c4787d86a984e4e032ca62f76edcee">m_sigLgDS</a> = 0.38;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a4172677edd5c4d3ac1331c0f2a62698e">m_uLgASD</a> = -0.05 * log10 (1 + fcGHz) + 1.21;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a79af9861ec4a042359c533f926e0f69f">m_sigLgASD</a> = 0.41;</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a223177af5618a3f08e142f69ca09ba56">m_uLgASA</a> = -0.08 * log10 (1 + fcGHz) + 1.73;</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a997e35b46920178711f78d7315425bfe">m_sigLgASA</a> = 0.014 * log10 (1 + fcGHz) + 0.28;</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#aaf70ed1a21702f82db50f7c533a62117">m_uLgZSA</a> = -0.1 * log10 (1 + fcGHz) + 0.73;</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#ad18775877d503ae8780ee82cd7a7c03c">m_sigLgZSA</a> = -0.04 * log10 (1 + fcGHz) + 0.34;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a1da6dcc53d8d85a885eac2e1ad1ad72f">m_uLgZSD</a> = <a class="code" href="80211b_8c.html#affe776513b24d84b39af8ab0930fef7f">std::max</a> (-0.21, -14.8 * distance2D / 1000 + 0.01 * std::abs (hUT - hBS) + 0.83);</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a1b232288c744b55b438d1dc8686097d3">m_sigLgZSD</a> = 0.35;</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a7bc4cfade671c55c259b2a60348a7aed">m_offsetZOD</a> = 0;</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#ab1520d35465ea804902f3c4f57063fd1">m_cDS</a> = 5e-9;</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a1ce8ab7e6303740b2ff666c5dd7cc3ca">m_cASD</a> = 3;</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a494ba2e2b37d6830e7ef46cc3555d79e">m_cASA</a> = 17;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#aaf74f560ce44d6ad05f9697cd672078e">m_cZSA</a> = 7;</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a4150c63be2ae575ed3fdfe688ff82e9d">m_uK</a> = 9;</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a639590fb89b38d7c28fa987490ee67a1">m_sigK</a> = 5;</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a56bedb77bc11075a3ad220fb837fafa3">m_rTau</a> = 3;</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#adac20a0adc245e3f6f91e5786df70823">m_uXpr</a> = 9;</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a3a8039a5403a6cd3e1cc8db4a132245c">m_sigXpr</a> = 3;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a68894ea90be404a9aff3e010830503cc">m_perClusterShadowingStd</a> = 3;</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160; </div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;          <span class="keywordflow">for</span> (uint8_t row = 0; row &lt; 7; row++)</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;            {</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;              <span class="keywordflow">for</span> (uint8_t column = 0; column &lt; 7; column++)</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;                {</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;                  table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a0efa0087fd9f74f96a992de838625e35">m_sqrtC</a>[row][column] = <a class="code" href="namespacens3.html#a34f94bc21850882c7e480c4a8bc5036d">sqrtC_UMi_LOS</a>[row][column];</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;                }</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;            }</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        }</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        {</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;          <span class="keywordtype">double</span> uLgZSD = <a class="code" href="80211b_8c.html#affe776513b24d84b39af8ab0930fef7f">std::max</a> (-0.5, -3.1 * distance2D / 1000 + 0.01 * <a class="code" href="80211b_8c.html#affe776513b24d84b39af8ab0930fef7f">std::max</a> (hUT - hBS,0.0) + 0.2);</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;          <span class="keywordtype">double</span> offsetZOD = -1 * std::pow (10, -1.5 * log10 (<a class="code" href="80211b_8c.html#affe776513b24d84b39af8ab0930fef7f">std::max</a> (10.0, distance2D)) + 3.3);</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;          <span class="keywordflow">if</span> (!los &amp;&amp; !o2i)</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;            {</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#ab42b225c13f41995ffcd3de27e14ad2f">m_numOfCluster</a> = 19;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a593464ecd10da87588dfd4509045debb">m_raysPerCluster</a> = 20;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a7fdf9b839af774618f1267a00dc0fe0d">m_uLgDS</a> = -0.24 * log10 (1 + fcGHz) - 6.83;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#ae7c4787d86a984e4e032ca62f76edcee">m_sigLgDS</a> = 0.16 * log10 (1 + fcGHz) + 0.28;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a4172677edd5c4d3ac1331c0f2a62698e">m_uLgASD</a> = -0.23 * log10 (1 + fcGHz) + 1.53;</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a79af9861ec4a042359c533f926e0f69f">m_sigLgASD</a> = 0.11 * log10 (1 + fcGHz) + 0.33;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a223177af5618a3f08e142f69ca09ba56">m_uLgASA</a> = -0.08 * log10 (1 + fcGHz) + 1.81;</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a997e35b46920178711f78d7315425bfe">m_sigLgASA</a> = 0.05 * log10 (1 + fcGHz) + 0.3;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#aaf70ed1a21702f82db50f7c533a62117">m_uLgZSA</a> = -0.04 * log10 (1 + fcGHz) + 0.92;</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#ad18775877d503ae8780ee82cd7a7c03c">m_sigLgZSA</a> = -0.07 * log10 (1 + fcGHz) + 0.41;</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a1da6dcc53d8d85a885eac2e1ad1ad72f">m_uLgZSD</a> = uLgZSD;</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a1b232288c744b55b438d1dc8686097d3">m_sigLgZSD</a> = 0.35;</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a7bc4cfade671c55c259b2a60348a7aed">m_offsetZOD</a> = offsetZOD;</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#ab1520d35465ea804902f3c4f57063fd1">m_cDS</a> = 11e-9;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a1ce8ab7e6303740b2ff666c5dd7cc3ca">m_cASD</a> = 10;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a494ba2e2b37d6830e7ef46cc3555d79e">m_cASA</a> = 22;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#aaf74f560ce44d6ad05f9697cd672078e">m_cZSA</a> = 7;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a4150c63be2ae575ed3fdfe688ff82e9d">m_uK</a> = 0;</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a639590fb89b38d7c28fa987490ee67a1">m_sigK</a> = 0;</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a56bedb77bc11075a3ad220fb837fafa3">m_rTau</a> = 2.1;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#adac20a0adc245e3f6f91e5786df70823">m_uXpr</a> = 8;</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a3a8039a5403a6cd3e1cc8db4a132245c">m_sigXpr</a> = 3;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a68894ea90be404a9aff3e010830503cc">m_perClusterShadowingStd</a> = 3;</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160; </div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;              <span class="keywordflow">for</span> (uint8_t row = 0; row &lt; 6; row++)</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;                {</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;                  <span class="keywordflow">for</span> (uint8_t column = 0; column &lt; 6; column++)</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;                    {</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                      table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a0efa0087fd9f74f96a992de838625e35">m_sqrtC</a>[row][column] = <a class="code" href="namespacens3.html#a6fd885aaf93f9727bfb2331d67dffec7">sqrtC_UMi_NLOS</a>[row][column];</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;                    }</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;                }</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;            }</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;          <span class="keywordflow">else</span> <span class="comment">//(o2i)</span></div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;            {</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#ab42b225c13f41995ffcd3de27e14ad2f">m_numOfCluster</a> = 12;</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a593464ecd10da87588dfd4509045debb">m_raysPerCluster</a> = 20;</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a7fdf9b839af774618f1267a00dc0fe0d">m_uLgDS</a> = -6.62;</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#ae7c4787d86a984e4e032ca62f76edcee">m_sigLgDS</a> = 0.32;</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a4172677edd5c4d3ac1331c0f2a62698e">m_uLgASD</a> = 1.25;</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a79af9861ec4a042359c533f926e0f69f">m_sigLgASD</a> = 0.42;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a223177af5618a3f08e142f69ca09ba56">m_uLgASA</a> = 1.76;</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a997e35b46920178711f78d7315425bfe">m_sigLgASA</a> = 0.16;</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#aaf70ed1a21702f82db50f7c533a62117">m_uLgZSA</a> = 1.01;</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#ad18775877d503ae8780ee82cd7a7c03c">m_sigLgZSA</a> = 0.43;</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a1da6dcc53d8d85a885eac2e1ad1ad72f">m_uLgZSD</a> = uLgZSD;</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a1b232288c744b55b438d1dc8686097d3">m_sigLgZSD</a> = 0.35;</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a7bc4cfade671c55c259b2a60348a7aed">m_offsetZOD</a> = offsetZOD;</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#ab1520d35465ea804902f3c4f57063fd1">m_cDS</a> = 11e-9;</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a1ce8ab7e6303740b2ff666c5dd7cc3ca">m_cASD</a> = 5;</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a494ba2e2b37d6830e7ef46cc3555d79e">m_cASA</a> = 8;</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#aaf74f560ce44d6ad05f9697cd672078e">m_cZSA</a> = 3;</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a4150c63be2ae575ed3fdfe688ff82e9d">m_uK</a> = 0;</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a639590fb89b38d7c28fa987490ee67a1">m_sigK</a> = 0;</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a56bedb77bc11075a3ad220fb837fafa3">m_rTau</a> = 2.2;</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#adac20a0adc245e3f6f91e5786df70823">m_uXpr</a> = 9;</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a3a8039a5403a6cd3e1cc8db4a132245c">m_sigXpr</a> = 5;</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;              table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a68894ea90be404a9aff3e010830503cc">m_perClusterShadowingStd</a> = 4;</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160; </div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;              <span class="keywordflow">for</span> (uint8_t row = 0; row &lt; 6; row++)</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;                {</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;                  <span class="keywordflow">for</span> (uint8_t column = 0; column &lt; 6; column++)</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;                    {</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;                      table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a0efa0087fd9f74f96a992de838625e35">m_sqrtC</a>[row][column] = <a class="code" href="namespacens3.html#ac79a159d07651583d79482e4429cf74a">sqrtC_UMi_O2I</a>[row][column];</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;                    }</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;                }</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;            }</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;        }</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    }</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_three_gpp_channel_model.html#ab968c2f70de05322e504a407f92ad898">m_scenario</a> == <span class="stringliteral">&quot;InH-OfficeMixed&quot;</span>||<a class="code" href="classns3_1_1_three_gpp_channel_model.html#ab968c2f70de05322e504a407f92ad898">m_scenario</a> == <span class="stringliteral">&quot;InH-OfficeOpen&quot;</span>)</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    {</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;      <a class="code" href="ipv4-address-generator_8cc.html#aaf5aa23b804d2e5e334106f207e8a6cc">NS_ASSERT_MSG</a> (!o2i, <span class="stringliteral">&quot;The indoor scenario does out support outdoor to indoor&quot;</span>);</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;      <span class="keywordflow">if</span> (los)</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;        {</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#ab42b225c13f41995ffcd3de27e14ad2f">m_numOfCluster</a> = 15;</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a593464ecd10da87588dfd4509045debb">m_raysPerCluster</a> = 20;</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a7fdf9b839af774618f1267a00dc0fe0d">m_uLgDS</a> = -0.01 * log10 (1 + fcGHz) - 7.692;</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#ae7c4787d86a984e4e032ca62f76edcee">m_sigLgDS</a> = 0.18;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a4172677edd5c4d3ac1331c0f2a62698e">m_uLgASD</a> = 1.60;</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a79af9861ec4a042359c533f926e0f69f">m_sigLgASD</a> = 0.18;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a223177af5618a3f08e142f69ca09ba56">m_uLgASA</a> = -0.19 * log10 (1 + fcGHz) + 1.781;</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a997e35b46920178711f78d7315425bfe">m_sigLgASA</a> = 0.12 * log10 (1 + fcGHz) + 0.119;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#aaf70ed1a21702f82db50f7c533a62117">m_uLgZSA</a> = -0.26 * log10 (1 + fcGHz) + 1.44;</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#ad18775877d503ae8780ee82cd7a7c03c">m_sigLgZSA</a> = -0.04 * log10 (1 + fcGHz) + 0.264;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a1da6dcc53d8d85a885eac2e1ad1ad72f">m_uLgZSD</a> = -1.43 * log10 (1 + fcGHz) + 2.228;</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a1b232288c744b55b438d1dc8686097d3">m_sigLgZSD</a> = 0.13 * log10 (1 + fcGHz) + 0.30;</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a7bc4cfade671c55c259b2a60348a7aed">m_offsetZOD</a> = 0;</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#ab1520d35465ea804902f3c4f57063fd1">m_cDS</a> = 3.91e-9;</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a1ce8ab7e6303740b2ff666c5dd7cc3ca">m_cASD</a> = 5;</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a494ba2e2b37d6830e7ef46cc3555d79e">m_cASA</a> = 8;</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#aaf74f560ce44d6ad05f9697cd672078e">m_cZSA</a> = 9;</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a4150c63be2ae575ed3fdfe688ff82e9d">m_uK</a> = 7;</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a639590fb89b38d7c28fa987490ee67a1">m_sigK</a> = 4;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a56bedb77bc11075a3ad220fb837fafa3">m_rTau</a> = 3.6;</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#adac20a0adc245e3f6f91e5786df70823">m_uXpr</a> = 11;</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a3a8039a5403a6cd3e1cc8db4a132245c">m_sigXpr</a> = 4;</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a68894ea90be404a9aff3e010830503cc">m_perClusterShadowingStd</a> = 6;</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160; </div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;          <span class="keywordflow">for</span> (uint8_t row = 0; row &lt; 7; row++)</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;            {</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;              <span class="keywordflow">for</span> (uint8_t column = 0; column &lt; 7; column++)</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;                {</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;                  table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a0efa0087fd9f74f96a992de838625e35">m_sqrtC</a>[row][column] = <a class="code" href="namespacens3.html#a39c2b4fa4d7bd533a6b2ecfa96b848ee">sqrtC_office_LOS</a>[row][column];</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;                }</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;            }</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;        }</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;        {</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#ab42b225c13f41995ffcd3de27e14ad2f">m_numOfCluster</a> = 19;</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a593464ecd10da87588dfd4509045debb">m_raysPerCluster</a> = 20;</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a7fdf9b839af774618f1267a00dc0fe0d">m_uLgDS</a> = -0.28 * log10 (1 + fcGHz) - 7.173;</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#ae7c4787d86a984e4e032ca62f76edcee">m_sigLgDS</a> = 0.1 * log10 (1 + fcGHz) + 0.055;</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a4172677edd5c4d3ac1331c0f2a62698e">m_uLgASD</a> = 1.62;</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a79af9861ec4a042359c533f926e0f69f">m_sigLgASD</a> = 0.25;</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a223177af5618a3f08e142f69ca09ba56">m_uLgASA</a> = -0.11 * log10 (1 + fcGHz) + 1.863;</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a997e35b46920178711f78d7315425bfe">m_sigLgASA</a> = 0.12 * log10 (1 + fcGHz) + 0.059;</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#aaf70ed1a21702f82db50f7c533a62117">m_uLgZSA</a> = -0.15 * log10 (1 + fcGHz) + 1.387;</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#ad18775877d503ae8780ee82cd7a7c03c">m_sigLgZSA</a> = -0.09 * log10 (1 + fcGHz) + 0.746;</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a1da6dcc53d8d85a885eac2e1ad1ad72f">m_uLgZSD</a> = 1.08;</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a1b232288c744b55b438d1dc8686097d3">m_sigLgZSD</a> = 0.36;</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a7bc4cfade671c55c259b2a60348a7aed">m_offsetZOD</a> = 0;</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#ab1520d35465ea804902f3c4f57063fd1">m_cDS</a> = 3.91e-9;</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a1ce8ab7e6303740b2ff666c5dd7cc3ca">m_cASD</a> = 5;</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a494ba2e2b37d6830e7ef46cc3555d79e">m_cASA</a> = 11;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#aaf74f560ce44d6ad05f9697cd672078e">m_cZSA</a> = 9;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a4150c63be2ae575ed3fdfe688ff82e9d">m_uK</a> = 0;</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a639590fb89b38d7c28fa987490ee67a1">m_sigK</a> = 0;</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a56bedb77bc11075a3ad220fb837fafa3">m_rTau</a> = 3;</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#adac20a0adc245e3f6f91e5786df70823">m_uXpr</a> = 10;</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a3a8039a5403a6cd3e1cc8db4a132245c">m_sigXpr</a> = 4;</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;          table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a68894ea90be404a9aff3e010830503cc">m_perClusterShadowingStd</a> = 3;</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160; </div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;          <span class="keywordflow">for</span> (uint8_t row = 0; row &lt; 6; row++)</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;            {</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;              <span class="keywordflow">for</span> (uint8_t column = 0; column &lt; 6; column++)</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;                {</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;                  table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a0efa0087fd9f74f96a992de838625e35">m_sqrtC</a>[row][column] = <a class="code" href="namespacens3.html#acc73441dd0287914f581fca4a7b36f3c">sqrtC_office_NLOS</a>[row][column];</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;                }</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;            }</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;        }</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    }</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    {</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;      <a class="code" href="group__fatal.html#ga5131d5e3f75d7d4cbfd706ac456fdc85">NS_FATAL_ERROR</a> (<span class="stringliteral">&quot;unkonw scenarios&quot;</span>);</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    }</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160; </div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;  <span class="keywordflow">return</span> table3gpp;</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;}</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160; </div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;<span class="keywordtype">bool</span></div>
<div class="line"><a name="l00710"></a><span class="lineno"><a class="line" href="classns3_1_1_three_gpp_channel_model.html#afe8cd1f47afd42527155a8f8dc33e5e4">  710</a></span>&#160;<a class="code" href="classns3_1_1_three_gpp_channel_model.html#afe8cd1f47afd42527155a8f8dc33e5e4">ThreeGppChannelModel::ChannelMatrixNeedsUpdate</a> (<a class="code" href="classns3_1_1_ptr.html">Ptr&lt;const ThreeGppChannelMatrix&gt;</a> channelMatrix, <span class="keywordtype">bool</span> los)<span class="keyword"> const</span></div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;  <a class="code" href="group__logging.html#ga90b90d5bad1f39cb1b64923ea94c0761">NS_LOG_FUNCTION</a> (<span class="keyword">this</span>);</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160; </div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;  <span class="keywordtype">bool</span> update = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160; </div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;  <span class="comment">// if the los condition is different the channel has to be updated</span></div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;  <span class="keywordflow">if</span> (channelMatrix-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_three_gpp_channel_matrix.html#a55ee1c811ca6676566f94afec212f9ba">m_los</a> != los)</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;  {</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    <a class="code" href="group__logging.html#ga413f1886406d49f59a6a0a89b77b4d0a">NS_LOG_DEBUG</a> (<span class="stringliteral">&quot;old los condition &quot;</span> &lt;&lt; channelMatrix-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_three_gpp_channel_matrix.html#a55ee1c811ca6676566f94afec212f9ba">m_los</a> &lt;&lt; <span class="stringliteral">&quot; new los condition &quot;</span> &lt;&lt; los);</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    update = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;  }</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160; </div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;  <span class="comment">// if the coherence time is over the channel has to be updated</span></div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classns3_1_1_three_gpp_channel_model.html#af3822dc7a32dcfeb06c5f29b04218974">m_updatePeriod</a>.<a class="code" href="classns3_1_1_time.html#ac4f1f3f3aeff82c1a7d96e0b0ae2220b">IsZero</a> () &amp;&amp; <a class="code" href="classns3_1_1_simulator.html#ac3178fa975b419f7875e7105be122800">Simulator::Now</a>() - channelMatrix-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_three_gpp_channel_matrix.html#a80ba03edf0394e3f27c0c9b8de517ea8">m_generatedTime</a> &gt; <a class="code" href="classns3_1_1_three_gpp_channel_model.html#af3822dc7a32dcfeb06c5f29b04218974">m_updatePeriod</a>)</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;  {</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    <a class="code" href="group__logging.html#ga413f1886406d49f59a6a0a89b77b4d0a">NS_LOG_DEBUG</a> (<span class="stringliteral">&quot;Generation time &quot;</span> &lt;&lt; channelMatrix-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_three_gpp_channel_matrix.html#a80ba03edf0394e3f27c0c9b8de517ea8">m_generatedTime</a>.<a class="code" href="classns3_1_1_time.html#aff67d7a8139243a066d5292595caa966">GetNanoSeconds</a> () &lt;&lt; <span class="stringliteral">&quot; now &quot;</span> &lt;&lt; <a class="code" href="classns3_1_1_simulator.html#ac3178fa975b419f7875e7105be122800">Simulator::Now</a> ().<a class="code" href="classns3_1_1_time.html#aff67d7a8139243a066d5292595caa966">GetNanoSeconds</a> ());</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    update = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;  }</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160; </div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;  <span class="keywordflow">return</span> update;</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;}</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160; </div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;<a class="code" href="classns3_1_1_ptr.html">Ptr&lt;const ThreeGppChannelModel::ThreeGppChannelMatrix&gt;</a></div>
<div class="line"><a name="l00734"></a><span class="lineno"><a class="line" href="classns3_1_1_three_gpp_channel_model.html#ab02e9434ad4509ce856ee2e716c58723">  734</a></span>&#160;<a class="code" href="classns3_1_1_three_gpp_channel_model.html#ab02e9434ad4509ce856ee2e716c58723">ThreeGppChannelModel::GetChannel</a> (<a class="code" href="classns3_1_1_ptr.html">Ptr&lt;const MobilityModel&gt;</a> aMob,</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;                                  <a class="code" href="classns3_1_1_ptr.html">Ptr&lt;const MobilityModel&gt;</a> bMob,</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;                                  <a class="code" href="classns3_1_1_ptr.html">Ptr&lt;const ThreeGppAntennaArrayModel&gt;</a> aAntenna,</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;                                  <a class="code" href="classns3_1_1_ptr.html">Ptr&lt;const ThreeGppAntennaArrayModel&gt;</a> bAntenna)</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;{</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;  <a class="code" href="group__logging.html#ga90b90d5bad1f39cb1b64923ea94c0761">NS_LOG_FUNCTION</a> (<span class="keyword">this</span>);</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160; </div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;  <span class="comment">// Compute the channel key. The key is reciprocal, i.e., key (a, b) = key (b, a)</span></div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;  uint32_t x1 = <a class="code" href="80211b_8c.html#ac6afabdc09a49a433ee19d8a9486056d">std::min</a> (aMob-&gt;GetObject&lt;<a class="code" href="classns3_1_1_node.html">Node</a>&gt; ()-&gt;<a class="code" href="classns3_1_1_node.html#a2ed8663077afcb8db519296b0ada6355">GetId</a> (), bMob-&gt;GetObject&lt;<a class="code" href="classns3_1_1_node.html">Node</a>&gt; ()-&gt;<a class="code" href="classns3_1_1_node.html#a2ed8663077afcb8db519296b0ada6355">GetId</a> ());</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;  uint32_t x2 = <a class="code" href="80211b_8c.html#affe776513b24d84b39af8ab0930fef7f">std::max</a> (aMob-&gt;GetObject&lt;<a class="code" href="classns3_1_1_node.html">Node</a>&gt; ()-&gt;<a class="code" href="classns3_1_1_node.html#a2ed8663077afcb8db519296b0ada6355">GetId</a> (), bMob-&gt;GetObject&lt;<a class="code" href="classns3_1_1_node.html">Node</a>&gt; ()-&gt;<a class="code" href="classns3_1_1_node.html#a2ed8663077afcb8db519296b0ada6355">GetId</a> ());</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;  uint32_t channelId = <a class="code" href="classns3_1_1_three_gpp_channel_model.html#a46922a496f849f08c5e6f9a9073e3133">GetKey</a> (x1, x2);</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160; </div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;  <span class="comment">// retrieve the channel condition</span></div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;  <a class="code" href="classns3_1_1_ptr.html">Ptr&lt;const ChannelCondition&gt;</a> condition = <a class="code" href="classns3_1_1_three_gpp_channel_model.html#ab4ca73d2aecd3c3d7ea08d5dae904281">m_channelConditionModel</a>-&gt;GetChannelCondition (aMob, bMob);</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;  <span class="keywordtype">bool</span> los = (condition-&gt;GetLosCondition () == ChannelCondition::LosConditionValue::LOS);</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;  <span class="keywordtype">bool</span> o2i = <span class="keyword">false</span>; <span class="comment">// TODO include the o2i condition in the channel condition model</span></div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160; </div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;  <span class="comment">// Check if the channel is present in the map and return it, otherwise</span></div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;  <span class="comment">// generate a new channel</span></div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;  <span class="keywordtype">bool</span> update = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;  <span class="keywordtype">bool</span> notFound = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;  <a class="code" href="classns3_1_1_ptr.html">Ptr&lt;ThreeGppChannelMatrix&gt;</a> channelMatrix;</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_three_gpp_channel_model.html#acc1208f027d4fabc4fb5622f640207f8">m_channelMap</a>.find (channelId) != <a class="code" href="classns3_1_1_three_gpp_channel_model.html#acc1208f027d4fabc4fb5622f640207f8">m_channelMap</a>.end ())</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    {</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;      <span class="comment">// channel matrix present in the map</span></div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;      <a class="code" href="group__logging.html#ga413f1886406d49f59a6a0a89b77b4d0a">NS_LOG_DEBUG</a> (<span class="stringliteral">&quot;channel matrix present in the map&quot;</span>);</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;      channelMatrix = <a class="code" href="classns3_1_1_three_gpp_channel_model.html#acc1208f027d4fabc4fb5622f640207f8">m_channelMap</a>[channelId];</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160; </div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;      <span class="comment">// check if it has to be updated</span></div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;      update = <a class="code" href="classns3_1_1_three_gpp_channel_model.html#afe8cd1f47afd42527155a8f8dc33e5e4">ChannelMatrixNeedsUpdate</a> (channelMatrix, los);</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    }</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;  {</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    <a class="code" href="group__logging.html#ga413f1886406d49f59a6a0a89b77b4d0a">NS_LOG_DEBUG</a> (<span class="stringliteral">&quot;channel matrix not found&quot;</span>);</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    notFound = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;  }</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160; </div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;  <span class="comment">// If the channel is not present in the map or if it has to be updated</span></div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;  <span class="comment">// generate a new realization</span></div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;  <span class="keywordflow">if</span> (notFound || update)</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    {</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;      <span class="comment">// channel matrix not found or has to be updated, generate a new one</span></div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;      <a class="code" href="structns3_1_1_angles.html">Angles</a> txAngle (bMob-&gt;GetPosition (), aMob-&gt;GetPosition ());</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;      <a class="code" href="structns3_1_1_angles.html">Angles</a> rxAngle (aMob-&gt;GetPosition (), bMob-&gt;GetPosition ());</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160; </div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;      <span class="keywordtype">double</span> <a class="code" href="namespacesample-rng-plot.html#a5b903688ba4a0e9d00ef4d0aa174b44f">x</a> = aMob-&gt;GetPosition ().x - bMob-&gt;GetPosition ().x;</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;      <span class="keywordtype">double</span> y = aMob-&gt;GetPosition ().y - bMob-&gt;GetPosition ().y;</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;      <span class="keywordtype">double</span> distance2D = sqrt (<a class="code" href="namespacesample-rng-plot.html#a5b903688ba4a0e9d00ef4d0aa174b44f">x</a> * <a class="code" href="namespacesample-rng-plot.html#a5b903688ba4a0e9d00ef4d0aa174b44f">x</a> + y * y);</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160; </div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;      <span class="comment">// NOTE we assume hUT = min (height(a), height(b)) and</span></div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;      <span class="comment">// hBS = max (height (a), height (b))</span></div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;      <span class="keywordtype">double</span> hUt = <a class="code" href="80211b_8c.html#ac6afabdc09a49a433ee19d8a9486056d">std::min</a> (aMob-&gt;GetPosition ().z, bMob-&gt;GetPosition ().z);</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;      <span class="keywordtype">double</span> hBs = <a class="code" href="80211b_8c.html#affe776513b24d84b39af8ab0930fef7f">std::max</a> (aMob-&gt;GetPosition ().z, bMob-&gt;GetPosition ().z);</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160; </div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;      <span class="comment">// TODO this is not currently used, it is needed for the computation of the</span></div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;      <span class="comment">// additional blockage in case of spatial consistent update</span></div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;      <span class="comment">// I do not know who is the UT, I can use the relative distance between</span></div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;      <span class="comment">// tx and rx instead</span></div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;      Vector locUt = Vector (0.0, 0.0, 0.0);</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160; </div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;      channelMatrix = <a class="code" href="classns3_1_1_three_gpp_channel_model.html#adf0c57f09a37ee0e3d7875958f001f71">GetNewChannel</a> (locUt, los, o2i, aAntenna, bAntenna, rxAngle, txAngle, distance2D, hBs, hUt);</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;      channelMatrix-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_three_gpp_channel_matrix.html#afaa5f590d0d637d814d6927100f61589">m_nodeIds</a> = std::make_pair (aMob-&gt;GetObject&lt;<a class="code" href="classns3_1_1_node.html">Node</a>&gt; ()-&gt;<a class="code" href="classns3_1_1_node.html#a2ed8663077afcb8db519296b0ada6355">GetId</a> (), bMob-&gt;GetObject&lt;<a class="code" href="classns3_1_1_node.html">Node</a>&gt; ()-&gt;<a class="code" href="classns3_1_1_node.html#a2ed8663077afcb8db519296b0ada6355">GetId</a> ());</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160; </div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;      <span class="comment">// store or replace the channel matrix in the channel map</span></div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;      <a class="code" href="classns3_1_1_three_gpp_channel_model.html#acc1208f027d4fabc4fb5622f640207f8">m_channelMap</a>[channelId] = channelMatrix;</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;  }</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160; </div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;  <span class="keywordflow">return</span> channelMatrix;</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;}</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160; </div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;<a class="code" href="classns3_1_1_ptr.html">Ptr&lt;ThreeGppChannelModel::ThreeGppChannelMatrix&gt;</a></div>
<div class="line"><a name="l00805"></a><span class="lineno"><a class="line" href="classns3_1_1_three_gpp_channel_model.html#adf0c57f09a37ee0e3d7875958f001f71">  805</a></span>&#160;<a class="code" href="classns3_1_1_three_gpp_channel_model.html#adf0c57f09a37ee0e3d7875958f001f71">ThreeGppChannelModel::GetNewChannel</a> (Vector locUT, <span class="keywordtype">bool</span> los, <span class="keywordtype">bool</span> o2i,</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;                                     <a class="code" href="classns3_1_1_ptr.html">Ptr&lt;const ThreeGppAntennaArrayModel&gt;</a> sAntenna,</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;                                     <a class="code" href="classns3_1_1_ptr.html">Ptr&lt;const ThreeGppAntennaArrayModel&gt;</a> uAntenna,</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;                                     <a class="code" href="structns3_1_1_angles.html">Angles</a> &amp;uAngle, <a class="code" href="structns3_1_1_angles.html">Angles</a> &amp;sAngle,</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;                                     <span class="keywordtype">double</span> dis2D, <span class="keywordtype">double</span> hBS, <span class="keywordtype">double</span> hUT)<span class="keyword"> const</span></div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;  <a class="code" href="group__logging.html#ga90b90d5bad1f39cb1b64923ea94c0761">NS_LOG_FUNCTION</a> (<span class="keyword">this</span>);</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160; </div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;  <a class="code" href="ipv4-address-generator_8cc.html#aaf5aa23b804d2e5e334106f207e8a6cc">NS_ASSERT_MSG</a> (<a class="code" href="classns3_1_1_three_gpp_channel_model.html#a9ed0314cea99395b9ffb3bc7118a9102">m_frequency</a> &gt; 0.0, <span class="stringliteral">&quot;Set the operating frequency first!&quot;</span>);</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160; </div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;  <span class="comment">// get the 3GPP parameters</span></div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;  <a class="code" href="classns3_1_1_ptr.html">Ptr&lt;const ParamsTable&gt;</a> table3gpp = <a class="code" href="classns3_1_1_three_gpp_channel_model.html#a96b416dbec34b6baab625acf1a361e5f">GetThreeGppTable</a> (los, o2i, hBS, hUT, dis2D);</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160; </div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;  <span class="comment">// get the number of clusters and the number of rays per cluster</span></div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;  uint8_t numOfCluster = table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#ab42b225c13f41995ffcd3de27e14ad2f">m_numOfCluster</a>;</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;  uint8_t raysPerCluster = table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a593464ecd10da87588dfd4509045debb">m_raysPerCluster</a>;</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160; </div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;  <span class="comment">// create a channel matrix instance</span></div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;  <a class="code" href="classns3_1_1_ptr.html">Ptr&lt;ThreeGppChannelMatrix&gt;</a> channelParams = Create&lt;ThreeGppChannelMatrix&gt; ();</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;  channelParams-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_three_gpp_channel_matrix.html#a55ee1c811ca6676566f94afec212f9ba">m_los</a> = los; <span class="comment">// set the LOS condition</span></div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;  channelParams-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_three_gpp_channel_matrix.html#a3748082da69b0f29fc830a3d46c8a39a">m_o2i</a> = o2i; <span class="comment">// set the O2I condition</span></div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;  channelParams-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_three_gpp_channel_matrix.html#a80ba03edf0394e3f27c0c9b8de517ea8">m_generatedTime</a> = <a class="code" href="classns3_1_1_simulator.html#ac3178fa975b419f7875e7105be122800">Simulator::Now</a> ();</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160; </div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;  <span class="comment">// compute the 3D distance using eq. 7.4-1</span></div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;  <span class="keywordtype">double</span> dis3D = std::sqrt (dis2D * dis2D + (hBS - hUT) * (hBS - hUT));</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160; </div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;  <span class="comment">//Step 4: Generate large scale parameters. All LSPS are uncorrelated.</span></div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;  <a class="code" href="classns3_1_1_three_gpp_channel_model.html#a702a0ddafc085f82ec77e3e5b54868ae">DoubleVector</a> LSPsIndep, LSPs;</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;  uint8_t paramNum;</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;  <span class="keywordflow">if</span> (los)</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    {</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;      paramNum = 7;</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    }</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    {</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;      paramNum = 6;</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    }</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;  <span class="comment">//Generate paramNum independent LSPs.</span></div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;  <span class="keywordflow">for</span> (uint8_t iter = 0; iter &lt; paramNum; iter++)</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    {</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;      LSPsIndep.push_back (<a class="code" href="classns3_1_1_three_gpp_channel_model.html#a1d52f8abe7b21a2503279ae794e0e696">m_normalRv</a>-&gt;GetValue ());</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    }</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;  <span class="keywordflow">for</span> (uint8_t row = 0; row &lt; paramNum; row++)</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    {</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;      <span class="keywordtype">double</span> temp = 0;</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;      <span class="keywordflow">for</span> (uint8_t column = 0; column &lt; paramNum; column++)</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;        {</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;          temp += table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a0efa0087fd9f74f96a992de838625e35">m_sqrtC</a>[row][column] * LSPsIndep[column];</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;        }</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;      LSPs.push_back (temp);</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    }</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160; </div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;  <span class="comment">// NOTE the shadowing is generated in the propagation loss model</span></div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160; </div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;  <span class="keywordtype">double</span> DS,ASD,ASA,ZSA,ZSD,K_factor = 0;</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;  <span class="keywordflow">if</span> (los)</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;    {</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;      K_factor = LSPs[1] * table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a639590fb89b38d7c28fa987490ee67a1">m_sigK</a> + table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a4150c63be2ae575ed3fdfe688ff82e9d">m_uK</a>;</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;      DS = pow (10, LSPs[2] * table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#ae7c4787d86a984e4e032ca62f76edcee">m_sigLgDS</a> + table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a7fdf9b839af774618f1267a00dc0fe0d">m_uLgDS</a>);</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;      ASD = pow (10, LSPs[3] * table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a79af9861ec4a042359c533f926e0f69f">m_sigLgASD</a> + table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a4172677edd5c4d3ac1331c0f2a62698e">m_uLgASD</a>);</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;      ASA = pow (10, LSPs[4] * table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a997e35b46920178711f78d7315425bfe">m_sigLgASA</a> + table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a223177af5618a3f08e142f69ca09ba56">m_uLgASA</a>);</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;      ZSD = pow (10, LSPs[5] * table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a1b232288c744b55b438d1dc8686097d3">m_sigLgZSD</a> + table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a1da6dcc53d8d85a885eac2e1ad1ad72f">m_uLgZSD</a>);</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;      ZSA = pow (10, LSPs[6] * table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#ad18775877d503ae8780ee82cd7a7c03c">m_sigLgZSA</a> + table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#aaf70ed1a21702f82db50f7c533a62117">m_uLgZSA</a>);</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    }</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    {</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;      DS = pow (10, LSPs[1] * table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#ae7c4787d86a984e4e032ca62f76edcee">m_sigLgDS</a> + table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a7fdf9b839af774618f1267a00dc0fe0d">m_uLgDS</a>);</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;      ASD = pow (10, LSPs[2] * table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a79af9861ec4a042359c533f926e0f69f">m_sigLgASD</a> + table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a4172677edd5c4d3ac1331c0f2a62698e">m_uLgASD</a>);</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;      ASA = pow (10, LSPs[3] * table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a997e35b46920178711f78d7315425bfe">m_sigLgASA</a> + table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a223177af5618a3f08e142f69ca09ba56">m_uLgASA</a>);</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;      ZSD = pow (10, LSPs[4] * table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a1b232288c744b55b438d1dc8686097d3">m_sigLgZSD</a> + table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a1da6dcc53d8d85a885eac2e1ad1ad72f">m_uLgZSD</a>);</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;      ZSA = pow (10, LSPs[5] * table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#ad18775877d503ae8780ee82cd7a7c03c">m_sigLgZSA</a> + table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#aaf70ed1a21702f82db50f7c533a62117">m_uLgZSA</a>);</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160; </div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    }</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;  ASD = <a class="code" href="80211b_8c.html#ac6afabdc09a49a433ee19d8a9486056d">std::min</a> (ASD, 104.0);</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;  ASA = <a class="code" href="80211b_8c.html#ac6afabdc09a49a433ee19d8a9486056d">std::min</a> (ASA, 104.0);</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;  ZSD = <a class="code" href="80211b_8c.html#ac6afabdc09a49a433ee19d8a9486056d">std::min</a> (ZSD, 52.0);</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;  ZSA = <a class="code" href="80211b_8c.html#ac6afabdc09a49a433ee19d8a9486056d">std::min</a> (ZSA, 52.0);</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160; </div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;  channelParams-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_three_gpp_channel_matrix.html#aa466f3ab5f2db9446831272bc338f054">m_DS</a> = DS;</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;  channelParams-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_three_gpp_channel_matrix.html#a3f270a5159a9f1cbedbb3f7724df652e">m_K</a> = K_factor;</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160; </div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;  <a class="code" href="group__logging.html#gafbd73ee2cf9f26b319f49086d8e860fb">NS_LOG_INFO</a> (<span class="stringliteral">&quot;K-factor=&quot;</span> &lt;&lt; K_factor &lt;&lt; <span class="stringliteral">&quot;,DS=&quot;</span> &lt;&lt; DS &lt;&lt; <span class="stringliteral">&quot;, ASD=&quot;</span> &lt;&lt; ASD &lt;&lt; <span class="stringliteral">&quot;, ASA=&quot;</span> &lt;&lt; ASA &lt;&lt; <span class="stringliteral">&quot;, ZSD=&quot;</span> &lt;&lt; ZSD &lt;&lt; <span class="stringliteral">&quot;, ZSA=&quot;</span> &lt;&lt; ZSA);</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160; </div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;  <span class="comment">//Step 5: Generate Delays.</span></div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;  <a class="code" href="classns3_1_1_three_gpp_channel_model.html#a702a0ddafc085f82ec77e3e5b54868ae">DoubleVector</a> clusterDelay;</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;  <span class="keywordtype">double</span> minTau = 100.0;</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;  <span class="keywordflow">for</span> (uint8_t cIndex = 0; cIndex &lt; numOfCluster; cIndex++)</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    {</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;      <span class="keywordtype">double</span> tau = -1*table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a56bedb77bc11075a3ad220fb837fafa3">m_rTau</a>*DS*log (<a class="code" href="classns3_1_1_three_gpp_channel_model.html#a6f1967266792799ef6fa01181d4ae6b3">m_uniformRv</a>-&gt;<a class="code" href="classns3_1_1_uniform_random_variable.html#a03822d8c86ac51e9aa83bbc73041386b">GetValue</a> (0,1)); <span class="comment">//(7.5-1)</span></div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;      <span class="keywordflow">if</span> (minTau &gt; tau)</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;        {</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;          minTau = tau;</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;        }</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;      clusterDelay.push_back (tau);</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    }</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160; </div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;  <span class="keywordflow">for</span> (uint8_t cIndex = 0; cIndex &lt; numOfCluster; cIndex++)</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    {</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;      clusterDelay[cIndex] -= minTau;</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;    }</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;  std::sort (clusterDelay.begin (), clusterDelay.end ()); <span class="comment">//(7.5-2)</span></div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160; </div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;  <span class="comment">/* since the scaled Los delays are not to be used in cluster power generation,</span></div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;<span class="comment">   * we will generate cluster power first and resume to compute Los cluster delay later.*/</span></div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160; </div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;  <span class="comment">//Step 6: Generate cluster powers.</span></div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;  <a class="code" href="classns3_1_1_three_gpp_channel_model.html#a702a0ddafc085f82ec77e3e5b54868ae">DoubleVector</a> clusterPower;</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;  <span class="keywordtype">double</span> powerSum = 0;</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;  <span class="keywordflow">for</span> (uint8_t cIndex = 0; cIndex &lt; numOfCluster; cIndex++)</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;    {</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;      <span class="keywordtype">double</span> power = exp (-1 * clusterDelay[cIndex] * (table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a56bedb77bc11075a3ad220fb837fafa3">m_rTau</a> - 1) / table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a56bedb77bc11075a3ad220fb837fafa3">m_rTau</a> / DS) *</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;        pow (10,-1 * <a class="code" href="classns3_1_1_three_gpp_channel_model.html#a1d52f8abe7b21a2503279ae794e0e696">m_normalRv</a>-&gt;GetValue () * table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a68894ea90be404a9aff3e010830503cc">m_perClusterShadowingStd</a> / 10);                       <span class="comment">//(7.5-5)</span></div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;      powerSum += power;</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;      clusterPower.push_back (power);</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    }</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;  <span class="keywordtype">double</span> powerMax = 0;</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160; </div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;  <span class="keywordflow">for</span> (uint8_t cIndex = 0; cIndex &lt; numOfCluster; cIndex++)</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    {</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;      clusterPower[cIndex] = clusterPower[cIndex] / powerSum; <span class="comment">//(7.5-6)</span></div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    }</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160; </div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;  <a class="code" href="classns3_1_1_three_gpp_channel_model.html#a702a0ddafc085f82ec77e3e5b54868ae">DoubleVector</a> clusterPowerForAngles; <span class="comment">// this power is only for equation (7.5-9) and (7.5-14), not for (7.5-22)</span></div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;  <span class="keywordflow">if</span> (los)</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;    {</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;      <span class="keywordtype">double</span> K_linear = pow (10,K_factor / 10);</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160; </div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;      <span class="keywordflow">for</span> (uint8_t cIndex = 0; cIndex &lt; numOfCluster; cIndex++)</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;        {</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;          <span class="keywordflow">if</span> (cIndex == 0)</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;            {</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;              clusterPowerForAngles.push_back (clusterPower[cIndex] / (1 + K_linear) + K_linear / (1 + K_linear));                  <span class="comment">//(7.5-8)</span></div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;            }</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;          <span class="keywordflow">else</span></div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;            {</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;              clusterPowerForAngles.push_back (clusterPower[cIndex] / (1 + K_linear)); <span class="comment">//(7.5-8)</span></div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;            }</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;          <span class="keywordflow">if</span> (powerMax &lt; clusterPowerForAngles[cIndex])</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;            {</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;              powerMax = clusterPowerForAngles[cIndex];</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;            }</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;        }</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;    }</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    {</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;      <span class="keywordflow">for</span> (uint8_t cIndex = 0; cIndex &lt; numOfCluster; cIndex++)</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;        {</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;          clusterPowerForAngles.push_back (clusterPower[cIndex]); <span class="comment">//(7.5-6)</span></div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;          <span class="keywordflow">if</span> (powerMax &lt; clusterPowerForAngles[cIndex])</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;            {</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;              powerMax = clusterPowerForAngles[cIndex];</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;            }</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;        }</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    }</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160; </div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;  <span class="comment">//remove clusters with less than -25 dB power compared to the maxim cluster power;</span></div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;  <span class="comment">//double thresh = pow(10,-2.5);</span></div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;  <span class="keywordtype">double</span> thresh = 0.0032;</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;  <span class="keywordflow">for</span> (uint8_t cIndex = numOfCluster; cIndex &gt; 0; cIndex--)</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    {</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;      <span class="keywordflow">if</span> (clusterPowerForAngles[cIndex - 1] &lt; thresh * powerMax )</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;        {</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;          clusterPowerForAngles.erase (clusterPowerForAngles.begin () + cIndex - 1);</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;          clusterPower.erase (clusterPower.begin () + cIndex - 1);</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;          clusterDelay.erase (clusterDelay.begin () + cIndex - 1);</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;        }</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;    }</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;  uint8_t numReducedCluster = clusterPower.size ();</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160; </div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;  channelParams-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_three_gpp_channel_matrix.html#a68ea8c42b4e13b4767747f347662c138">m_numCluster</a> = numReducedCluster;</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;  <span class="comment">// Resume step 5 to compute the delay for LoS condition.</span></div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;  <span class="keywordflow">if</span> (los)</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;    {</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;      <span class="keywordtype">double</span> C_tau = 0.7705 - 0.0433 * K_factor + 2e-4 * pow (K_factor,2) + 17e-6 * pow (K_factor,3);         <span class="comment">//(7.5-3)</span></div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;      <span class="keywordflow">for</span> (uint8_t cIndex = 0; cIndex &lt; numReducedCluster; cIndex++)</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;        {</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;          clusterDelay[cIndex] = clusterDelay[cIndex] / C_tau;             <span class="comment">//(7.5-4)</span></div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;        }</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    }</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160; </div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;  <span class="comment">//Step 7: Generate arrival and departure angles for both azimuth and elevation.</span></div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160; </div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;  <span class="keywordtype">double</span> C_NLOS, C_phi;</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;  <span class="comment">//According to table 7.5-6, only cluster number equals to 8, 10, 11, 12, 19 and 20 is valid.</span></div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;  <span class="comment">//Not sure why the other cases are in Table 7.5-2.</span></div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;  <span class="keywordflow">switch</span> (numOfCluster) <span class="comment">// Table 7.5-2</span></div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    {</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;    <span class="keywordflow">case</span> 4:</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;      C_NLOS = 0.779;</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;    <span class="keywordflow">case</span> 5:</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;      C_NLOS = 0.860;</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    <span class="keywordflow">case</span> 8:</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;      C_NLOS = 1.018;</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;    <span class="keywordflow">case</span> 10:</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;      C_NLOS = 1.090;</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    <span class="keywordflow">case</span> 11:</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;      C_NLOS = 1.123;</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    <span class="keywordflow">case</span> 12:</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;      C_NLOS = 1.146;</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;    <span class="keywordflow">case</span> 14:</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;      C_NLOS = 1.190;</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;    <span class="keywordflow">case</span> 15:</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;      C_NLOS = 1.221;</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;    <span class="keywordflow">case</span> 16:</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;      C_NLOS = 1.226;</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    <span class="keywordflow">case</span> 19:</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;      C_NLOS = 1.273;</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;    <span class="keywordflow">case</span> 20:</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;      C_NLOS = 1.289;</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;      <a class="code" href="group__fatal.html#ga5131d5e3f75d7d4cbfd706ac456fdc85">NS_FATAL_ERROR</a> (<span class="stringliteral">&quot;Invalide cluster number&quot;</span>);</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;    }</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160; </div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;  <span class="keywordflow">if</span> (los)</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;    {</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;      C_phi = C_NLOS * (1.1035 - 0.028 * K_factor - 2e-3 * pow (K_factor,2) + 1e-4 * pow (K_factor,3));         <span class="comment">//(7.5-10))</span></div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;    }</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;    {</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;      C_phi = C_NLOS;  <span class="comment">//(7.5-10)</span></div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;    }</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160; </div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;  <span class="keywordtype">double</span> C_theta;</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;  <span class="keywordflow">switch</span> (numOfCluster) <span class="comment">//Table 7.5-4</span></div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;    {</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    <span class="keywordflow">case</span> 8:</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;      C_NLOS = 0.889;</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    <span class="keywordflow">case</span> 10:</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;      C_NLOS = 0.957;</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;    <span class="keywordflow">case</span> 11:</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;      C_NLOS = 1.031;</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;    <span class="keywordflow">case</span> 12:</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;      C_NLOS = 1.104;</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    <span class="keywordflow">case</span> 15:</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;      C_NLOS = 1.1088;</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;    <span class="keywordflow">case</span> 19:</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;      C_NLOS = 1.184;</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;    <span class="keywordflow">case</span> 20:</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;      C_NLOS = 1.178;</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;      <a class="code" href="group__fatal.html#ga5131d5e3f75d7d4cbfd706ac456fdc85">NS_FATAL_ERROR</a> (<span class="stringliteral">&quot;Invalide cluster number&quot;</span>);</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;    }</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160; </div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;  <span class="keywordflow">if</span> (los)</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;    {</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;      C_theta = C_NLOS * (1.3086 + 0.0339 * K_factor - 0.0077 * pow (K_factor,2) + 2e-4 * pow (K_factor,3));         <span class="comment">//(7.5-15)</span></div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;    }</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;    {</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;      C_theta = C_NLOS;</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;    }</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160; </div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160; </div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;  <a class="code" href="classns3_1_1_three_gpp_channel_model.html#a702a0ddafc085f82ec77e3e5b54868ae">DoubleVector</a> clusterAoa, clusterAod, clusterZoa, clusterZod;</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;  <span class="keywordtype">double</span> angle;</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;  <span class="keywordflow">for</span> (uint8_t cIndex = 0; cIndex &lt; numReducedCluster; cIndex++)</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;    {</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;      angle = 2*ASA*sqrt (-1 * log (clusterPowerForAngles[cIndex] / powerMax)) / 1.4 / C_phi;        <span class="comment">//(7.5-9)</span></div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;      clusterAoa.push_back (angle);</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;      angle = 2*ASD*sqrt (-1 * log (clusterPowerForAngles[cIndex] / powerMax)) / 1.4 / C_phi;        <span class="comment">//(7.5-9)</span></div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;      clusterAod.push_back (angle);</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;      angle = -1*ZSA*log (clusterPowerForAngles[cIndex] / powerMax) / C_theta;         <span class="comment">//(7.5-14)</span></div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;      clusterZoa.push_back (angle);</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;      angle = -1*ZSD*log (clusterPowerForAngles[cIndex] / powerMax) / C_theta;</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;      clusterZod.push_back (angle);</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;    }</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160; </div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;  <span class="keywordflow">for</span> (uint8_t cIndex = 0; cIndex &lt; numReducedCluster; cIndex++)</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;    {</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;      <span class="keywordtype">int</span> Xn = 1;</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_three_gpp_channel_model.html#a6f1967266792799ef6fa01181d4ae6b3">m_uniformRv</a>-&gt;<a class="code" href="classns3_1_1_uniform_random_variable.html#a03822d8c86ac51e9aa83bbc73041386b">GetValue</a> (0,1) &lt; 0.5)</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;        {</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;          Xn = -1;</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;        }</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;      clusterAoa[cIndex] = clusterAoa[cIndex] * Xn + (<a class="code" href="classns3_1_1_three_gpp_channel_model.html#a1d52f8abe7b21a2503279ae794e0e696">m_normalRv</a>-&gt;GetValue () * ASA / 7) + uAngle.<a class="code" href="structns3_1_1_angles.html#a0585b0de17bc6d358be18e14cf294ca8">phi</a> * 180 / M_PI;        <span class="comment">//(7.5-11)</span></div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;      clusterAod[cIndex] = clusterAod[cIndex] * Xn + (<a class="code" href="classns3_1_1_three_gpp_channel_model.html#a1d52f8abe7b21a2503279ae794e0e696">m_normalRv</a>-&gt;GetValue () * ASD / 7) + sAngle.<a class="code" href="structns3_1_1_angles.html#a0585b0de17bc6d358be18e14cf294ca8">phi</a> * 180 / M_PI;</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;      <a class="code" href="namespacens3.html#aaad5cc5702ff29a1fcc8cdffd10a12e9">if</a> (o2i)</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;        {</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;          clusterZoa[cIndex] = clusterZoa[cIndex] * Xn + (<a class="code" href="classns3_1_1_three_gpp_channel_model.html#a1d52f8abe7b21a2503279ae794e0e696">m_normalRv</a>-&gt;GetValue () * ZSA / 7) + 90;            <span class="comment">//(7.5-16)</span></div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;        }</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;        {</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;          clusterZoa[cIndex] = clusterZoa[cIndex] * Xn + (<a class="code" href="classns3_1_1_three_gpp_channel_model.html#a1d52f8abe7b21a2503279ae794e0e696">m_normalRv</a>-&gt;GetValue () * ZSA / 7) + uAngle.<a class="code" href="structns3_1_1_angles.html#a98c2a7d6c99f9fd8504e4801a68bf291">theta</a> * 180 / M_PI;            <span class="comment">//(7.5-16)</span></div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;        }</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;      clusterZod[cIndex] = clusterZod[cIndex] * Xn + (<a class="code" href="classns3_1_1_three_gpp_channel_model.html#a1d52f8abe7b21a2503279ae794e0e696">m_normalRv</a>-&gt;GetValue () * ZSD / 7) + sAngle.<a class="code" href="structns3_1_1_angles.html#a98c2a7d6c99f9fd8504e4801a68bf291">theta</a> * 180 / M_PI + table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a7bc4cfade671c55c259b2a60348a7aed">m_offsetZOD</a>;        <span class="comment">//(7.5-19)</span></div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160; </div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;    }</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160; </div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;  <span class="keywordflow">if</span> (los)</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    {</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;      <span class="comment">//The 7.5-12 can be rewrite as Theta_n,ZOA = Theta_n,ZOA - (Theta_1,ZOA - Theta_LOS,ZOA) = Theta_n,ZOA - diffZOA,</span></div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;      <span class="comment">//Similar as AOD, ZSA and ZSD.</span></div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;      <span class="keywordtype">double</span> diffAoa = clusterAoa[0] - uAngle.<a class="code" href="structns3_1_1_angles.html#a0585b0de17bc6d358be18e14cf294ca8">phi</a> * 180 / M_PI;</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;      <span class="keywordtype">double</span> diffAod = clusterAod[0] - sAngle.<a class="code" href="structns3_1_1_angles.html#a0585b0de17bc6d358be18e14cf294ca8">phi</a> * 180 / M_PI;</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;      <span class="keywordtype">double</span> diffZsa = clusterZoa[0] - uAngle.<a class="code" href="structns3_1_1_angles.html#a98c2a7d6c99f9fd8504e4801a68bf291">theta</a> * 180 / M_PI;</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;      <span class="keywordtype">double</span> diffZsd = clusterZod[0] - sAngle.<a class="code" href="structns3_1_1_angles.html#a98c2a7d6c99f9fd8504e4801a68bf291">theta</a> * 180 / M_PI;</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160; </div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;      <span class="keywordflow">for</span> (uint8_t cIndex = 0; cIndex &lt; numReducedCluster; cIndex++)</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;        {</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;          clusterAoa[cIndex] -= diffAoa; <span class="comment">//(7.5-12)</span></div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;          clusterAod[cIndex] -= diffAod;</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;          clusterZoa[cIndex] -= diffZsa; <span class="comment">//(7.5-17)</span></div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;          clusterZod[cIndex] -= diffZsd;</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160; </div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;        }</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;    }</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160; </div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;  <span class="keywordtype">double</span> rayAoa_radian[numReducedCluster][raysPerCluster]; <span class="comment">//rayAoa_radian[n][m], where n is cluster index, m is ray index</span></div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;  <span class="keywordtype">double</span> rayAod_radian[numReducedCluster][raysPerCluster]; <span class="comment">//rayAod_radian[n][m], where n is cluster index, m is ray index</span></div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;  <span class="keywordtype">double</span> rayZoa_radian[numReducedCluster][raysPerCluster]; <span class="comment">//rayZoa_radian[n][m], where n is cluster index, m is ray index</span></div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;  <span class="keywordtype">double</span> rayZod_radian[numReducedCluster][raysPerCluster]; <span class="comment">//rayZod_radian[n][m], where n is cluster index, m is ray index</span></div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160; </div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;  <span class="keywordflow">for</span> (uint8_t nInd = 0; nInd &lt; numReducedCluster; nInd++)</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;    {</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;      <span class="keywordflow">for</span> (uint8_t mInd = 0; mInd &lt; raysPerCluster; mInd++)</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;        {</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;          <span class="keywordtype">double</span> tempAoa = clusterAoa[nInd] + table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a494ba2e2b37d6830e7ef46cc3555d79e">m_cASA</a> * <a class="code" href="namespacens3.html#a2344173eeb094a196c555a159e87bc6f">offSetAlpha</a>[mInd]; <span class="comment">//(7.5-13)</span></div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;          <span class="keywordflow">while</span> (tempAoa &gt; 360)</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;            {</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;              tempAoa -= 360;</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;            }</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160; </div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;          <span class="keywordflow">while</span> (tempAoa &lt; 0)</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;            {</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;              tempAoa += 360;</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160; </div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;            }</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;          <a class="code" href="ipv4-address-generator_8cc.html#aaf5aa23b804d2e5e334106f207e8a6cc">NS_ASSERT_MSG</a> (tempAoa &gt;= 0 &amp;&amp; tempAoa &lt;= 360, <span class="stringliteral">&quot;the AOA should be the range of [0,360]&quot;</span>);</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;          rayAoa_radian[nInd][mInd] = tempAoa * M_PI / 180;</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160; </div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;          <span class="keywordtype">double</span> tempAod = clusterAod[nInd] + table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a1ce8ab7e6303740b2ff666c5dd7cc3ca">m_cASD</a> * <a class="code" href="namespacens3.html#a2344173eeb094a196c555a159e87bc6f">offSetAlpha</a>[mInd];</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;          <span class="keywordflow">while</span> (tempAod &gt; 360)</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;            {</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;              tempAod -= 360;</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;            }</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160; </div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;          <span class="keywordflow">while</span> (tempAod &lt; 0)</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;            {</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;              tempAod += 360;</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;            }</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;          <a class="code" href="ipv4-address-generator_8cc.html#aaf5aa23b804d2e5e334106f207e8a6cc">NS_ASSERT_MSG</a> (tempAod &gt;= 0 &amp;&amp; tempAod &lt;= 360, <span class="stringliteral">&quot;the AOD should be the range of [0,360]&quot;</span>);</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;          rayAod_radian[nInd][mInd] = tempAod * M_PI / 180;</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160; </div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;          <span class="keywordtype">double</span> tempZoa = clusterZoa[nInd] + table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#aaf74f560ce44d6ad05f9697cd672078e">m_cZSA</a> * <a class="code" href="namespacens3.html#a2344173eeb094a196c555a159e87bc6f">offSetAlpha</a>[mInd]; <span class="comment">//(7.5-18)</span></div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160; </div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;          <span class="keywordflow">while</span> (tempZoa &gt; 360)</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;            {</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;              tempZoa -= 360;</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;            }</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160; </div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;          <span class="keywordflow">while</span> (tempZoa &lt; 0)</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;            {</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;              tempZoa += 360;</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;            }</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160; </div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;          <span class="keywordflow">if</span> (tempZoa &gt; 180)</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;            {</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;              tempZoa = 360 - tempZoa;</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;            }</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160; </div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;          <a class="code" href="ipv4-address-generator_8cc.html#aaf5aa23b804d2e5e334106f207e8a6cc">NS_ASSERT_MSG</a> (tempZoa &gt;= 0&amp;&amp;tempZoa &lt;= 180, <span class="stringliteral">&quot;the ZOA should be the range of [0,180]&quot;</span>);</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;          rayZoa_radian[nInd][mInd] = tempZoa * M_PI / 180;</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160; </div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;          <span class="keywordtype">double</span> tempZod = clusterZod[nInd] + 0.375 * pow (10,table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a1da6dcc53d8d85a885eac2e1ad1ad72f">m_uLgZSD</a>) * <a class="code" href="namespacens3.html#a2344173eeb094a196c555a159e87bc6f">offSetAlpha</a>[mInd];             <span class="comment">//(7.5-20)</span></div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160; </div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;          <span class="keywordflow">while</span> (tempZod &gt; 360)</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;            {</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;              tempZod -= 360;</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;            }</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160; </div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;          <span class="keywordflow">while</span> (tempZod &lt; 0)</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;            {</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;              tempZod += 360;</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;            }</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;          <span class="keywordflow">if</span> (tempZod &gt; 180)</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;            {</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;              tempZod = 360 - tempZod;</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;            }</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;          <a class="code" href="ipv4-address-generator_8cc.html#aaf5aa23b804d2e5e334106f207e8a6cc">NS_ASSERT_MSG</a> (tempZod &gt;= 0&amp;&amp;tempZod &lt;= 180, <span class="stringliteral">&quot;the ZOD should be the range of [0,180]&quot;</span>);</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;          rayZod_radian[nInd][mInd] = tempZod * M_PI / 180;</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;        }</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;    }</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;  <a class="code" href="classns3_1_1_three_gpp_channel_model.html#a702a0ddafc085f82ec77e3e5b54868ae">DoubleVector</a> angle_degree;</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;  <span class="keywordtype">double</span> sizeTemp = clusterZoa.size ();</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;  <span class="keywordflow">for</span> (uint8_t ind = 0; ind &lt; 4; ind++)</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    {</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;      <span class="keywordflow">switch</span> (ind)</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;        {</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;        <span class="keywordflow">case</span> 0:</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;          angle_degree = clusterAoa;</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;        <span class="keywordflow">case</span> 1:</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;          angle_degree = clusterZoa;</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;        <span class="keywordflow">case</span> 2:</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;          angle_degree = clusterAod;</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;        <span class="keywordflow">case</span> 3:</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;          angle_degree = clusterZod;</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;          <a class="code" href="group__fatal.html#ga5131d5e3f75d7d4cbfd706ac456fdc85">NS_FATAL_ERROR</a> (<span class="stringliteral">&quot;Programming Error&quot;</span>);</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;        }</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160; </div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;      <span class="keywordflow">for</span> (uint8_t nIndex = 0; nIndex &lt; sizeTemp; nIndex++)</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;        {</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;          <span class="keywordflow">while</span> (angle_degree[nIndex] &gt; 360)</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;            {</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;              angle_degree[nIndex] -= 360;</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;            }</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160; </div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;          <span class="keywordflow">while</span> (angle_degree[nIndex] &lt; 0)</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;            {</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;              angle_degree[nIndex] += 360;</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;            }</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160; </div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;          <span class="keywordflow">if</span> (ind == 1 || ind == 3)</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;            {</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;              <span class="keywordflow">if</span> (angle_degree[nIndex] &gt; 180)</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;                {</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;                  angle_degree[nIndex] = 360 - angle_degree[nIndex];</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;                }</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;            }</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;        }</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;      <span class="keywordflow">switch</span> (ind)</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;        {</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;        <span class="keywordflow">case</span> 0:</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;          clusterAoa = angle_degree;</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;        <span class="keywordflow">case</span> 1:</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;          clusterZoa = angle_degree;</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;        <span class="keywordflow">case</span> 2:</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;          clusterAod = angle_degree;</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;        <span class="keywordflow">case</span> 3:</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;          clusterZod = angle_degree;</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;          <a class="code" href="group__fatal.html#ga5131d5e3f75d7d4cbfd706ac456fdc85">NS_FATAL_ERROR</a> (<span class="stringliteral">&quot;Programming Error&quot;</span>);</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;        }</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;    }</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160; </div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;  <a class="code" href="classns3_1_1_three_gpp_channel_model.html#a702a0ddafc085f82ec77e3e5b54868ae">DoubleVector</a> attenuation_dB;</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_three_gpp_channel_model.html#a2bed3dad6a8b235b32bccdfb2885cbf2">m_blockage</a>)</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;    {</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;      attenuation_dB = <a class="code" href="classns3_1_1_three_gpp_channel_model.html#ae9d397c03bd271c5e1eeadbbde73ad19">CalcAttenuationOfBlockage</a> (channelParams, clusterAoa, clusterZoa);</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;      <span class="keywordflow">for</span> (uint8_t cInd = 0; cInd &lt; numReducedCluster; cInd++)</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;        {</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;          clusterPower[cInd] = clusterPower[cInd] / pow (10,attenuation_dB[cInd] / 10);</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;        }</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;    }</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;    {</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;      attenuation_dB.push_back (0);</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;    }</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160; </div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;  <span class="comment">//Step 8: Coupling of rays within a cluster for both azimuth and elevation</span></div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;  <span class="comment">//shuffle all the arrays to perform random coupling</span></div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;  <span class="keywordflow">for</span> (uint8_t cIndex = 0; cIndex &lt; numReducedCluster; cIndex++)</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;    {</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;      std::shuffle (&amp;rayAod_radian[cIndex][0],&amp;rayAod_radian[cIndex][raysPerCluster],std::default_random_engine (cIndex * 1000 + 100));</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;      std::shuffle (&amp;rayAoa_radian[cIndex][0],&amp;rayAoa_radian[cIndex][raysPerCluster],std::default_random_engine (cIndex * 1000 + 200));</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;      std::shuffle (&amp;rayZod_radian[cIndex][0],&amp;rayZod_radian[cIndex][raysPerCluster],std::default_random_engine (cIndex * 1000 + 300));</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;      std::shuffle (&amp;rayZoa_radian[cIndex][0],&amp;rayZoa_radian[cIndex][raysPerCluster],std::default_random_engine (cIndex * 1000 + 400));</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;    }</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160; </div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;  <span class="comment">//Step 9: Generate the cross polarization power ratios</span></div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;  <span class="comment">//Step 10: Draw initial phases</span></div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;  <a class="code" href="classns3_1_1_three_gpp_channel_model.html#ae5f27f3adb20b735fbe70a5578d00891">Double2DVector</a> crossPolarizationPowerRatios; <span class="comment">// vector containing the cross polarization power ratios, as defined by 7.5-21</span></div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;  <a class="code" href="classns3_1_1_three_gpp_channel_model.html#a00d7dab9a5d071b83830cc54851f51a3">Double3DVector</a> clusterPhase; <span class="comment">//rayAoa_radian[n][m], where n is cluster index, m is ray index</span></div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;  <span class="keywordflow">for</span> (uint8_t nInd = 0; nInd &lt; numReducedCluster; nInd++)</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;    {</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;      <a class="code" href="classns3_1_1_three_gpp_channel_model.html#a702a0ddafc085f82ec77e3e5b54868ae">DoubleVector</a> temp; <span class="comment">// used to store the XPR values</span></div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;      <a class="code" href="classns3_1_1_three_gpp_channel_model.html#ae5f27f3adb20b735fbe70a5578d00891">Double2DVector</a> temp2; <span class="comment">// used to store the PHI values for all the possible combination of polarization</span></div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;      <span class="keywordflow">for</span> (uint8_t mInd = 0; mInd &lt; raysPerCluster; mInd++)</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;        {</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;          <span class="keywordtype">double</span> uXprLinear = pow (10, table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#adac20a0adc245e3f6f91e5786df70823">m_uXpr</a> / 10); <span class="comment">// convert to linear</span></div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;          <span class="keywordtype">double</span> sigXprLinear = pow (10, table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a3a8039a5403a6cd3e1cc8db4a132245c">m_sigXpr</a> / 10); <span class="comment">// convert to linear</span></div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160; </div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;          temp.push_back (std::pow (10, (<a class="code" href="classns3_1_1_three_gpp_channel_model.html#a1d52f8abe7b21a2503279ae794e0e696">m_normalRv</a>-&gt;GetValue () * sigXprLinear + uXprLinear) / 10));</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;          <a class="code" href="classns3_1_1_three_gpp_channel_model.html#a702a0ddafc085f82ec77e3e5b54868ae">DoubleVector</a> temp3; <span class="comment">// used to store the PHI valuse</span></div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;          <span class="keywordflow">for</span> (uint8_t pInd = 0; pInd &lt; 4; pInd++)</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;            {</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;              temp3.push_back (<a class="code" href="classns3_1_1_three_gpp_channel_model.html#a6f1967266792799ef6fa01181d4ae6b3">m_uniformRv</a>-&gt;<a class="code" href="classns3_1_1_uniform_random_variable.html#a03822d8c86ac51e9aa83bbc73041386b">GetValue</a> (-1 * M_PI, M_PI));</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;            }</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;          temp2.push_back (temp3);</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;        }</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;      crossPolarizationPowerRatios.push_back (temp);</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;      clusterPhase.push_back (temp2);</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;    }</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;  channelParams-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_three_gpp_channel_matrix.html#a4d529eb94098cd397d0d4538f13ee0d2">m_clusterPhase</a> = clusterPhase;</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160; </div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;  <span class="comment">//Step 11: Generate channel coefficients for each cluster n and each receiver</span></div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;  <span class="comment">// and transmitter element pair u,s.</span></div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160; </div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;  <a class="code" href="classns3_1_1_three_gpp_channel_model.html#af9c3d065522914808816bbdc61f7f263">Complex3DVector</a> H_NLOS; <span class="comment">// channel coefficients H_NLOS [u][s][n],</span></div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;  <span class="comment">// where u and s are receive and transmit antenna element, n is cluster index.</span></div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;  uint64_t uSize = uAntenna-&gt;GetNumberOfElements ();</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;  uint64_t sSize = sAntenna-&gt;GetNumberOfElements ();</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160; </div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;  uint8_t cluster1st = 0, cluster2nd = 0; <span class="comment">// first and second strongest cluster;</span></div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;  <span class="keywordtype">double</span> maxPower = 0;</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;  <span class="keywordflow">for</span> (uint8_t cIndex = 0; cIndex &lt; numReducedCluster; cIndex++)</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;    {</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;      <span class="keywordflow">if</span> (maxPower &lt; clusterPower[cIndex])</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;        {</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;          maxPower = clusterPower[cIndex];</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;          cluster1st = cIndex;</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;        }</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;    }</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;  maxPower = 0;</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;  <span class="keywordflow">for</span> (uint8_t cIndex = 0; cIndex &lt; numReducedCluster; cIndex++)</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;    {</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;      <span class="keywordflow">if</span> (maxPower &lt; clusterPower[cIndex] &amp;&amp; cluster1st != cIndex)</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;        {</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;          maxPower = clusterPower[cIndex];</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;          cluster2nd = cIndex;</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;        }</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;    }</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160; </div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;  <a class="code" href="group__logging.html#gafbd73ee2cf9f26b319f49086d8e860fb">NS_LOG_INFO</a> (<span class="stringliteral">&quot;1st strongest cluster:&quot;</span> &lt;&lt; (<span class="keywordtype">int</span>)cluster1st &lt;&lt; <span class="stringliteral">&quot;, 2nd strongest cluster:&quot;</span> &lt;&lt; (<span class="keywordtype">int</span>)cluster2nd);</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160; </div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;  <a class="code" href="classns3_1_1_three_gpp_channel_model.html#af9c3d065522914808816bbdc61f7f263">Complex3DVector</a> H_usn;  <span class="comment">//channel coffecient H_usn[u][s][n];</span></div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;  <span class="comment">// NOTE Since each of the strongest 2 clusters are divided into 3 sub-clusters,</span></div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;  <span class="comment">// the total cluster will be numReducedCLuster + 4.</span></div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160; </div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;  H_usn.resize (uSize);</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;  <span class="keywordflow">for</span> (uint64_t uIndex = 0; uIndex &lt; uSize; uIndex++)</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;    {</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;      H_usn[uIndex].resize (sSize);</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;      <span class="keywordflow">for</span> (uint64_t sIndex = 0; sIndex &lt; sSize; sIndex++)</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;        {</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;          H_usn[uIndex][sIndex].resize (numReducedCluster);</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;        }</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;    }</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160; </div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;  <span class="comment">// The following for loops computes the channel coefficients</span></div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;  <span class="keywordflow">for</span> (uint64_t uIndex = 0; uIndex &lt; uSize; uIndex++)</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;    {</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;      Vector uLoc = uAntenna-&gt;GetElementLocation (uIndex);</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160; </div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;      <span class="keywordflow">for</span> (uint64_t sIndex = 0; sIndex &lt; sSize; sIndex++)</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;        {</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160; </div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;          Vector sLoc = sAntenna-&gt;GetElementLocation (sIndex);</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160; </div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;          <span class="keywordflow">for</span> (uint8_t nIndex = 0; nIndex &lt; numReducedCluster; nIndex++)</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;            {</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;              <span class="comment">//Compute the N-2 weakest cluster, only vertical polarization. (7.5-22)</span></div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;              <span class="keywordflow">if</span> (nIndex != cluster1st &amp;&amp; nIndex != cluster2nd)</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;                {</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;                  std::complex&lt;double&gt; rays (0,0);</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;                  <span class="keywordflow">for</span> (uint8_t mIndex = 0; mIndex &lt; raysPerCluster; mIndex++)</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;                    {</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;                      <a class="code" href="classns3_1_1_three_gpp_channel_model.html#a702a0ddafc085f82ec77e3e5b54868ae">DoubleVector</a> initialPhase = clusterPhase[nIndex][mIndex];</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;                      <span class="keywordtype">double</span> k = crossPolarizationPowerRatios[nIndex][mIndex];</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;                      <span class="comment">//lambda_0 is accounted in the antenna spacing uLoc and sLoc.</span></div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;                      <span class="keywordtype">double</span> rxPhaseDiff = 2 * M_PI * (sin (rayZoa_radian[nIndex][mIndex]) * cos (rayAoa_radian[nIndex][mIndex]) * uLoc.x</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;                                                       + sin (rayZoa_radian[nIndex][mIndex]) * sin (rayAoa_radian[nIndex][mIndex]) * uLoc.y</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;                                                       + cos (rayZoa_radian[nIndex][mIndex]) * uLoc.z);</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160; </div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;                      <span class="keywordtype">double</span> txPhaseDiff = 2 * M_PI * (sin (rayZod_radian[nIndex][mIndex]) * cos (rayAod_radian[nIndex][mIndex]) * sLoc.x</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;                                                       + sin (rayZod_radian[nIndex][mIndex]) * sin (rayAod_radian[nIndex][mIndex]) * sLoc.y</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;                                                       + cos (rayZod_radian[nIndex][mIndex]) * sLoc.z);</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;                      <span class="comment">// NOTE Doppler is computed in the CalcBeamformingGain function and is simplified to only account for the center anngle of each cluster.</span></div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160; </div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;                      <span class="keywordtype">double</span> rxFieldPatternPhi, rxFieldPatternTheta, txFieldPatternPhi, txFieldPatternTheta;</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;                      std::tie (rxFieldPatternPhi, rxFieldPatternTheta) = uAntenna-&gt;GetElementFieldPattern (<a class="code" href="structns3_1_1_angles.html">Angles</a> (rayAoa_radian[nIndex][mIndex], rayZoa_radian[nIndex][mIndex]));</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;                      std::tie (txFieldPatternPhi, txFieldPatternTheta) = sAntenna-&gt;GetElementFieldPattern (<a class="code" href="structns3_1_1_angles.html">Angles</a> (rayAod_radian[nIndex][mIndex], rayZod_radian[nIndex][mIndex]));</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160; </div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;                      rays += (exp (std::complex&lt;double&gt; (0, initialPhase[0])) * rxFieldPatternTheta * txFieldPatternTheta +</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;                               +exp (std::complex&lt;double&gt; (0, initialPhase[1])) * std::sqrt (1 / k) * rxFieldPatternTheta * txFieldPatternPhi +</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;                               +exp (std::complex&lt;double&gt; (0, initialPhase[2])) * std::sqrt (1 / k) * rxFieldPatternPhi * txFieldPatternTheta +</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;                               +exp (std::complex&lt;double&gt; (0, initialPhase[3])) * rxFieldPatternPhi * txFieldPatternPhi)</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;                        * exp (std::complex&lt;double&gt; (0, rxPhaseDiff))</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;                        * exp (std::complex&lt;double&gt; (0, txPhaseDiff));</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;                    }</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;                  rays *= sqrt (clusterPower[nIndex] / raysPerCluster);</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;                  H_usn[uIndex][sIndex][nIndex] = rays;</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;                }</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;              <span class="keywordflow">else</span>  <span class="comment">//(7.5-28)</span></div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;                {</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;                  std::complex&lt;double&gt; raysSub1 (0,0);</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;                  std::complex&lt;double&gt; raysSub2 (0,0);</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;                  std::complex&lt;double&gt; raysSub3 (0,0);</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160; </div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;                  <span class="keywordflow">for</span> (uint8_t mIndex = 0; mIndex &lt; raysPerCluster; mIndex++)</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;                    {</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;                      <span class="keywordtype">double</span> k = crossPolarizationPowerRatios[nIndex][mIndex];</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160; </div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;                      <span class="comment">//ZML:Just remind me that the angle offsets for the 3 subclusters were not generated correctly.</span></div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160; </div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;                      <a class="code" href="classns3_1_1_three_gpp_channel_model.html#a702a0ddafc085f82ec77e3e5b54868ae">DoubleVector</a> initialPhase = clusterPhase[nIndex][mIndex];</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;                      <span class="keywordtype">double</span> rxPhaseDiff = 2 * M_PI * (sin (rayZoa_radian[nIndex][mIndex]) * cos (rayAoa_radian[nIndex][mIndex]) * uLoc.x</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;                                                       + sin (rayZoa_radian[nIndex][mIndex]) * sin (rayAoa_radian[nIndex][mIndex]) * uLoc.y</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;                                                       + cos (rayZoa_radian[nIndex][mIndex]) * uLoc.z);</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;                      <span class="keywordtype">double</span> txPhaseDiff = 2 * M_PI * (sin (rayZod_radian[nIndex][mIndex]) * cos (rayAod_radian[nIndex][mIndex]) * sLoc.x</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;                                                       + sin (rayZod_radian[nIndex][mIndex]) * sin (rayAod_radian[nIndex][mIndex]) * sLoc.y</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;                                                       + cos (rayZod_radian[nIndex][mIndex]) * sLoc.z);</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160; </div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;                      <span class="keywordtype">double</span> rxFieldPatternPhi, rxFieldPatternTheta, txFieldPatternPhi, txFieldPatternTheta;</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;                      std::tie (rxFieldPatternPhi, rxFieldPatternTheta) = uAntenna-&gt;GetElementFieldPattern (<a class="code" href="structns3_1_1_angles.html">Angles</a> (rayAoa_radian[nIndex][mIndex], rayZoa_radian[nIndex][mIndex]));</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;                      std::tie (txFieldPatternPhi, txFieldPatternTheta) = sAntenna-&gt;GetElementFieldPattern (<a class="code" href="structns3_1_1_angles.html">Angles</a> (rayAod_radian[nIndex][mIndex], rayZod_radian[nIndex][mIndex]));</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160; </div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;                      <span class="keywordflow">switch</span> (mIndex)</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;                        {</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;                        <span class="keywordflow">case</span> 9:</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;                        <span class="keywordflow">case</span> 10:</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;                        <span class="keywordflow">case</span> 11:</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;                        <span class="keywordflow">case</span> 12:</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;                        <span class="keywordflow">case</span> 17:</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;                        <span class="keywordflow">case</span> 18:</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;                          raysSub2 += (exp (std::complex&lt;double&gt; (0, initialPhase[0])) * rxFieldPatternTheta * txFieldPatternTheta +</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;                                       +exp (std::complex&lt;double&gt; (0, initialPhase[1])) * std::sqrt (1 / k) * rxFieldPatternTheta * txFieldPatternPhi +</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;                                       +exp (std::complex&lt;double&gt; (0, initialPhase[2])) * std::sqrt (1 / k) * rxFieldPatternPhi * txFieldPatternTheta +</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;                                       +exp (std::complex&lt;double&gt; (0, initialPhase[3])) * rxFieldPatternPhi * txFieldPatternPhi)</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;                            * exp (std::complex&lt;double&gt; (0, rxPhaseDiff))</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;                            * exp (std::complex&lt;double&gt; (0, txPhaseDiff));</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;                          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;                        <span class="keywordflow">case</span> 13:</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;                        <span class="keywordflow">case</span> 14:</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;                        <span class="keywordflow">case</span> 15:</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;                        <span class="keywordflow">case</span> 16:</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;                          raysSub3 += (exp (std::complex&lt;double&gt; (0, initialPhase[0])) * rxFieldPatternTheta * txFieldPatternTheta +</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;                                       +exp (std::complex&lt;double&gt; (0, initialPhase[1])) * std::sqrt (1 / k) * rxFieldPatternTheta * txFieldPatternPhi +</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;                                       +exp (std::complex&lt;double&gt; (0, initialPhase[2])) * std::sqrt (1 / k) * rxFieldPatternPhi * txFieldPatternTheta +</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;                                       +exp (std::complex&lt;double&gt; (0, initialPhase[3])) * rxFieldPatternPhi * txFieldPatternPhi)</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;                            * exp (std::complex&lt;double&gt; (0, rxPhaseDiff))</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;                            * exp (std::complex&lt;double&gt; (0, txPhaseDiff));</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;                          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;                        <span class="keywordflow">default</span>:                        <span class="comment">//case 1,2,3,4,5,6,7,8,19,20</span></div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;                          raysSub1 += (exp (std::complex&lt;double&gt; (0, initialPhase[0])) * rxFieldPatternTheta * txFieldPatternTheta +</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;                                       +exp (std::complex&lt;double&gt; (0, initialPhase[1])) * std::sqrt (1 / k) * rxFieldPatternTheta * txFieldPatternPhi +</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;                                       +exp (std::complex&lt;double&gt; (0, initialPhase[2])) * std::sqrt (1 / k) * rxFieldPatternPhi * txFieldPatternTheta +</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;                                       +exp (std::complex&lt;double&gt; (0, initialPhase[3])) * rxFieldPatternPhi * txFieldPatternPhi)</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;                            * exp (std::complex&lt;double&gt; (0, rxPhaseDiff))</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;                            * exp (std::complex&lt;double&gt; (0, txPhaseDiff));</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;                          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;                        }</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;                    }</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;                  raysSub1 *= sqrt (clusterPower[nIndex] / raysPerCluster);</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;                  raysSub2 *= sqrt (clusterPower[nIndex] / raysPerCluster);</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;                  raysSub3 *= sqrt (clusterPower[nIndex] / raysPerCluster);</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;                  H_usn[uIndex][sIndex][nIndex] = raysSub1;</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;                  H_usn[uIndex][sIndex].push_back (raysSub2);</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;                  H_usn[uIndex][sIndex].push_back (raysSub3);</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160; </div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;                }</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;            }</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;          <span class="keywordflow">if</span> (los) <span class="comment">//(7.5-29) &amp;&amp; (7.5-30)</span></div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;            {</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;              std::complex&lt;double&gt; ray (0,0);</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;              <span class="keywordtype">double</span> rxPhaseDiff = 2 * M_PI * (sin (uAngle.<a class="code" href="structns3_1_1_angles.html#a98c2a7d6c99f9fd8504e4801a68bf291">theta</a>) * cos (uAngle.<a class="code" href="structns3_1_1_angles.html#a0585b0de17bc6d358be18e14cf294ca8">phi</a>) * uLoc.x</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;                                               + sin (uAngle.<a class="code" href="structns3_1_1_angles.html#a98c2a7d6c99f9fd8504e4801a68bf291">theta</a>) * sin (uAngle.<a class="code" href="structns3_1_1_angles.html#a0585b0de17bc6d358be18e14cf294ca8">phi</a>) * uLoc.y</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;                                               + cos (uAngle.<a class="code" href="structns3_1_1_angles.html#a98c2a7d6c99f9fd8504e4801a68bf291">theta</a>) * uLoc.z);</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;              <span class="keywordtype">double</span> txPhaseDiff = 2 * M_PI * (sin (sAngle.<a class="code" href="structns3_1_1_angles.html#a98c2a7d6c99f9fd8504e4801a68bf291">theta</a>) * cos (sAngle.<a class="code" href="structns3_1_1_angles.html#a0585b0de17bc6d358be18e14cf294ca8">phi</a>) * sLoc.x</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;                                               + sin (sAngle.<a class="code" href="structns3_1_1_angles.html#a98c2a7d6c99f9fd8504e4801a68bf291">theta</a>) * sin (sAngle.<a class="code" href="structns3_1_1_angles.html#a0585b0de17bc6d358be18e14cf294ca8">phi</a>) * sLoc.y</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;                                               + cos (sAngle.<a class="code" href="structns3_1_1_angles.html#a98c2a7d6c99f9fd8504e4801a68bf291">theta</a>) * sLoc.z);</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160; </div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;              <span class="keywordtype">double</span> rxFieldPatternPhi, rxFieldPatternTheta, txFieldPatternPhi, txFieldPatternTheta;</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;              std::tie (rxFieldPatternPhi, rxFieldPatternTheta) = uAntenna-&gt;GetElementFieldPattern (<a class="code" href="structns3_1_1_angles.html">Angles</a> (uAngle.<a class="code" href="structns3_1_1_angles.html#a0585b0de17bc6d358be18e14cf294ca8">phi</a>, uAngle.<a class="code" href="structns3_1_1_angles.html#a98c2a7d6c99f9fd8504e4801a68bf291">theta</a>));</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;              std::tie (txFieldPatternPhi, txFieldPatternTheta) = sAntenna-&gt;GetElementFieldPattern (<a class="code" href="structns3_1_1_angles.html">Angles</a> (sAngle.<a class="code" href="structns3_1_1_angles.html#a0585b0de17bc6d358be18e14cf294ca8">phi</a>, sAngle.<a class="code" href="structns3_1_1_angles.html#a98c2a7d6c99f9fd8504e4801a68bf291">theta</a>));</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160; </div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;              <span class="keywordtype">double</span> lambda = 3e8 / <a class="code" href="classns3_1_1_three_gpp_channel_model.html#a9ed0314cea99395b9ffb3bc7118a9102">m_frequency</a>; <span class="comment">// the wavelength of the carrier frequency</span></div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160; </div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;              ray = (rxFieldPatternTheta * txFieldPatternTheta - rxFieldPatternPhi * txFieldPatternPhi)</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;                  * exp (std::complex&lt;double&gt; (0, - 2 * M_PI * dis3D / lambda))</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;                  * exp (std::complex&lt;double&gt; (0, rxPhaseDiff))</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;                  * exp (std::complex&lt;double&gt; (0, txPhaseDiff));</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160; </div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;              <span class="keywordtype">double</span> K_linear = pow (10,K_factor / 10);</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;              <span class="comment">// the LOS path should be attenuated if blockage is enabled.</span></div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;              H_usn[uIndex][sIndex][0] = sqrt (1 / (K_linear + 1)) * H_usn[uIndex][sIndex][0] + sqrt (K_linear / (1 + K_linear)) * ray / pow (10,attenuation_dB[0] / 10);           <span class="comment">//(7.5-30) for tau = tau1</span></div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;              <span class="keywordtype">double</span> tempSize = H_usn[uIndex][sIndex].size ();</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;              <span class="keywordflow">for</span> (uint8_t nIndex = 1; nIndex &lt; tempSize; nIndex++)</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;                {</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;                  H_usn[uIndex][sIndex][nIndex] *= sqrt (1 / (K_linear + 1)); <span class="comment">//(7.5-30) for tau = tau2...taunN</span></div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;                }</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160; </div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;            }</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;        }</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;    }</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160; </div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;  <span class="comment">// store the delays and the angles for the subclusters</span></div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;  <span class="keywordflow">if</span> (cluster1st == cluster2nd)</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;    {</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;      clusterDelay.push_back (clusterDelay[cluster1st] + 1.28 * table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#ab1520d35465ea804902f3c4f57063fd1">m_cDS</a>);</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;      clusterDelay.push_back (clusterDelay[cluster1st] + 2.56 * table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#ab1520d35465ea804902f3c4f57063fd1">m_cDS</a>);</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160; </div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;      clusterAoa.push_back (clusterAoa[cluster1st]);</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;      clusterAoa.push_back (clusterAoa[cluster1st]);</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160; </div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;      clusterZoa.push_back (clusterZoa[cluster1st]);</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;      clusterZoa.push_back (clusterZoa[cluster1st]);</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160; </div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;      clusterAod.push_back (clusterAod[cluster1st]);</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;      clusterAod.push_back (clusterAod[cluster1st]);</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160; </div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;      clusterZod.push_back (clusterZod[cluster1st]);</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;      clusterZod.push_back (clusterZod[cluster1st]);</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;    }</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;    {</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;      <span class="keywordtype">double</span> <a class="code" href="namespacens3.html#a66840605409c3caeff0d2a728b68dc6d">min</a>, <a class="code" href="namespacens3.html#a548291fa9e4e7d6a57814dfcbbebce9b">max</a>;</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;      <span class="keywordflow">if</span> (cluster1st &lt; cluster2nd)</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;        {</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;          <a class="code" href="namespacens3.html#a66840605409c3caeff0d2a728b68dc6d">min</a> = cluster1st;</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;          <a class="code" href="namespacens3.html#a548291fa9e4e7d6a57814dfcbbebce9b">max</a> = cluster2nd;</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;        }</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;        {</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;          <a class="code" href="namespacens3.html#a66840605409c3caeff0d2a728b68dc6d">min</a> = cluster2nd;</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;          <a class="code" href="namespacens3.html#a548291fa9e4e7d6a57814dfcbbebce9b">max</a> = cluster1st;</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;        }</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;      clusterDelay.push_back (clusterDelay[<a class="code" href="namespacens3.html#a66840605409c3caeff0d2a728b68dc6d">min</a>] + 1.28 * table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#ab1520d35465ea804902f3c4f57063fd1">m_cDS</a>);</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;      clusterDelay.push_back (clusterDelay[<a class="code" href="namespacens3.html#a66840605409c3caeff0d2a728b68dc6d">min</a>] + 2.56 * table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#ab1520d35465ea804902f3c4f57063fd1">m_cDS</a>);</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;      clusterDelay.push_back (clusterDelay[<a class="code" href="namespacens3.html#a548291fa9e4e7d6a57814dfcbbebce9b">max</a>] + 1.28 * table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#ab1520d35465ea804902f3c4f57063fd1">m_cDS</a>);</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;      clusterDelay.push_back (clusterDelay[<a class="code" href="namespacens3.html#a548291fa9e4e7d6a57814dfcbbebce9b">max</a>] + 2.56 * table3gpp-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#ab1520d35465ea804902f3c4f57063fd1">m_cDS</a>);</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160; </div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;      clusterAoa.push_back (clusterAoa[<a class="code" href="namespacens3.html#a66840605409c3caeff0d2a728b68dc6d">min</a>]);</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;      clusterAoa.push_back (clusterAoa[<a class="code" href="namespacens3.html#a66840605409c3caeff0d2a728b68dc6d">min</a>]);</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;      clusterAoa.push_back (clusterAoa[<a class="code" href="namespacens3.html#a548291fa9e4e7d6a57814dfcbbebce9b">max</a>]);</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;      clusterAoa.push_back (clusterAoa[<a class="code" href="namespacens3.html#a548291fa9e4e7d6a57814dfcbbebce9b">max</a>]);</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160; </div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;      clusterZoa.push_back (clusterZoa[<a class="code" href="namespacens3.html#a66840605409c3caeff0d2a728b68dc6d">min</a>]);</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;      clusterZoa.push_back (clusterZoa[<a class="code" href="namespacens3.html#a66840605409c3caeff0d2a728b68dc6d">min</a>]);</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;      clusterZoa.push_back (clusterZoa[<a class="code" href="namespacens3.html#a548291fa9e4e7d6a57814dfcbbebce9b">max</a>]);</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;      clusterZoa.push_back (clusterZoa[<a class="code" href="namespacens3.html#a548291fa9e4e7d6a57814dfcbbebce9b">max</a>]);</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160; </div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;      clusterAod.push_back (clusterAod[<a class="code" href="namespacens3.html#a66840605409c3caeff0d2a728b68dc6d">min</a>]);</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;      clusterAod.push_back (clusterAod[<a class="code" href="namespacens3.html#a66840605409c3caeff0d2a728b68dc6d">min</a>]);</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;      clusterAod.push_back (clusterAod[<a class="code" href="namespacens3.html#a548291fa9e4e7d6a57814dfcbbebce9b">max</a>]);</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;      clusterAod.push_back (clusterAod[<a class="code" href="namespacens3.html#a548291fa9e4e7d6a57814dfcbbebce9b">max</a>]);</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160; </div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;      clusterZod.push_back (clusterZod[<a class="code" href="namespacens3.html#a66840605409c3caeff0d2a728b68dc6d">min</a>]);</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;      clusterZod.push_back (clusterZod[<a class="code" href="namespacens3.html#a66840605409c3caeff0d2a728b68dc6d">min</a>]);</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;      clusterZod.push_back (clusterZod[<a class="code" href="namespacens3.html#a548291fa9e4e7d6a57814dfcbbebce9b">max</a>]);</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;      clusterZod.push_back (clusterZod[<a class="code" href="namespacens3.html#a548291fa9e4e7d6a57814dfcbbebce9b">max</a>]);</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160; </div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160; </div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;    }</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160; </div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;  <a class="code" href="group__logging.html#gafbd73ee2cf9f26b319f49086d8e860fb">NS_LOG_INFO</a> (<span class="stringliteral">&quot;size of coefficient matrix =[&quot;</span> &lt;&lt; H_usn.size () &lt;&lt; <span class="stringliteral">&quot;][&quot;</span> &lt;&lt; H_usn[0].size () &lt;&lt; <span class="stringliteral">&quot;][&quot;</span> &lt;&lt; H_usn[0][0].size () &lt;&lt; <span class="stringliteral">&quot;]&quot;</span>);</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160; </div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;  channelParams-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_three_gpp_channel_matrix.html#a4785cc2ef2d98133092077c20078f7d8">m_channel</a> = H_usn;</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;  channelParams-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_three_gpp_channel_matrix.html#a2e97197378bf307cac324a2a655cbdf0">m_delay</a> = clusterDelay;</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160; </div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;  channelParams-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_three_gpp_channel_matrix.html#ae46b445a211aaf3ca40d24636ceabb65">m_angle</a>.clear ();</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;  channelParams-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_three_gpp_channel_matrix.html#ae46b445a211aaf3ca40d24636ceabb65">m_angle</a>.push_back (clusterAoa);</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;  channelParams-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_three_gpp_channel_matrix.html#ae46b445a211aaf3ca40d24636ceabb65">m_angle</a>.push_back (clusterZoa);</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;  channelParams-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_three_gpp_channel_matrix.html#ae46b445a211aaf3ca40d24636ceabb65">m_angle</a>.push_back (clusterAod);</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;  channelParams-&gt;<a class="code" href="structns3_1_1_three_gpp_channel_model_1_1_three_gpp_channel_matrix.html#ae46b445a211aaf3ca40d24636ceabb65">m_angle</a>.push_back (clusterZod);</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160; </div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;  <span class="keywordflow">return</span> channelParams;</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;}</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160; </div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;<a class="code" href="classns3_1_1_three_gpp_channel_model.html#a702a0ddafc085f82ec77e3e5b54868ae">ThreeGppChannelModel::DoubleVector</a></div>
<div class="line"><a name="l01581"></a><span class="lineno"><a class="line" href="classns3_1_1_three_gpp_channel_model.html#ae9d397c03bd271c5e1eeadbbde73ad19"> 1581</a></span>&#160;<a class="code" href="classns3_1_1_three_gpp_channel_model.html#ae9d397c03bd271c5e1eeadbbde73ad19">ThreeGppChannelModel::CalcAttenuationOfBlockage</a> (<a class="code" href="classns3_1_1_ptr.html">Ptr&lt;ThreeGppChannelMatrix&gt;</a> <a class="code" href="namespacealoha.html#aff1381c591fdaf9d3af2b19080c9eed7">params</a>,</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;                                                 <span class="keyword">const</span> <a class="code" href="classns3_1_1_three_gpp_channel_model.html#a702a0ddafc085f82ec77e3e5b54868ae">DoubleVector</a> &amp;clusterAOA,</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;                                                 <span class="keyword">const</span> <a class="code" href="classns3_1_1_three_gpp_channel_model.html#a702a0ddafc085f82ec77e3e5b54868ae">DoubleVector</a> &amp;clusterZOA)<span class="keyword"> const</span></div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;  <a class="code" href="group__logging.html#ga90b90d5bad1f39cb1b64923ea94c0761">NS_LOG_FUNCTION</a> (<span class="keyword">this</span>);</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160; </div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;  <a class="code" href="classns3_1_1_three_gpp_channel_model.html#a702a0ddafc085f82ec77e3e5b54868ae">DoubleVector</a> powerAttenuation;</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;  uint8_t clusterNum = clusterAOA.size ();</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;  <span class="keywordflow">for</span> (uint8_t cInd = 0; cInd &lt; clusterNum; cInd++)</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;    {</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;      powerAttenuation.push_back (0); <span class="comment">//Initial power attenuation for all clusters to be 0 dB;</span></div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;    }</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;  <span class="comment">//step a: the number of non-self blocking blockers is stored in m_numNonSelfBlocking.</span></div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160; </div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;  <span class="comment">//step b:Generate the size and location of each blocker</span></div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;  <span class="comment">//generate self blocking (i.e., for blockage from the human body)</span></div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;  <span class="keywordtype">double</span> phi_sb, x_sb, theta_sb, y_sb;</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;  <span class="comment">//table 7.6.4.1-1 Self-blocking region parameters.</span></div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_three_gpp_channel_model.html#a0a5207845a3dafa29315f1e13ec4d20f">m_portraitMode</a>)</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;    {</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;      phi_sb = 260;</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;      x_sb = 120;</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;      theta_sb = 100;</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;      y_sb = 80;</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;    }</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;  <span class="keywordflow">else</span> <span class="comment">// landscape mode</span></div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;    {</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;      phi_sb = 40;</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;      x_sb = 160;</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;      theta_sb = 110;</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;      y_sb = 75;</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;    }</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160; </div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;  <span class="comment">//generate or update non-self blocking</span></div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacealoha.html#aff1381c591fdaf9d3af2b19080c9eed7">params</a>-&gt;m_nonSelfBlocking.size () == 0) <span class="comment">//generate new blocking regions</span></div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;    {</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;      <span class="keywordflow">for</span> (uint16_t blockInd = 0; blockInd &lt; <a class="code" href="classns3_1_1_three_gpp_channel_model.html#a845ceb5ed6364ab4b6819341acfb5611">m_numNonSelfBlocking</a>; blockInd++)</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;        {</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;          <span class="comment">//draw value from table 7.6.4.1-2 Blocking region parameters</span></div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;          <a class="code" href="classns3_1_1_three_gpp_channel_model.html#a702a0ddafc085f82ec77e3e5b54868ae">DoubleVector</a> table;</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;          table.push_back (<a class="code" href="classns3_1_1_three_gpp_channel_model.html#a1d52f8abe7b21a2503279ae794e0e696">m_normalRv</a>-&gt;GetValue ()); <span class="comment">//phi_k: store the normal RV that will be mapped to uniform (0,360) later.</span></div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_three_gpp_channel_model.html#ab968c2f70de05322e504a407f92ad898">m_scenario</a> == <span class="stringliteral">&quot;InH-OfficeMixed&quot;</span> || <a class="code" href="classns3_1_1_three_gpp_channel_model.html#ab968c2f70de05322e504a407f92ad898">m_scenario</a> == <span class="stringliteral">&quot;InH-OfficeOpen&quot;</span>)</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;            {</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;              table.push_back (<a class="code" href="classns3_1_1_three_gpp_channel_model.html#a6f1967266792799ef6fa01181d4ae6b3">m_uniformRv</a>-&gt;<a class="code" href="classns3_1_1_uniform_random_variable.html#a03822d8c86ac51e9aa83bbc73041386b">GetValue</a> (15, 45)); <span class="comment">//x_k</span></div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;              table.push_back (90);  <span class="comment">//Theta_k</span></div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;              table.push_back (<a class="code" href="classns3_1_1_three_gpp_channel_model.html#a6f1967266792799ef6fa01181d4ae6b3">m_uniformRv</a>-&gt;<a class="code" href="classns3_1_1_uniform_random_variable.html#a03822d8c86ac51e9aa83bbc73041386b">GetValue</a> (5, 15)); <span class="comment">//y_k</span></div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;              table.push_back (2);  <span class="comment">//r</span></div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;            }</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;          <span class="keywordflow">else</span></div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;            {</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;              table.push_back (<a class="code" href="classns3_1_1_three_gpp_channel_model.html#a6f1967266792799ef6fa01181d4ae6b3">m_uniformRv</a>-&gt;<a class="code" href="classns3_1_1_uniform_random_variable.html#a03822d8c86ac51e9aa83bbc73041386b">GetValue</a> (5, 15)); <span class="comment">//x_k</span></div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;              table.push_back (90);  <span class="comment">//Theta_k</span></div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;              table.push_back (5);  <span class="comment">//y_k</span></div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;              table.push_back (10);  <span class="comment">//r</span></div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;            }</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;          <a class="code" href="namespacealoha.html#aff1381c591fdaf9d3af2b19080c9eed7">params</a>-&gt;m_nonSelfBlocking.push_back (table);</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;        }</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;    }</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;    {</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;      <span class="keywordtype">double</span> deltaX = sqrt (pow (<a class="code" href="namespacealoha.html#aff1381c591fdaf9d3af2b19080c9eed7">params</a>-&gt;m_preLocUT.x - <a class="code" href="namespacealoha.html#aff1381c591fdaf9d3af2b19080c9eed7">params</a>-&gt;m_locUT.x, 2) + pow (<a class="code" href="namespacealoha.html#aff1381c591fdaf9d3af2b19080c9eed7">params</a>-&gt;m_preLocUT.y - <a class="code" href="namespacealoha.html#aff1381c591fdaf9d3af2b19080c9eed7">params</a>-&gt;m_locUT.y, 2));</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;      <span class="comment">//if deltaX and speed are both 0, the autocorrelation is 1, skip updating</span></div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;      <span class="keywordflow">if</span> (deltaX &gt; 1e-6 || <a class="code" href="classns3_1_1_three_gpp_channel_model.html#a4f27160ce3a173bbe338d3fd5fc508b3">m_blockerSpeed</a> &gt; 1e-6)</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;        {</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;          <span class="keywordtype">double</span> corrDis;</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;          <span class="comment">//draw value from table 7.6.4.1-4: Spatial correlation distance for different m_scenarios.</span></div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_three_gpp_channel_model.html#ab968c2f70de05322e504a407f92ad898">m_scenario</a> == <span class="stringliteral">&quot;InH-OfficeMixed&quot;</span> || <a class="code" href="classns3_1_1_three_gpp_channel_model.html#ab968c2f70de05322e504a407f92ad898">m_scenario</a> == <span class="stringliteral">&quot;InH-OfficeOpen&quot;</span>)</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;            {</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;              <span class="comment">//InH, correlation distance = 5;</span></div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;              corrDis = 5;</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;            }</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;          <span class="keywordflow">else</span></div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;            {</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;              <span class="keywordflow">if</span> (<a class="code" href="namespacealoha.html#aff1381c591fdaf9d3af2b19080c9eed7">params</a>-&gt;m_o2i) <span class="comment">// outdoor to indoor</span></div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;                {</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;                  corrDis = 5;</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;                }</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;              <span class="keywordflow">else</span>  <span class="comment">//LOS or NLOS</span></div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;                {</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;                  corrDis = 10;</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;                }</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;            }</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;          <span class="keywordtype">double</span> R;</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_three_gpp_channel_model.html#a4f27160ce3a173bbe338d3fd5fc508b3">m_blockerSpeed</a> &gt; 1e-6) <span class="comment">// speed not equal to 0</span></div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;            {</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;              <span class="keywordtype">double</span> corrT = corrDis / <a class="code" href="classns3_1_1_three_gpp_channel_model.html#a4f27160ce3a173bbe338d3fd5fc508b3">m_blockerSpeed</a>;</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;              R = exp (-1 * (deltaX / corrDis + (<a class="code" href="group__simulator.html#gac3635e2e87f7ce316c89290ee1b01d0d">Now</a> ().GetSeconds () - <a class="code" href="namespacealoha.html#aff1381c591fdaf9d3af2b19080c9eed7">params</a>-&gt;m_generatedTime.GetSeconds ()) / corrT));</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;            }</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;          <span class="keywordflow">else</span></div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;            {</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;              R = exp (-1 * (deltaX / corrDis));</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;            }</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160; </div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;          <a class="code" href="group__logging.html#gafbd73ee2cf9f26b319f49086d8e860fb">NS_LOG_INFO</a> (<span class="stringliteral">&quot;Distance change:&quot;</span> &lt;&lt; deltaX &lt;&lt; <span class="stringliteral">&quot; Speed:&quot;</span> &lt;&lt; <a class="code" href="classns3_1_1_three_gpp_channel_model.html#a4f27160ce3a173bbe338d3fd5fc508b3">m_blockerSpeed</a></div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;                                          &lt;&lt; <span class="stringliteral">&quot; Time difference:&quot;</span> &lt;&lt; <a class="code" href="group__simulator.html#gac3635e2e87f7ce316c89290ee1b01d0d">Now</a> ().GetSeconds () - <a class="code" href="namespacealoha.html#aff1381c591fdaf9d3af2b19080c9eed7">params</a>-&gt;m_generatedTime.GetSeconds ()</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;                                          &lt;&lt; <span class="stringliteral">&quot; correlation:&quot;</span> &lt;&lt; R);</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160; </div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;          <span class="comment">//In order to generate correlated uniform random variables, we first generate correlated normal random variables and map the normal RV to uniform RV.</span></div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;          <span class="comment">//Notice the correlation will change if the RV is transformed from normal to uniform.</span></div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;          <span class="comment">//To compensate the distortion, the correlation of the normal RV is computed</span></div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;          <span class="comment">//such that the uniform RV would have the desired correlation when transformed from normal RV.</span></div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160; </div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;          <span class="comment">//The following formula was obtained from MATLAB numerical simulation.</span></div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160; </div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;          <span class="keywordflow">if</span> (R * R * (-0.069) + R * 1.074 - 0.002 &lt; 1) <span class="comment">//transform only when the correlation of normal RV is smaller than 1</span></div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;            {</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;              R = R * R * (-0.069) + R * 1.074 - 0.002;</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;            }</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;          <span class="keywordflow">for</span> (uint16_t blockInd = 0; blockInd &lt; <a class="code" href="classns3_1_1_three_gpp_channel_model.html#a845ceb5ed6364ab4b6819341acfb5611">m_numNonSelfBlocking</a>; blockInd++)</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;            {</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160; </div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;              <span class="comment">//Generate a new correlated normal RV with the following formula</span></div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;              <a class="code" href="namespacealoha.html#aff1381c591fdaf9d3af2b19080c9eed7">params</a>-&gt;m_nonSelfBlocking[blockInd][<a class="code" href="classns3_1_1_three_gpp_channel_model.html#a98b52945695fa9fe590053bcd40dc4c5">PHI_INDEX</a>] =</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;                R * <a class="code" href="namespacealoha.html#aff1381c591fdaf9d3af2b19080c9eed7">params</a>-&gt;m_nonSelfBlocking[blockInd][<a class="code" href="classns3_1_1_three_gpp_channel_model.html#a98b52945695fa9fe590053bcd40dc4c5">PHI_INDEX</a>] + sqrt (1 - R * R) * <a class="code" href="classns3_1_1_three_gpp_channel_model.html#a1d52f8abe7b21a2503279ae794e0e696">m_normalRv</a>-&gt;GetValue ();</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;            }</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;        }</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160; </div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;    }</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160; </div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;  <span class="comment">//step c: Determine the attenuation of each blocker due to blockers</span></div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;  <span class="keywordflow">for</span> (uint8_t cInd = 0; cInd &lt; clusterNum; cInd++)</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;    {</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;      <a class="code" href="ipv4-address-generator_8cc.html#aaf5aa23b804d2e5e334106f207e8a6cc">NS_ASSERT_MSG</a> (clusterAOA[cInd] &gt;= 0 &amp;&amp; clusterAOA[cInd] &lt;= 360, <span class="stringliteral">&quot;the AOA should be the range of [0,360]&quot;</span>);</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;      <a class="code" href="ipv4-address-generator_8cc.html#aaf5aa23b804d2e5e334106f207e8a6cc">NS_ASSERT_MSG</a> (clusterZOA[cInd] &gt;= 0 &amp;&amp; clusterZOA[cInd] &lt;= 180, <span class="stringliteral">&quot;the ZOA should be the range of [0,180]&quot;</span>);</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160; </div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;      <span class="comment">//check self blocking</span></div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;      <a class="code" href="group__logging.html#gafbd73ee2cf9f26b319f49086d8e860fb">NS_LOG_INFO</a> (<span class="stringliteral">&quot;AOA=&quot;</span> &lt;&lt; clusterAOA[cInd] &lt;&lt; <span class="stringliteral">&quot; Block Region[&quot;</span> &lt;&lt; phi_sb - x_sb / 2 &lt;&lt; <span class="stringliteral">&quot;,&quot;</span> &lt;&lt; phi_sb + x_sb / 2 &lt;&lt; <span class="stringliteral">&quot;]&quot;</span>);</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;      <a class="code" href="group__logging.html#gafbd73ee2cf9f26b319f49086d8e860fb">NS_LOG_INFO</a> (<span class="stringliteral">&quot;ZOA=&quot;</span> &lt;&lt; clusterZOA[cInd] &lt;&lt; <span class="stringliteral">&quot; Block Region[&quot;</span> &lt;&lt; theta_sb - y_sb / 2 &lt;&lt; <span class="stringliteral">&quot;,&quot;</span> &lt;&lt; theta_sb + y_sb / 2 &lt;&lt; <span class="stringliteral">&quot;]&quot;</span>);</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;      <span class="keywordflow">if</span> ( std::abs (clusterAOA[cInd] - phi_sb) &lt; (x_sb / 2) &amp;&amp; std::abs (clusterZOA[cInd] - theta_sb) &lt; (y_sb / 2))</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;        {</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;          powerAttenuation[cInd] += 30;               <span class="comment">//anttenuate by 30 dB.</span></div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;          <a class="code" href="group__logging.html#gafbd73ee2cf9f26b319f49086d8e860fb">NS_LOG_INFO</a> (<span class="stringliteral">&quot;Cluster[&quot;</span> &lt;&lt; (<span class="keywordtype">int</span>)cInd &lt;&lt; <span class="stringliteral">&quot;] is blocked by self blocking region and reduce 30 dB power,&quot;</span></div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;                       <span class="stringliteral">&quot;the attenuation is [&quot;</span> &lt;&lt; powerAttenuation[cInd] &lt;&lt; <span class="stringliteral">&quot; dB]&quot;</span>);</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;        }</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160; </div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;      <span class="comment">//check non-self blocking</span></div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;      <span class="keywordtype">double</span> phiK, xK, thetaK, yK;</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;      <span class="keywordflow">for</span> (uint16_t blockInd = 0; blockInd &lt; <a class="code" href="classns3_1_1_three_gpp_channel_model.html#a845ceb5ed6364ab4b6819341acfb5611">m_numNonSelfBlocking</a>; blockInd++)</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;        {</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;          <span class="comment">//The normal RV is transformed to uniform RV with the desired correlation.</span></div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;          phiK = (0.5 * erfc (-1 * <a class="code" href="namespacealoha.html#aff1381c591fdaf9d3af2b19080c9eed7">params</a>-&gt;m_nonSelfBlocking[blockInd][<a class="code" href="classns3_1_1_three_gpp_channel_model.html#a98b52945695fa9fe590053bcd40dc4c5">PHI_INDEX</a>] / sqrt (2))) * 360;</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;          <span class="keywordflow">while</span> (phiK &gt; 360)</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;            {</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;              phiK -= 360;</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;            }</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160; </div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;          <span class="keywordflow">while</span> (phiK &lt; 0)</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;            {</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;              phiK += 360;</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;            }</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160; </div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;          xK = <a class="code" href="namespacealoha.html#aff1381c591fdaf9d3af2b19080c9eed7">params</a>-&gt;m_nonSelfBlocking[blockInd][<a class="code" href="classns3_1_1_three_gpp_channel_model.html#af5cf8190cec53cf057bec026b5347d84">X_INDEX</a>];</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;          thetaK = <a class="code" href="namespacealoha.html#aff1381c591fdaf9d3af2b19080c9eed7">params</a>-&gt;m_nonSelfBlocking[blockInd][<a class="code" href="classns3_1_1_three_gpp_channel_model.html#a45e31b58ccb5fbe179739e13938ba6d9">THETA_INDEX</a>];</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;          yK = <a class="code" href="namespacealoha.html#aff1381c591fdaf9d3af2b19080c9eed7">params</a>-&gt;m_nonSelfBlocking[blockInd][<a class="code" href="classns3_1_1_three_gpp_channel_model.html#a27a01a23be65ad030cbb041c2d221487">Y_INDEX</a>];</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;          <a class="code" href="group__logging.html#gafbd73ee2cf9f26b319f49086d8e860fb">NS_LOG_INFO</a> (<span class="stringliteral">&quot;AOA=&quot;</span> &lt;&lt; clusterAOA[cInd] &lt;&lt; <span class="stringliteral">&quot; Block Region[&quot;</span> &lt;&lt; phiK - xK &lt;&lt; <span class="stringliteral">&quot;,&quot;</span> &lt;&lt; phiK + xK &lt;&lt; <span class="stringliteral">&quot;]&quot;</span>);</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;          <a class="code" href="group__logging.html#gafbd73ee2cf9f26b319f49086d8e860fb">NS_LOG_INFO</a> (<span class="stringliteral">&quot;ZOA=&quot;</span> &lt;&lt; clusterZOA[cInd] &lt;&lt; <span class="stringliteral">&quot; Block Region[&quot;</span> &lt;&lt; thetaK - yK &lt;&lt; <span class="stringliteral">&quot;,&quot;</span> &lt;&lt; thetaK + yK &lt;&lt; <span class="stringliteral">&quot;]&quot;</span>);</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160; </div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;          <span class="keywordflow">if</span> ( std::abs (clusterAOA[cInd] - phiK) &lt; (xK)</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;               &amp;&amp; std::abs (clusterZOA[cInd] - thetaK) &lt; (yK))</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;            {</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;              <span class="keywordtype">double</span> A1 = clusterAOA[cInd] - (phiK + xK / 2); <span class="comment">//(7.6-24)</span></div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;              <span class="keywordtype">double</span> A2 = clusterAOA[cInd] - (phiK - xK / 2); <span class="comment">//(7.6-25)</span></div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;              <span class="keywordtype">double</span> Z1 = clusterZOA[cInd] - (thetaK + yK / 2); <span class="comment">//(7.6-26)</span></div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;              <span class="keywordtype">double</span> Z2 = clusterZOA[cInd] - (thetaK - yK / 2); <span class="comment">//(7.6-27)</span></div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;              <span class="keywordtype">int</span> signA1, signA2, signZ1, signZ2;</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;              <span class="comment">//draw sign for the above parameters according to table 7.6.4.1-3 Description of signs</span></div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;              <span class="keywordflow">if</span> (xK / 2 &lt; clusterAOA[cInd] - phiK &amp;&amp; clusterAOA[cInd] - phiK &lt;= xK)</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;                {</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;                  signA1 = -1;</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;                }</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;              <span class="keywordflow">else</span></div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;                {</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;                  signA1 = 1;</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;                }</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;              <span class="keywordflow">if</span> (-1 * xK &lt; clusterAOA[cInd] - phiK &amp;&amp; clusterAOA[cInd] - phiK &lt;= -1 * xK / 2)</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;                {</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;                  signA2 = -1;</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;                }</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;              <span class="keywordflow">else</span></div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;                {</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;                  signA2 = 1;</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;                }</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160; </div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;              <span class="keywordflow">if</span> (yK / 2 &lt; clusterZOA[cInd] - thetaK &amp;&amp; clusterZOA[cInd] - thetaK &lt;= yK)</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;                {</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;                  signZ1 = -1;</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;                }</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;              <span class="keywordflow">else</span></div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;                {</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;                  signZ1 = 1;</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;                }</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;              <span class="keywordflow">if</span> (-1 * yK &lt; clusterZOA[cInd] - thetaK &amp;&amp; clusterZOA[cInd] - thetaK &lt;= -1 * yK / 2)</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;                {</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;                  signZ2 = -1;</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;                }</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;              <span class="keywordflow">else</span></div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;                {</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;                  signZ2 = 1;</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;                }</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;              <span class="keywordtype">double</span> lambda = 3e8 / <a class="code" href="classns3_1_1_three_gpp_channel_model.html#a9ed0314cea99395b9ffb3bc7118a9102">m_frequency</a>;</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;              <span class="keywordtype">double</span> F_A1 = atan (signA1 * M_PI / 2 * sqrt (M_PI / lambda *</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;                                                            <a class="code" href="namespacealoha.html#aff1381c591fdaf9d3af2b19080c9eed7">params</a>-&gt;m_nonSelfBlocking[blockInd][<a class="code" href="classns3_1_1_three_gpp_channel_model.html#abe4bd9b0cafdf4377f4855793756d485">R_INDEX</a>] * (1 / cos (A1 * M_PI / 180) - 1))) / M_PI; <span class="comment">//(7.6-23)</span></div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;              <span class="keywordtype">double</span> F_A2 = atan (signA2 * M_PI / 2 * sqrt (M_PI / lambda *</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;                                                            <a class="code" href="namespacealoha.html#aff1381c591fdaf9d3af2b19080c9eed7">params</a>-&gt;m_nonSelfBlocking[blockInd][<a class="code" href="classns3_1_1_three_gpp_channel_model.html#abe4bd9b0cafdf4377f4855793756d485">R_INDEX</a>] * (1 / cos (A2 * M_PI / 180) - 1))) / M_PI;</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;              <span class="keywordtype">double</span> F_Z1 = atan (signZ1 * M_PI / 2 * sqrt (M_PI / lambda *</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;                                                            <a class="code" href="namespacealoha.html#aff1381c591fdaf9d3af2b19080c9eed7">params</a>-&gt;m_nonSelfBlocking[blockInd][<a class="code" href="classns3_1_1_three_gpp_channel_model.html#abe4bd9b0cafdf4377f4855793756d485">R_INDEX</a>] * (1 / cos (Z1 * M_PI / 180) - 1))) / M_PI;</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;              <span class="keywordtype">double</span> F_Z2 = atan (signZ2 * M_PI / 2 * sqrt (M_PI / lambda *</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;                                                            <a class="code" href="namespacealoha.html#aff1381c591fdaf9d3af2b19080c9eed7">params</a>-&gt;m_nonSelfBlocking[blockInd][<a class="code" href="classns3_1_1_three_gpp_channel_model.html#abe4bd9b0cafdf4377f4855793756d485">R_INDEX</a>] * (1 / cos (Z2 * M_PI / 180) - 1))) / M_PI;</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;              <span class="keywordtype">double</span> L_dB = -20 * log10 (1 - (F_A1 + F_A2) * (F_Z1 + F_Z2));                  <span class="comment">//(7.6-22)</span></div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;              powerAttenuation[cInd] += L_dB;</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;              <a class="code" href="group__logging.html#gafbd73ee2cf9f26b319f49086d8e860fb">NS_LOG_INFO</a> (<span class="stringliteral">&quot;Cluster[&quot;</span> &lt;&lt; (<span class="keywordtype">int</span>)cInd &lt;&lt; <span class="stringliteral">&quot;] is blocked by no-self blocking, &quot;</span></div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;                           <span class="stringliteral">&quot;the loss is [&quot;</span> &lt;&lt; L_dB &lt;&lt; <span class="stringliteral">&quot;]&quot;</span> &lt;&lt; <span class="stringliteral">&quot; dB&quot;</span>);</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160; </div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;            }</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;        }</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;    }</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;  <span class="keywordflow">return</span> powerAttenuation;</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;}</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160; </div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;int64_t</div>
<div class="line"><a name="l01801"></a><span class="lineno"><a class="line" href="classns3_1_1_three_gpp_channel_model.html#a0201b5d8293ce8027b4093035023b1c3"> 1801</a></span>&#160;<a class="code" href="classns3_1_1_three_gpp_channel_model.html#a0201b5d8293ce8027b4093035023b1c3">ThreeGppChannelModel::AssignStreams</a> (int64_t stream)</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;{</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;  <a class="code" href="group__logging.html#ga90b90d5bad1f39cb1b64923ea94c0761">NS_LOG_FUNCTION</a> (<span class="keyword">this</span> &lt;&lt; stream);</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;  <a class="code" href="classns3_1_1_three_gpp_channel_model.html#a1d52f8abe7b21a2503279ae794e0e696">m_normalRv</a>-&gt;SetStream (stream);</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;  <a class="code" href="classns3_1_1_three_gpp_channel_model.html#a6f1967266792799ef6fa01181d4ae6b3">m_uniformRv</a>-&gt;<a class="code" href="classns3_1_1_random_variable_stream.html#add11aaf975607746b7e271d300659a94">SetStream</a> (stream + 1);</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;  <span class="keywordflow">return</span> 2;</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;}</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160; </div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;}  <span class="comment">// namespace ns3</span></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="anamespacens3_html_a39c2b4fa4d7bd533a6b2ecfa96b848ee"><div class="ttname"><a href="namespacens3.html#a39c2b4fa4d7bd533a6b2ecfa96b848ee">ns3::sqrtC_office_LOS</a></div><div class="ttdeci">static const double sqrtC_office_LOS[7][7]</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8cc_source.html#l00144">three-gpp-channel-model.cc:144</a></div></div>
<div class="ttc" id="astructns3_1_1_three_gpp_channel_model_1_1_params_table_html_a56bedb77bc11075a3ad220fb837fafa3"><div class="ttname"><a href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a56bedb77bc11075a3ad220fb837fafa3">ns3::ThreeGppChannelModel::ParamsTable::m_rTau</a></div><div class="ttdeci">double m_rTau</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8h_source.html#l00234">three-gpp-channel-model.h:234</a></div></div>
<div class="ttc" id="aclassns3_1_1_type_id_html"><div class="ttname"><a href="classns3_1_1_type_id.html">ns3::TypeId</a></div><div class="ttdoc">a unique identifier for an interface.</div><div class="ttdef"><b>Definition:</b> <a href="type-id_8h_source.html#l00058">type-id.h:59</a></div></div>
<div class="ttc" id="agroup__logging_html_ga225a95395fa117b7309aa3c43518d02e"><div class="ttname"><a href="group__logging.html#ga225a95395fa117b7309aa3c43518d02e">NS_LOG_COMPONENT_DEFINE</a></div><div class="ttdeci">#define NS_LOG_COMPONENT_DEFINE(name)</div><div class="ttdoc">Define a Log component with a specific name.</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00206">log.h:205</a></div></div>
<div class="ttc" id="anamespacens3_html_a94d0f9da9e007c8579b09abe4c003e51"><div class="ttname"><a href="namespacens3.html#a94d0f9da9e007c8579b09abe4c003e51">ns3::sqrtC_RMa_LOS</a></div><div class="ttdeci">static const double sqrtC_RMa_LOS[7][7]</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8cc_source.html#l00058">three-gpp-channel-model.cc:58</a></div></div>
<div class="ttc" id="astructns3_1_1_three_gpp_channel_model_1_1_params_table_html_a494ba2e2b37d6830e7ef46cc3555d79e"><div class="ttname"><a href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a494ba2e2b37d6830e7ef46cc3555d79e">ns3::ThreeGppChannelModel::ParamsTable::m_cASA</a></div><div class="ttdeci">double m_cASA</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8h_source.html#l00230">three-gpp-channel-model.h:230</a></div></div>
<div class="ttc" id="aclassns3_1_1_three_gpp_channel_model_html_ac9da49909816452a3f8025d3bc3d0447"><div class="ttname"><a href="classns3_1_1_three_gpp_channel_model.html#ac9da49909816452a3f8025d3bc3d0447">ns3::ThreeGppChannelModel::GetTypeId</a></div><div class="ttdeci">static TypeId GetTypeId()</div><div class="ttdoc">Get the type ID.</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8cc_source.html#l00179">three-gpp-channel-model.cc:179</a></div></div>
<div class="ttc" id="aclassns3_1_1_three_gpp_channel_model_html_ab22740460af3d47432f757d0fa373440"><div class="ttname"><a href="classns3_1_1_three_gpp_channel_model.html#ab22740460af3d47432f757d0fa373440">ns3::ThreeGppChannelModel::GetChannelConditionModel</a></div><div class="ttdeci">Ptr&lt; ChannelConditionModel &gt; GetChannelConditionModel() const</div><div class="ttdoc">Get the associated channel condition model.</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8cc_source.html#l00241">three-gpp-channel-model.cc:241</a></div></div>
<div class="ttc" id="astructns3_1_1_three_gpp_channel_model_1_1_params_table_html_ad18775877d503ae8780ee82cd7a7c03c"><div class="ttname"><a href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#ad18775877d503ae8780ee82cd7a7c03c">ns3::ThreeGppChannelModel::ParamsTable::m_sigLgZSA</a></div><div class="ttdeci">double m_sigLgZSA</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8h_source.html#l00224">three-gpp-channel-model.h:224</a></div></div>
<div class="ttc" id="aclassns3_1_1_three_gpp_channel_model_html_a3befdd6e5c6a800a4dbf9ea033eb0aa2"><div class="ttname"><a href="classns3_1_1_three_gpp_channel_model.html#a3befdd6e5c6a800a4dbf9ea033eb0aa2">ns3::ThreeGppChannelModel::~ThreeGppChannelModel</a></div><div class="ttdeci">~ThreeGppChannelModel()</div><div class="ttdoc">Destructor.</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8cc_source.html#l00173">three-gpp-channel-model.cc:173</a></div></div>
<div class="ttc" id="astructns3_1_1_three_gpp_channel_model_1_1_params_table_html_a79af9861ec4a042359c533f926e0f69f"><div class="ttname"><a href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a79af9861ec4a042359c533f926e0f69f">ns3::ThreeGppChannelModel::ParamsTable::m_sigLgASD</a></div><div class="ttdeci">double m_sigLgASD</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8h_source.html#l00220">three-gpp-channel-model.h:220</a></div></div>
<div class="ttc" id="agroup__object_html_gada1b0bfc04abdba718621b5095c87678"><div class="ttname"><a href="group__object.html#gada1b0bfc04abdba718621b5095c87678">NS_OBJECT_ENSURE_REGISTERED</a></div><div class="ttdeci">#define NS_OBJECT_ENSURE_REGISTERED(type)</div><div class="ttdoc">Register an Object subclass with the TypeId system.</div><div class="ttdef"><b>Definition:</b> <a href="object-base_8h_source.html#l00046">object-base.h:45</a></div></div>
<div class="ttc" id="astructns3_1_1_three_gpp_channel_model_1_1_params_table_html_a7bc4cfade671c55c259b2a60348a7aed"><div class="ttname"><a href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a7bc4cfade671c55c259b2a60348a7aed">ns3::ThreeGppChannelModel::ParamsTable::m_offsetZOD</a></div><div class="ttdeci">double m_offsetZOD</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8h_source.html#l00227">three-gpp-channel-model.h:227</a></div></div>
<div class="ttc" id="anamespacens3_html_a14613e89827b8d95bcfcbe23a763d4b6"><div class="ttname"><a href="namespacens3.html#a14613e89827b8d95bcfcbe23a763d4b6">ns3::MakeTimeAccessor</a></div><div class="ttdeci">Ptr&lt; const AttributeAccessor &gt; MakeTimeAccessor(T1 a1)</div><div class="ttdef"><b>Definition:</b> <a href="nstime_8h_source.html#l01133">nstime.h:1133</a></div></div>
<div class="ttc" id="anamespacealoha_html_aff1381c591fdaf9d3af2b19080c9eed7"><div class="ttname"><a href="namespacealoha.html#aff1381c591fdaf9d3af2b19080c9eed7">aloha.params</a></div><div class="ttdeci">dictionary params</div><div class="ttdef"><b>Definition:</b> <a href="aloha_8py_source.html#l00013">aloha.py:13</a></div></div>
<div class="ttc" id="anamespacens3_html_a7032965bd4afa578691d88c09e4481c1"><div class="ttname"><a href="namespacens3.html#a7032965bd4afa578691d88c09e4481c1">ns3::MakeTimeChecker</a></div><div class="ttdeci">Ptr&lt; const AttributeChecker &gt; MakeTimeChecker(const Time min, const Time max)</div><div class="ttdoc">Helper to make a Time checker with bounded range. Both limits are inclusive.</div><div class="ttdef"><b>Definition:</b> <a href="time_8cc_source.html#l00449">time.cc:449</a></div></div>
<div class="ttc" id="aclassns3_1_1_three_gpp_channel_model_html_adf0c57f09a37ee0e3d7875958f001f71"><div class="ttname"><a href="classns3_1_1_three_gpp_channel_model.html#adf0c57f09a37ee0e3d7875958f001f71">ns3::ThreeGppChannelModel::GetNewChannel</a></div><div class="ttdeci">Ptr&lt; ThreeGppChannelMatrix &gt; GetNewChannel(Vector locUT, bool los, bool o2i, Ptr&lt; const ThreeGppAntennaArrayModel &gt; sAntenna, Ptr&lt; const ThreeGppAntennaArrayModel &gt; uAntenna, Angles &amp;uAngle, Angles &amp;sAngle, double dis2D, double hBS, double hUT) const</div><div class="ttdoc">Compute the channel matrix between two devices using the procedure described in 3GPP TR 38....</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8cc_source.html#l00805">three-gpp-channel-model.cc:805</a></div></div>
<div class="ttc" id="aclassns3_1_1_boolean_value_html"><div class="ttname"><a href="classns3_1_1_boolean_value.html">ns3::BooleanValue</a></div><div class="ttdef"><b>Definition:</b> <a href="boolean_8h_source.html#l00036">boolean.h:37</a></div></div>
<div class="ttc" id="aclassns3_1_1_three_gpp_channel_model_html_ab968c2f70de05322e504a407f92ad898"><div class="ttname"><a href="classns3_1_1_three_gpp_channel_model.html#ab968c2f70de05322e504a407f92ad898">ns3::ThreeGppChannelModel::m_scenario</a></div><div class="ttdeci">std::string m_scenario</div><div class="ttdoc">the 3GPP scenario</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8h_source.html#l00296">three-gpp-channel-model.h:296</a></div></div>
<div class="ttc" id="a80211b_8c_html_ac6afabdc09a49a433ee19d8a9486056d"><div class="ttname"><a href="80211b_8c.html#ac6afabdc09a49a433ee19d8a9486056d">min</a></div><div class="ttdeci">#define min(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="80211b_8c_source.html#l00043">80211b.c:42</a></div></div>
<div class="ttc" id="astructns3_1_1_three_gpp_channel_model_1_1_three_gpp_channel_matrix_html_afaa5f590d0d637d814d6927100f61589"><div class="ttname"><a href="structns3_1_1_three_gpp_channel_model_1_1_three_gpp_channel_matrix.html#afaa5f590d0d637d814d6927100f61589">ns3::ThreeGppChannelModel::ThreeGppChannelMatrix::m_nodeIds</a></div><div class="ttdeci">std::pair&lt; uint32_t, uint32_t &gt; m_nodeIds</div><div class="ttdoc">the first element is the s-node ID, the second element is the u-node ID</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8h_source.html#l00083">three-gpp-channel-model.h:83</a></div></div>
<div class="ttc" id="aclassns3_1_1_node_html_a2ed8663077afcb8db519296b0ada6355"><div class="ttname"><a href="classns3_1_1_node.html#a2ed8663077afcb8db519296b0ada6355">ns3::Node::GetId</a></div><div class="ttdeci">uint32_t GetId(void) const</div><div class="ttdef"><b>Definition:</b> <a href="node_8cc_source.html#l00109">node.cc:109</a></div></div>
<div class="ttc" id="astructns3_1_1_three_gpp_channel_model_1_1_params_table_html_ae7c4787d86a984e4e032ca62f76edcee"><div class="ttname"><a href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#ae7c4787d86a984e4e032ca62f76edcee">ns3::ThreeGppChannelModel::ParamsTable::m_sigLgDS</a></div><div class="ttdeci">double m_sigLgDS</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8h_source.html#l00218">three-gpp-channel-model.h:218</a></div></div>
<div class="ttc" id="aclassns3_1_1_simulator_html_ac3178fa975b419f7875e7105be122800"><div class="ttname"><a href="classns3_1_1_simulator.html#ac3178fa975b419f7875e7105be122800">ns3::Simulator::Now</a></div><div class="ttdeci">static Time Now(void)</div><div class="ttdoc">Return the current simulation virtual time.</div><div class="ttdef"><b>Definition:</b> <a href="simulator_8cc_source.html#l00195">simulator.cc:195</a></div></div>
<div class="ttc" id="astructns3_1_1_three_gpp_channel_model_1_1_three_gpp_channel_matrix_html_a4785cc2ef2d98133092077c20078f7d8"><div class="ttname"><a href="structns3_1_1_three_gpp_channel_model_1_1_three_gpp_channel_matrix.html#a4785cc2ef2d98133092077c20078f7d8">ns3::ThreeGppChannelModel::ThreeGppChannelMatrix::m_channel</a></div><div class="ttdeci">Complex3DVector m_channel</div><div class="ttdoc">channel matrix H[u][s][n].</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8h_source.html#l00078">three-gpp-channel-model.h:78</a></div></div>
<div class="ttc" id="anamespacens3_html"><div class="ttname"><a href="namespacens3.html">ns3</a></div><div class="ttdoc">Every class exported by the ns3 library is enclosed in the ns3 namespace.</div></div>
<div class="ttc" id="astructns3_1_1_three_gpp_channel_model_1_1_params_table_html_aaf74f560ce44d6ad05f9697cd672078e"><div class="ttname"><a href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#aaf74f560ce44d6ad05f9697cd672078e">ns3::ThreeGppChannelModel::ParamsTable::m_cZSA</a></div><div class="ttdeci">double m_cZSA</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8h_source.html#l00231">three-gpp-channel-model.h:231</a></div></div>
<div class="ttc" id="aclassns3_1_1_integer_value_html"><div class="ttname"><a href="classns3_1_1_integer_value.html">ns3::IntegerValue</a></div><div class="ttdoc">Hold a signed integer type.</div><div class="ttdef"><b>Definition:</b> <a href="integer_8h_source.html#l00044">integer.h:44</a></div></div>
<div class="ttc" id="aclassns3_1_1_three_gpp_channel_model_html"><div class="ttname"><a href="classns3_1_1_three_gpp_channel_model.html">ns3::ThreeGppChannelModel</a></div><div class="ttdoc">Channel Matrix Generation following 3GPP TR 38.901.</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8h_source.html#l00048">three-gpp-channel-model.h:49</a></div></div>
<div class="ttc" id="astructns3_1_1_three_gpp_channel_model_1_1_params_table_html_ab42b225c13f41995ffcd3de27e14ad2f"><div class="ttname"><a href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#ab42b225c13f41995ffcd3de27e14ad2f">ns3::ThreeGppChannelModel::ParamsTable::m_numOfCluster</a></div><div class="ttdeci">uint8_t m_numOfCluster</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8h_source.html#l00215">three-gpp-channel-model.h:215</a></div></div>
<div class="ttc" id="aclassns3_1_1_node_html"><div class="ttname"><a href="classns3_1_1_node.html">ns3::Node</a></div><div class="ttdoc">A network Node.</div><div class="ttdef"><b>Definition:</b> <a href="node_8h_source.html#l00056">node.h:57</a></div></div>
<div class="ttc" id="astructns3_1_1_three_gpp_channel_model_1_1_params_table_html_a1da6dcc53d8d85a885eac2e1ad1ad72f"><div class="ttname"><a href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a1da6dcc53d8d85a885eac2e1ad1ad72f">ns3::ThreeGppChannelModel::ParamsTable::m_uLgZSD</a></div><div class="ttdeci">double m_uLgZSD</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8h_source.html#l00225">three-gpp-channel-model.h:225</a></div></div>
<div class="ttc" id="anamespacens3_html_adfb8610b210cb6f3f5ff954e709f120d"><div class="ttname"><a href="namespacens3.html#adfb8610b210cb6f3f5ff954e709f120d">ns3::MakeBooleanChecker</a></div><div class="ttdeci">Ptr&lt; const AttributeChecker &gt; MakeBooleanChecker(void)</div><div class="ttdef"><b>Definition:</b> <a href="boolean_8cc_source.html#l00121">boolean.cc:121</a></div></div>
<div class="ttc" id="aclassns3_1_1_three_gpp_channel_model_html_a75e53095ed616e79af3afbb145b34440"><div class="ttname"><a href="classns3_1_1_three_gpp_channel_model.html#a75e53095ed616e79af3afbb145b34440">ns3::ThreeGppChannelModel::SetScenario</a></div><div class="ttdeci">void SetScenario(const std::string &amp;scenario)</div><div class="ttdoc">Sets the propagation scenario.</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8cc_source.html#l00263">three-gpp-channel-model.cc:263</a></div></div>
<div class="ttc" id="astructns3_1_1_three_gpp_channel_model_1_1_three_gpp_channel_matrix_html_a3f270a5159a9f1cbedbb3f7724df652e"><div class="ttname"><a href="structns3_1_1_three_gpp_channel_model_1_1_three_gpp_channel_matrix.html#a3f270a5159a9f1cbedbb3f7724df652e">ns3::ThreeGppChannelModel::ThreeGppChannelMatrix::m_K</a></div><div class="ttdeci">double m_K</div><div class="ttdoc">K factor.</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8h_source.html#l00092">three-gpp-channel-model.h:92</a></div></div>
<div class="ttc" id="aclassns3_1_1_pointer_value_html"><div class="ttname"><a href="classns3_1_1_pointer_value.html">ns3::PointerValue</a></div><div class="ttdoc">Hold objects of type Ptr&lt;T&gt;.</div><div class="ttdef"><b>Definition:</b> <a href="pointer_8h_source.html#l00036">pointer.h:37</a></div></div>
<div class="ttc" id="astructns3_1_1_three_gpp_channel_model_1_1_params_table_html_a4150c63be2ae575ed3fdfe688ff82e9d"><div class="ttname"><a href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a4150c63be2ae575ed3fdfe688ff82e9d">ns3::ThreeGppChannelModel::ParamsTable::m_uK</a></div><div class="ttdeci">double m_uK</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8h_source.html#l00232">three-gpp-channel-model.h:232</a></div></div>
<div class="ttc" id="anamespacens3_html_ac79a159d07651583d79482e4429cf74a"><div class="ttname"><a href="namespacens3.html#ac79a159d07651583d79482e4429cf74a">ns3::sqrtC_UMi_O2I</a></div><div class="ttdeci">static const double sqrtC_UMi_O2I[6][6]</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8cc_source.html#l00135">three-gpp-channel-model.cc:135</a></div></div>
<div class="ttc" id="aclassns3_1_1_three_gpp_channel_model_html_a98b52945695fa9fe590053bcd40dc4c5"><div class="ttname"><a href="classns3_1_1_three_gpp_channel_model.html#a98b52945695fa9fe590053bcd40dc4c5">ns3::ThreeGppChannelModel::PHI_INDEX</a></div><div class="ttdeci">static const uint8_t PHI_INDEX</div><div class="ttdoc">index of the PHI value in the m_nonSelfBlocking array</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8h_source.html#l00191">three-gpp-channel-model.h:191</a></div></div>
<div class="ttc" id="astructns3_1_1_three_gpp_channel_model_1_1_three_gpp_channel_matrix_html_a80ba03edf0394e3f27c0c9b8de517ea8"><div class="ttname"><a href="structns3_1_1_three_gpp_channel_model_1_1_three_gpp_channel_matrix.html#a80ba03edf0394e3f27c0c9b8de517ea8">ns3::ThreeGppChannelModel::ThreeGppChannelMatrix::m_generatedTime</a></div><div class="ttdeci">Time m_generatedTime</div><div class="ttdoc">generation time</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8h_source.html#l00082">three-gpp-channel-model.h:82</a></div></div>
<div class="ttc" id="aclassns3_1_1_three_gpp_channel_model_html_a2bed3dad6a8b235b32bccdfb2885cbf2"><div class="ttname"><a href="classns3_1_1_three_gpp_channel_model.html#a2bed3dad6a8b235b32bccdfb2885cbf2">ns3::ThreeGppChannelModel::m_blockage</a></div><div class="ttdeci">bool m_blockage</div><div class="ttdoc">enables the blockage model A</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8h_source.html#l00302">three-gpp-channel-model.h:302</a></div></div>
<div class="ttc" id="aclassns3_1_1_three_gpp_channel_model_html_af5cf8190cec53cf057bec026b5347d84"><div class="ttname"><a href="classns3_1_1_three_gpp_channel_model.html#af5cf8190cec53cf057bec026b5347d84">ns3::ThreeGppChannelModel::X_INDEX</a></div><div class="ttdeci">static const uint8_t X_INDEX</div><div class="ttdoc">index of the X value in the m_nonSelfBlocking array</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8h_source.html#l00192">three-gpp-channel-model.h:192</a></div></div>
<div class="ttc" id="aclassns3_1_1_three_gpp_channel_model_html_a0a5207845a3dafa29315f1e13ec4d20f"><div class="ttname"><a href="classns3_1_1_three_gpp_channel_model.html#a0a5207845a3dafa29315f1e13ec4d20f">ns3::ThreeGppChannelModel::m_portraitMode</a></div><div class="ttdeci">bool m_portraitMode</div><div class="ttdoc">true if potrait mode, false if landscape</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8h_source.html#l00304">three-gpp-channel-model.h:304</a></div></div>
<div class="ttc" id="aclassns3_1_1_three_gpp_channel_model_html_af9c3d065522914808816bbdc61f7f263"><div class="ttname"><a href="classns3_1_1_three_gpp_channel_model.html#af9c3d065522914808816bbdc61f7f263">ns3::ThreeGppChannelModel::Complex3DVector</a></div><div class="ttdeci">std::vector&lt; Complex2DVector &gt; Complex3DVector</div><div class="ttdoc">type definition for complex 3D matrices</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8h_source.html#l00071">three-gpp-channel-model.h:71</a></div></div>
<div class="ttc" id="aclassns3_1_1_three_gpp_channel_model_html_a9ed0314cea99395b9ffb3bc7118a9102"><div class="ttname"><a href="classns3_1_1_three_gpp_channel_model.html#a9ed0314cea99395b9ffb3bc7118a9102">ns3::ThreeGppChannelModel::m_frequency</a></div><div class="ttdeci">double m_frequency</div><div class="ttdoc">the operating frequency</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8h_source.html#l00295">three-gpp-channel-model.h:295</a></div></div>
<div class="ttc" id="astructns3_1_1_three_gpp_channel_model_1_1_params_table_html_a223177af5618a3f08e142f69ca09ba56"><div class="ttname"><a href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a223177af5618a3f08e142f69ca09ba56">ns3::ThreeGppChannelModel::ParamsTable::m_uLgASA</a></div><div class="ttdeci">double m_uLgASA</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8h_source.html#l00221">three-gpp-channel-model.h:221</a></div></div>
<div class="ttc" id="astructns3_1_1_three_gpp_channel_model_1_1_three_gpp_channel_matrix_html_a68ea8c42b4e13b4767747f347662c138"><div class="ttname"><a href="structns3_1_1_three_gpp_channel_model_1_1_three_gpp_channel_matrix.html#a68ea8c42b4e13b4767747f347662c138">ns3::ThreeGppChannelModel::ThreeGppChannelMatrix::m_numCluster</a></div><div class="ttdeci">uint8_t m_numCluster</div><div class="ttdoc">reduced cluster number;</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8h_source.html#l00093">three-gpp-channel-model.h:93</a></div></div>
<div class="ttc" id="aclassns3_1_1_three_gpp_channel_model_html_a816db845c97b53e5bb5dcfaa230c4b9a"><div class="ttname"><a href="classns3_1_1_three_gpp_channel_model.html#a816db845c97b53e5bb5dcfaa230c4b9a">ns3::ThreeGppChannelModel::SetChannelConditionModel</a></div><div class="ttdeci">void SetChannelConditionModel(Ptr&lt; ChannelConditionModel &gt; model)</div><div class="ttdoc">Set the channel condition model.</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8cc_source.html#l00234">three-gpp-channel-model.cc:234</a></div></div>
<div class="ttc" id="aclassns3_1_1_type_id_html_abaaca67ab7d2471067e7c275df0f7309"><div class="ttname"><a href="classns3_1_1_type_id.html#abaaca67ab7d2471067e7c275df0f7309">ns3::TypeId::SetParent</a></div><div class="ttdeci">TypeId SetParent(TypeId tid)</div><div class="ttdoc">Set the parent TypeId.</div><div class="ttdef"><b>Definition:</b> <a href="type-id_8cc_source.html#l00923">type-id.cc:923</a></div></div>
<div class="ttc" id="anamespacens3_html_a9698b9d45b5b800d0a691a458a8a1bcf"><div class="ttname"><a href="namespacens3.html#a9698b9d45b5b800d0a691a458a8a1bcf">ns3::MakeDoubleAccessor</a></div><div class="ttdeci">Ptr&lt; const AttributeAccessor &gt; MakeDoubleAccessor(T1 a1)</div><div class="ttdef"><b>Definition:</b> <a href="double_8h_source.html#l00042">double.h:42</a></div></div>
<div class="ttc" id="aclassns3_1_1_double_value_html"><div class="ttname"><a href="classns3_1_1_double_value.html">ns3::DoubleValue</a></div><div class="ttdoc">This class can be used to hold variables of floating point type such as 'double' or 'float'.</div><div class="ttdef"><b>Definition:</b> <a href="double_8h_source.html#l00041">double.h:41</a></div></div>
<div class="ttc" id="astructns3_1_1_three_gpp_channel_model_1_1_params_table_html_a593464ecd10da87588dfd4509045debb"><div class="ttname"><a href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a593464ecd10da87588dfd4509045debb">ns3::ThreeGppChannelModel::ParamsTable::m_raysPerCluster</a></div><div class="ttdeci">uint8_t m_raysPerCluster</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8h_source.html#l00216">three-gpp-channel-model.h:216</a></div></div>
<div class="ttc" id="astructns3_1_1_three_gpp_channel_model_1_1_params_table_html_a997e35b46920178711f78d7315425bfe"><div class="ttname"><a href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a997e35b46920178711f78d7315425bfe">ns3::ThreeGppChannelModel::ParamsTable::m_sigLgASA</a></div><div class="ttdeci">double m_sigLgASA</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8h_source.html#l00222">three-gpp-channel-model.h:222</a></div></div>
<div class="ttc" id="anamespacens3_html_a6f06e6813ea09282bd2323f4499220b5"><div class="ttname"><a href="namespacens3.html#a6f06e6813ea09282bd2323f4499220b5">ns3::sqrtC_UMa_LOS</a></div><div class="ttdeci">static const double sqrtC_UMa_LOS[7][7]</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8cc_source.html#l00086">three-gpp-channel-model.cc:86</a></div></div>
<div class="ttc" id="anamespacens3_html_aaad5cc5702ff29a1fcc8cdffd10a12e9"><div class="ttname"><a href="namespacens3.html#aaad5cc5702ff29a1fcc8cdffd10a12e9">ns3::if</a></div><div class="ttdeci">if(desigRtr==addrLocal)</div><div class="ttdef"><b>Definition:</b> <a href="global-router-interface_8cc_source.html#l00855">global-router-interface.cc:855</a></div></div>
<div class="ttc" id="anamespacens3_html_a6fd885aaf93f9727bfb2331d67dffec7"><div class="ttname"><a href="namespacens3.html#a6fd885aaf93f9727bfb2331d67dffec7">ns3::sqrtC_UMi_NLOS</a></div><div class="ttdeci">static const double sqrtC_UMi_NLOS[6][6]</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8cc_source.html#l00126">three-gpp-channel-model.cc:126</a></div></div>
<div class="ttc" id="astructns3_1_1_three_gpp_channel_model_1_1_three_gpp_channel_matrix_html_a55ee1c811ca6676566f94afec212f9ba"><div class="ttname"><a href="structns3_1_1_three_gpp_channel_model_1_1_three_gpp_channel_matrix.html#a55ee1c811ca6676566f94afec212f9ba">ns3::ThreeGppChannelModel::ThreeGppChannelMatrix::m_los</a></div><div class="ttdeci">bool m_los</div><div class="ttdoc">true if LOS, false if NLOS</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8h_source.html#l00084">three-gpp-channel-model.h:84</a></div></div>
<div class="ttc" id="aclassns3_1_1_ptr_html"><div class="ttname"><a href="classns3_1_1_ptr.html">ns3::Ptr</a></div><div class="ttdoc">Smart pointer class similar to boost::intrusive_ptr.</div><div class="ttdef"><b>Definition:</b> <a href="ptr_8h_source.html#l00073">ptr.h:74</a></div></div>
<div class="ttc" id="agroup__fatal_html_ga5131d5e3f75d7d4cbfd706ac456fdc85"><div class="ttname"><a href="group__fatal.html#ga5131d5e3f75d7d4cbfd706ac456fdc85">NS_FATAL_ERROR</a></div><div class="ttdeci">#define NS_FATAL_ERROR(msg)</div><div class="ttdoc">Report a fatal error with a message and terminate.</div><div class="ttdef"><b>Definition:</b> <a href="fatal-error_8h_source.html#l00163">fatal-error.h:162</a></div></div>
<div class="ttc" id="astructns3_1_1_three_gpp_channel_model_1_1_three_gpp_channel_matrix_html_aa466f3ab5f2db9446831272bc338f054"><div class="ttname"><a href="structns3_1_1_three_gpp_channel_model_1_1_three_gpp_channel_matrix.html#aa466f3ab5f2db9446831272bc338f054">ns3::ThreeGppChannelModel::ThreeGppChannelMatrix::m_DS</a></div><div class="ttdeci">double m_DS</div><div class="ttdoc">delay spread</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8h_source.html#l00091">three-gpp-channel-model.h:91</a></div></div>
<div class="ttc" id="astructns3_1_1_three_gpp_channel_model_1_1_three_gpp_channel_matrix_html_a4d529eb94098cd397d0d4538f13ee0d2"><div class="ttname"><a href="structns3_1_1_three_gpp_channel_model_1_1_three_gpp_channel_matrix.html#a4d529eb94098cd397d0d4538f13ee0d2">ns3::ThreeGppChannelModel::ThreeGppChannelMatrix::m_clusterPhase</a></div><div class="ttdeci">Double3DVector m_clusterPhase</div><div class="ttdoc">the initial random phases</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8h_source.html#l00094">three-gpp-channel-model.h:94</a></div></div>
<div class="ttc" id="anamespacens3_html_a66840605409c3caeff0d2a728b68dc6d"><div class="ttname"><a href="namespacens3.html#a66840605409c3caeff0d2a728b68dc6d">ns3::min</a></div><div class="ttdeci">double min(double x, double y)</div><div class="ttdef"><b>Definition:</b> <a href="cobalt-queue-disc_8cc_source.html#l00117">cobalt-queue-disc.cc:117</a></div></div>
<div class="ttc" id="agroup__simulator_html_gac3635e2e87f7ce316c89290ee1b01d0d"><div class="ttname"><a href="group__simulator.html#gac3635e2e87f7ce316c89290ee1b01d0d">ns3::Now</a></div><div class="ttdeci">Time Now(void)</div><div class="ttdoc">create an ns3::Time instance which contains the current simulation time.</div><div class="ttdef"><b>Definition:</b> <a href="simulator_8cc_source.html#l00311">simulator.cc:311</a></div></div>
<div class="ttc" id="a80211b_8c_html_affe776513b24d84b39af8ab0930fef7f"><div class="ttname"><a href="80211b_8c.html#affe776513b24d84b39af8ab0930fef7f">max</a></div><div class="ttdeci">#define max(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="80211b_8c_source.html#l00044">80211b.c:43</a></div></div>
<div class="ttc" id="astructns3_1_1_three_gpp_channel_model_1_1_params_table_html_a4172677edd5c4d3ac1331c0f2a62698e"><div class="ttname"><a href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a4172677edd5c4d3ac1331c0f2a62698e">ns3::ThreeGppChannelModel::ParamsTable::m_uLgASD</a></div><div class="ttdeci">double m_uLgASD</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8h_source.html#l00219">three-gpp-channel-model.h:219</a></div></div>
<div class="ttc" id="aclassns3_1_1_three_gpp_channel_model_html_ae9d397c03bd271c5e1eeadbbde73ad19"><div class="ttname"><a href="classns3_1_1_three_gpp_channel_model.html#ae9d397c03bd271c5e1eeadbbde73ad19">ns3::ThreeGppChannelModel::CalcAttenuationOfBlockage</a></div><div class="ttdeci">DoubleVector CalcAttenuationOfBlockage(Ptr&lt; ThreeGppChannelMatrix &gt; params, const DoubleVector &amp;clusterAOA, const DoubleVector &amp;clusterZOA) const</div><div class="ttdoc">Applies the blockage model A described in 3GPP TR 38.901.</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8cc_source.html#l01581">three-gpp-channel-model.cc:1581</a></div></div>
<div class="ttc" id="aclassns3_1_1_object_html"><div class="ttname"><a href="classns3_1_1_object.html">ns3::Object</a></div><div class="ttdoc">A base class which provides memory management and object aggregation.</div><div class="ttdef"><b>Definition:</b> <a href="object_8h_source.html#l00087">object.h:88</a></div></div>
<div class="ttc" id="aclassns3_1_1_time_html_ac4f1f3f3aeff82c1a7d96e0b0ae2220b"><div class="ttname"><a href="classns3_1_1_time.html#ac4f1f3f3aeff82c1a7d96e0b0ae2220b">ns3::Time::IsZero</a></div><div class="ttdeci">bool IsZero(void) const</div><div class="ttdef"><b>Definition:</b> <a href="nstime_8h_source.html#l00294">nstime.h:294</a></div></div>
<div class="ttc" id="astructns3_1_1_three_gpp_channel_model_1_1_three_gpp_channel_matrix_html_ae46b445a211aaf3ca40d24636ceabb65"><div class="ttname"><a href="structns3_1_1_three_gpp_channel_model_1_1_three_gpp_channel_matrix.html#ae46b445a211aaf3ca40d24636ceabb65">ns3::ThreeGppChannelModel::ThreeGppChannelMatrix::m_angle</a></div><div class="ttdeci">Double2DVector m_angle</div><div class="ttdoc">cluster angle angle[direction][n], where direction = 0(aoa), 1(zoa), 2(aod), 3(zod) in degree.</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8h_source.html#l00080">three-gpp-channel-model.h:80</a></div></div>
<div class="ttc" id="astructns3_1_1_three_gpp_channel_model_1_1_params_table_html_adac20a0adc245e3f6f91e5786df70823"><div class="ttname"><a href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#adac20a0adc245e3f6f91e5786df70823">ns3::ThreeGppChannelModel::ParamsTable::m_uXpr</a></div><div class="ttdeci">double m_uXpr</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8h_source.html#l00235">three-gpp-channel-model.h:235</a></div></div>
<div class="ttc" id="anamespacens3_html_a557ed8cc6b1baa941d09d73f76b513ad"><div class="ttname"><a href="namespacens3.html#a557ed8cc6b1baa941d09d73f76b513ad">ns3::MakeIntegerAccessor</a></div><div class="ttdeci">Ptr&lt; const AttributeAccessor &gt; MakeIntegerAccessor(T1 a1)</div><div class="ttdef"><b>Definition:</b> <a href="integer_8h_source.html#l00045">integer.h:45</a></div></div>
<div class="ttc" id="anamespacens3_html_acc73441dd0287914f581fca4a7b36f3c"><div class="ttname"><a href="namespacens3.html#acc73441dd0287914f581fca4a7b36f3c">ns3::sqrtC_office_NLOS</a></div><div class="ttdeci">static const double sqrtC_office_NLOS[6][6]</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8cc_source.html#l00154">three-gpp-channel-model.cc:154</a></div></div>
<div class="ttc" id="anamespacens3_html_a395865a96718adfbd81ec47aa442931d"><div class="ttname"><a href="namespacens3.html#a395865a96718adfbd81ec47aa442931d">ns3::MakePointerAccessor</a></div><div class="ttdeci">Ptr&lt; const AttributeAccessor &gt; MakePointerAccessor(T1 a1)</div><div class="ttdef"><b>Definition:</b> <a href="pointer_8h_source.html#l00229">pointer.h:229</a></div></div>
<div class="ttc" id="agroup__logging_html_gafbd73ee2cf9f26b319f49086d8e860fb"><div class="ttname"><a href="group__logging.html#gafbd73ee2cf9f26b319f49086d8e860fb">NS_LOG_INFO</a></div><div class="ttdeci">#define NS_LOG_INFO(msg)</div><div class="ttdoc">Use NS_LOG to output a message of level LOG_INFO.</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00282">log.h:281</a></div></div>
<div class="ttc" id="astructns3_1_1_three_gpp_channel_model_1_1_params_table_html_a7fdf9b839af774618f1267a00dc0fe0d"><div class="ttname"><a href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a7fdf9b839af774618f1267a00dc0fe0d">ns3::ThreeGppChannelModel::ParamsTable::m_uLgDS</a></div><div class="ttdeci">double m_uLgDS</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8h_source.html#l00217">three-gpp-channel-model.h:217</a></div></div>
<div class="ttc" id="anamespacens3_html_a39f2ef4de462777b91687b3f7f9d72f8"><div class="ttname"><a href="namespacens3.html#a39f2ef4de462777b91687b3f7f9d72f8">ns3::sqrtC_UMa_O2I</a></div><div class="ttdeci">static const double sqrtC_UMa_O2I[6][6]</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8cc_source.html#l00106">three-gpp-channel-model.cc:106</a></div></div>
<div class="ttc" id="aclassns3_1_1_three_gpp_channel_model_html_ab9cf45d796fd816ae49727680b45258b"><div class="ttname"><a href="classns3_1_1_three_gpp_channel_model.html#ab9cf45d796fd816ae49727680b45258b">ns3::ThreeGppChannelModel::GetScenario</a></div><div class="ttdeci">std::string GetScenario(void) const</div><div class="ttdoc">Returns the propagation scenario.</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8cc_source.html#l00273">three-gpp-channel-model.cc:273</a></div></div>
<div class="ttc" id="anamespacens3_html_ad5e4bf11a5acb312f0bc8a5326e39df2"><div class="ttname"><a href="namespacens3.html#ad5e4bf11a5acb312f0bc8a5326e39df2">ns3::sqrtC_UMa_NLOS</a></div><div class="ttdeci">static const double sqrtC_UMa_NLOS[6][6]</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8cc_source.html#l00097">three-gpp-channel-model.cc:97</a></div></div>
<div class="ttc" id="agroup__timecivil_html_gaf26127cf4571146b83a92ee18679c7a9"><div class="ttname"><a href="group__timecivil.html#gaf26127cf4571146b83a92ee18679c7a9">ns3::MilliSeconds</a></div><div class="ttdeci">Time MilliSeconds(uint64_t value)</div><div class="ttdef"><b>Definition:</b> <a href="nstime_8h_source.html#l01078">nstime.h:1078</a></div></div>
<div class="ttc" id="aclassns3_1_1_three_gpp_channel_model_html_a4f27160ce3a173bbe338d3fd5fc508b3"><div class="ttname"><a href="classns3_1_1_three_gpp_channel_model.html#a4f27160ce3a173bbe338d3fd5fc508b3">ns3::ThreeGppChannelModel::m_blockerSpeed</a></div><div class="ttdeci">double m_blockerSpeed</div><div class="ttdoc">the blocker speed</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8h_source.html#l00305">three-gpp-channel-model.h:305</a></div></div>
<div class="ttc" id="aclassns3_1_1_three_gpp_channel_model_html_ab02e9434ad4509ce856ee2e716c58723"><div class="ttname"><a href="classns3_1_1_three_gpp_channel_model.html#ab02e9434ad4509ce856ee2e716c58723">ns3::ThreeGppChannelModel::GetChannel</a></div><div class="ttdeci">Ptr&lt; const ThreeGppChannelMatrix &gt; GetChannel(Ptr&lt; const MobilityModel &gt; aMob, Ptr&lt; const MobilityModel &gt; bMob, Ptr&lt; const ThreeGppAntennaArrayModel &gt; aAntenna, Ptr&lt; const ThreeGppAntennaArrayModel &gt; bAntenna)</div><div class="ttdoc">Looks for the channel matrix associated to the aMob and bMob pair in m_channelMap.</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8cc_source.html#l00734">three-gpp-channel-model.cc:734</a></div></div>
<div class="ttc" id="aclassns3_1_1_three_gpp_channel_model_html_a1d52f8abe7b21a2503279ae794e0e696"><div class="ttname"><a href="classns3_1_1_three_gpp_channel_model.html#a1d52f8abe7b21a2503279ae794e0e696">ns3::ThreeGppChannelModel::m_normalRv</a></div><div class="ttdeci">Ptr&lt; NormalRandomVariable &gt; m_normalRv</div><div class="ttdoc">normal random variable</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8h_source.html#l00299">three-gpp-channel-model.h:299</a></div></div>
<div class="ttc" id="aclassns3_1_1_three_gpp_channel_model_html_a0201b5d8293ce8027b4093035023b1c3"><div class="ttname"><a href="classns3_1_1_three_gpp_channel_model.html#a0201b5d8293ce8027b4093035023b1c3">ns3::ThreeGppChannelModel::AssignStreams</a></div><div class="ttdeci">int64_t AssignStreams(int64_t stream)</div><div class="ttdoc">Assign a fixed random variable stream number to the random variables used by this model.</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8cc_source.html#l01801">three-gpp-channel-model.cc:1801</a></div></div>
<div class="ttc" id="athree-gpp-channel-model_8h_html"><div class="ttname"><a href="three-gpp-channel-model_8h.html">three-gpp-channel-model.h</a></div></div>
<div class="ttc" id="anamespacens3_html_a2b0f46881ee11c47cddf832517b9a401"><div class="ttname"><a href="namespacens3.html#a2b0f46881ee11c47cddf832517b9a401">ns3::sqrtC_RMa_O2I</a></div><div class="ttdeci">static const double sqrtC_RMa_O2I[6][6]</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8cc_source.html#l00077">three-gpp-channel-model.cc:77</a></div></div>
<div class="ttc" id="aclassns3_1_1_three_gpp_channel_model_html_a6f1967266792799ef6fa01181d4ae6b3"><div class="ttname"><a href="classns3_1_1_three_gpp_channel_model.html#a6f1967266792799ef6fa01181d4ae6b3">ns3::ThreeGppChannelModel::m_uniformRv</a></div><div class="ttdeci">Ptr&lt; UniformRandomVariable &gt; m_uniformRv</div><div class="ttdoc">uniform random variable</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8h_source.html#l00298">three-gpp-channel-model.h:298</a></div></div>
<div class="ttc" id="aclassns3_1_1_three_gpp_channel_model_html_a5d2b26d56150f1417c4d710cb4023ed5"><div class="ttname"><a href="classns3_1_1_three_gpp_channel_model.html#a5d2b26d56150f1417c4d710cb4023ed5">ns3::ThreeGppChannelModel::SetFrequency</a></div><div class="ttdeci">void SetFrequency(double f)</div><div class="ttdoc">Sets the center frequency of the model.</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8cc_source.html#l00248">three-gpp-channel-model.cc:248</a></div></div>
<div class="ttc" id="aclassns3_1_1_time_html_aff67d7a8139243a066d5292595caa966"><div class="ttname"><a href="classns3_1_1_time.html#aff67d7a8139243a066d5292595caa966">ns3::Time::GetNanoSeconds</a></div><div class="ttdeci">int64_t GetNanoSeconds(void) const</div><div class="ttdoc">Get an approximation of the time stored in this instance in the indicated unit.</div><div class="ttdef"><b>Definition:</b> <a href="nstime_8h_source.html#l00373">nstime.h:373</a></div></div>
<div class="ttc" id="aclassns3_1_1_three_gpp_channel_model_html_abead897cbe6824097b4424471edac979"><div class="ttname"><a href="classns3_1_1_three_gpp_channel_model.html#abead897cbe6824097b4424471edac979">ns3::ThreeGppChannelModel::GetFrequency</a></div><div class="ttdeci">double GetFrequency(void) const</div><div class="ttdoc">Returns the center frequency.</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8cc_source.html#l00256">three-gpp-channel-model.cc:256</a></div></div>
<div class="ttc" id="anamespacens3_html_ab4dd4b5e197ecad857dca5725f0ddd8c"><div class="ttname"><a href="namespacens3.html#ab4dd4b5e197ecad857dca5725f0ddd8c">ns3::MakeStringAccessor</a></div><div class="ttdeci">Ptr&lt; const AttributeAccessor &gt; MakeStringAccessor(T1 a1)</div><div class="ttdef"><b>Definition:</b> <a href="string_8h_source.html#l00042">string.h:42</a></div></div>
<div class="ttc" id="aipv4-address-generator_8cc_html_aaf5aa23b804d2e5e334106f207e8a6cc"><div class="ttname"><a href="ipv4-address-generator_8cc.html#aaf5aa23b804d2e5e334106f207e8a6cc">NS_ASSERT_MSG</a></div><div class="ttdeci">NS_ASSERT_MSG(false, &quot;Ipv4AddressGenerator::MaskToIndex(): Impossible&quot;)</div></div>
<div class="ttc" id="aclassns3_1_1_three_gpp_channel_model_html_a702a0ddafc085f82ec77e3e5b54868ae"><div class="ttname"><a href="classns3_1_1_three_gpp_channel_model.html#a702a0ddafc085f82ec77e3e5b54868ae">ns3::ThreeGppChannelModel::DoubleVector</a></div><div class="ttdeci">std::vector&lt; double &gt; DoubleVector</div><div class="ttdoc">type definition for vectors of doubles</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8h_source.html#l00067">three-gpp-channel-model.h:67</a></div></div>
<div class="ttc" id="aclassns3_1_1_string_value_html"><div class="ttname"><a href="classns3_1_1_string_value.html">ns3::StringValue</a></div><div class="ttdoc">Hold variables of type string.</div><div class="ttdef"><b>Definition:</b> <a href="string_8h_source.html#l00041">string.h:41</a></div></div>
<div class="ttc" id="aclassns3_1_1_three_gpp_channel_model_html_af3822dc7a32dcfeb06c5f29b04218974"><div class="ttname"><a href="classns3_1_1_three_gpp_channel_model.html#af3822dc7a32dcfeb06c5f29b04218974">ns3::ThreeGppChannelModel::m_updatePeriod</a></div><div class="ttdeci">Time m_updatePeriod</div><div class="ttdoc">the channel update period</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8h_source.html#l00294">three-gpp-channel-model.h:294</a></div></div>
<div class="ttc" id="astructns3_1_1_angles_html_a0585b0de17bc6d358be18e14cf294ca8"><div class="ttname"><a href="structns3_1_1_angles.html#a0585b0de17bc6d358be18e14cf294ca8">ns3::Angles::phi</a></div><div class="ttdeci">double phi</div><div class="ttdoc">the azimuth angle in radians</div><div class="ttdef"><b>Definition:</b> <a href="angles_8h_source.html#l00111">angles.h:111</a></div></div>
<div class="ttc" id="astructns3_1_1_three_gpp_channel_model_1_1_params_table_html_aaf70ed1a21702f82db50f7c533a62117"><div class="ttname"><a href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#aaf70ed1a21702f82db50f7c533a62117">ns3::ThreeGppChannelModel::ParamsTable::m_uLgZSA</a></div><div class="ttdeci">double m_uLgZSA</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8h_source.html#l00223">three-gpp-channel-model.h:223</a></div></div>
<div class="ttc" id="aclassns3_1_1_three_gpp_channel_model_html_a96b416dbec34b6baab625acf1a361e5f"><div class="ttname"><a href="classns3_1_1_three_gpp_channel_model.html#a96b416dbec34b6baab625acf1a361e5f">ns3::ThreeGppChannelModel::GetThreeGppTable</a></div><div class="ttdeci">Ptr&lt; const ParamsTable &gt; GetThreeGppTable(bool los, bool o2i, double hBS, double hUT, double distance2D) const</div><div class="ttdoc">Get the parameters needed to apply the channel generation procedure.</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8cc_source.html#l00280">three-gpp-channel-model.cc:280</a></div></div>
<div class="ttc" id="anamespacens3_html_a5e950c5ef7eed96d9067b823425f4f64"><div class="ttname"><a href="namespacens3.html#a5e950c5ef7eed96d9067b823425f4f64">ns3::MakeStringChecker</a></div><div class="ttdeci">Ptr&lt; const AttributeChecker &gt; MakeStringChecker(void)</div><div class="ttdef"><b>Definition:</b> <a href="string_8cc_source.html#l00030">string.cc:30</a></div></div>
<div class="ttc" id="astructns3_1_1_three_gpp_channel_model_1_1_three_gpp_channel_matrix_html_a3748082da69b0f29fc830a3d46c8a39a"><div class="ttname"><a href="structns3_1_1_three_gpp_channel_model_1_1_three_gpp_channel_matrix.html#a3748082da69b0f29fc830a3d46c8a39a">ns3::ThreeGppChannelModel::ThreeGppChannelMatrix::m_o2i</a></div><div class="ttdeci">bool m_o2i</div><div class="ttdoc">true if O2I</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8h_source.html#l00095">three-gpp-channel-model.h:95</a></div></div>
<div class="ttc" id="aclassns3_1_1_three_gpp_channel_model_html_a27a01a23be65ad030cbb041c2d221487"><div class="ttname"><a href="classns3_1_1_three_gpp_channel_model.html#a27a01a23be65ad030cbb041c2d221487">ns3::ThreeGppChannelModel::Y_INDEX</a></div><div class="ttdeci">static const uint8_t Y_INDEX</div><div class="ttdoc">index of the Y value in the m_nonSelfBlocking array</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8h_source.html#l00194">three-gpp-channel-model.h:194</a></div></div>
<div class="ttc" id="anamespacens3_html_a5956658e14c03e840f117722cf0bbbb6"><div class="ttname"><a href="namespacens3.html#a5956658e14c03e840f117722cf0bbbb6">ns3::sqrtC_RMa_NLOS</a></div><div class="ttdeci">static const double sqrtC_RMa_NLOS[6][6]</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8cc_source.html#l00068">three-gpp-channel-model.cc:68</a></div></div>
<div class="ttc" id="agroup__logging_html_ga413f1886406d49f59a6a0a89b77b4d0a"><div class="ttname"><a href="group__logging.html#ga413f1886406d49f59a6a0a89b77b4d0a">NS_LOG_DEBUG</a></div><div class="ttdeci">#define NS_LOG_DEBUG(msg)</div><div class="ttdoc">Use NS_LOG to output a message of level LOG_DEBUG.</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00274">log.h:273</a></div></div>
<div class="ttc" id="astructns3_1_1_three_gpp_channel_model_1_1_params_table_html_a68894ea90be404a9aff3e010830503cc"><div class="ttname"><a href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a68894ea90be404a9aff3e010830503cc">ns3::ThreeGppChannelModel::ParamsTable::m_perClusterShadowingStd</a></div><div class="ttdeci">double m_perClusterShadowingStd</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8h_source.html#l00237">three-gpp-channel-model.h:237</a></div></div>
<div class="ttc" id="a80211b_8c_html_ae7ffc1a8f84fa47a0812b2f2b9627132"><div class="ttname"><a href="80211b_8c.html#ae7ffc1a8f84fa47a0812b2f2b9627132">f</a></div><div class="ttdeci">double f(double x, void *params)</div><div class="ttdef"><b>Definition:</b> <a href="80211b_8c_source.html#l00070">80211b.c:70</a></div></div>
<div class="ttc" id="aclassns3_1_1_three_gpp_channel_model_html_afe8cd1f47afd42527155a8f8dc33e5e4"><div class="ttname"><a href="classns3_1_1_three_gpp_channel_model.html#afe8cd1f47afd42527155a8f8dc33e5e4">ns3::ThreeGppChannelModel::ChannelMatrixNeedsUpdate</a></div><div class="ttdeci">bool ChannelMatrixNeedsUpdate(Ptr&lt; const ThreeGppChannelMatrix &gt; channelMatrix, bool isLos) const</div><div class="ttdoc">Check if the channel matrix has to be updated.</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8cc_source.html#l00710">three-gpp-channel-model.cc:710</a></div></div>
<div class="ttc" id="aclassns3_1_1_three_gpp_channel_model_html_a845ceb5ed6364ab4b6819341acfb5611"><div class="ttname"><a href="classns3_1_1_three_gpp_channel_model.html#a845ceb5ed6364ab4b6819341acfb5611">ns3::ThreeGppChannelModel::m_numNonSelfBlocking</a></div><div class="ttdeci">uint16_t m_numNonSelfBlocking</div><div class="ttdoc">number of non-self-blocking regions</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8h_source.html#l00303">three-gpp-channel-model.h:303</a></div></div>
<div class="ttc" id="aclassns3_1_1_time_value_html"><div class="ttname"><a href="classns3_1_1_time_value.html">ns3::TimeValue</a></div><div class="ttdef"><b>Definition:</b> <a href="nstime_8h_source.html#l01132">nstime.h:1132</a></div></div>
<div class="ttc" id="anamespacesample-rng-plot_html_a5b903688ba4a0e9d00ef4d0aa174b44f"><div class="ttname"><a href="namespacesample-rng-plot.html#a5b903688ba4a0e9d00ef4d0aa174b44f">sample-rng-plot.x</a></div><div class="ttdeci">list x</div><div class="ttdef"><b>Definition:</b> <a href="sample-rng-plot_8py_source.html#l00034">sample-rng-plot.py:34</a></div></div>
<div class="ttc" id="aclassns3_1_1_three_gpp_channel_model_html_ab4ca73d2aecd3c3d7ea08d5dae904281"><div class="ttname"><a href="classns3_1_1_three_gpp_channel_model.html#ab4ca73d2aecd3c3d7ea08d5dae904281">ns3::ThreeGppChannelModel::m_channelConditionModel</a></div><div class="ttdeci">Ptr&lt; ChannelConditionModel &gt; m_channelConditionModel</div><div class="ttdoc">the channel condition model</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8h_source.html#l00297">three-gpp-channel-model.h:297</a></div></div>
<div class="ttc" id="agroup__logging_html_ga90b90d5bad1f39cb1b64923ea94c0761"><div class="ttname"><a href="group__logging.html#ga90b90d5bad1f39cb1b64923ea94c0761">NS_LOG_FUNCTION</a></div><div class="ttdeci">#define NS_LOG_FUNCTION(parameters)</div><div class="ttdef"><b>Definition:</b> <a href="log-macros-enabled_8h_source.html#l00210">log-macros-enabled.h:209</a></div></div>
<div class="ttc" id="astructns3_1_1_three_gpp_channel_model_1_1_params_table_html_a3a8039a5403a6cd3e1cc8db4a132245c"><div class="ttname"><a href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a3a8039a5403a6cd3e1cc8db4a132245c">ns3::ThreeGppChannelModel::ParamsTable::m_sigXpr</a></div><div class="ttdeci">double m_sigXpr</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8h_source.html#l00236">three-gpp-channel-model.h:236</a></div></div>
<div class="ttc" id="aclassns3_1_1_three_gpp_channel_model_html_acc1208f027d4fabc4fb5622f640207f8"><div class="ttname"><a href="classns3_1_1_three_gpp_channel_model.html#acc1208f027d4fabc4fb5622f640207f8">ns3::ThreeGppChannelModel::m_channelMap</a></div><div class="ttdeci">std::unordered_map&lt; uint32_t, Ptr&lt; ThreeGppChannelMatrix &gt; &gt; m_channelMap</div><div class="ttdoc">map containing the channel realizations</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8h_source.html#l00293">three-gpp-channel-model.h:293</a></div></div>
<div class="ttc" id="aclassns3_1_1_three_gpp_channel_model_html_a00d7dab9a5d071b83830cc54851f51a3"><div class="ttname"><a href="classns3_1_1_three_gpp_channel_model.html#a00d7dab9a5d071b83830cc54851f51a3">ns3::ThreeGppChannelModel::Double3DVector</a></div><div class="ttdeci">std::vector&lt; Double2DVector &gt; Double3DVector</div><div class="ttdoc">type definition for 3D matrices of doubles</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8h_source.html#l00069">three-gpp-channel-model.h:69</a></div></div>
<div class="ttc" id="astructns3_1_1_three_gpp_channel_model_1_1_params_table_html_a639590fb89b38d7c28fa987490ee67a1"><div class="ttname"><a href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a639590fb89b38d7c28fa987490ee67a1">ns3::ThreeGppChannelModel::ParamsTable::m_sigK</a></div><div class="ttdeci">double m_sigK</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8h_source.html#l00233">three-gpp-channel-model.h:233</a></div></div>
<div class="ttc" id="astructns3_1_1_three_gpp_channel_model_1_1_params_table_html_ab1520d35465ea804902f3c4f57063fd1"><div class="ttname"><a href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#ab1520d35465ea804902f3c4f57063fd1">ns3::ThreeGppChannelModel::ParamsTable::m_cDS</a></div><div class="ttdeci">double m_cDS</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8h_source.html#l00228">three-gpp-channel-model.h:228</a></div></div>
<div class="ttc" id="aclassns3_1_1_three_gpp_channel_model_html_a46922a496f849f08c5e6f9a9073e3133"><div class="ttname"><a href="classns3_1_1_three_gpp_channel_model.html#a46922a496f849f08c5e6f9a9073e3133">ns3::ThreeGppChannelModel::GetKey</a></div><div class="ttdeci">static constexpr uint32_t GetKey(uint32_t x1, uint32_t x2)</div><div class="ttdoc">Calculate the channel key using the Cantor function.</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8h_source.html#l00203">three-gpp-channel-model.h:203</a></div></div>
<div class="ttc" id="aclassns3_1_1_random_variable_stream_html_add11aaf975607746b7e271d300659a94"><div class="ttname"><a href="classns3_1_1_random_variable_stream.html#add11aaf975607746b7e271d300659a94">ns3::RandomVariableStream::SetStream</a></div><div class="ttdeci">void SetStream(int64_t stream)</div><div class="ttdoc">Specifies the stream number for the RngStream.</div><div class="ttdef"><b>Definition:</b> <a href="random-variable-stream_8cc_source.html#l00099">random-variable-stream.cc:99</a></div></div>
<div class="ttc" id="anamespacens3_html_a548291fa9e4e7d6a57814dfcbbebce9b"><div class="ttname"><a href="namespacens3.html#a548291fa9e4e7d6a57814dfcbbebce9b">ns3::max</a></div><div class="ttdeci">double max(double x, double y)</div><div class="ttdef"><b>Definition:</b> <a href="cobalt-queue-disc_8cc_source.html#l00122">cobalt-queue-disc.cc:122</a></div></div>
<div class="ttc" id="anamespacens3_html_a2344173eeb094a196c555a159e87bc6f"><div class="ttname"><a href="namespacens3.html#a2344173eeb094a196c555a159e87bc6f">ns3::offSetAlpha</a></div><div class="ttdeci">static const double offSetAlpha[20]</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8cc_source.html#l00044">three-gpp-channel-model.cc:44</a></div></div>
<div class="ttc" id="aclassns3_1_1_three_gpp_channel_model_html_abe4bd9b0cafdf4377f4855793756d485"><div class="ttname"><a href="classns3_1_1_three_gpp_channel_model.html#abe4bd9b0cafdf4377f4855793756d485">ns3::ThreeGppChannelModel::R_INDEX</a></div><div class="ttdeci">static const uint8_t R_INDEX</div><div class="ttdoc">index of the R value in the m_nonSelfBlocking array</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8h_source.html#l00195">three-gpp-channel-model.h:195</a></div></div>
<div class="ttc" id="anamespacens3_html_a8b4257cb2f3dc8cbce37f92e1c98660f"><div class="ttname"><a href="namespacens3.html#a8b4257cb2f3dc8cbce37f92e1c98660f">ns3::MakeBooleanAccessor</a></div><div class="ttdeci">Ptr&lt; const AttributeAccessor &gt; MakeBooleanAccessor(T1 a1)</div><div class="ttdef"><b>Definition:</b> <a href="boolean_8h_source.html#l00085">boolean.h:85</a></div></div>
<div class="ttc" id="astructns3_1_1_angles_html_a98c2a7d6c99f9fd8504e4801a68bf291"><div class="ttname"><a href="structns3_1_1_angles.html#a98c2a7d6c99f9fd8504e4801a68bf291">ns3::Angles::theta</a></div><div class="ttdeci">double theta</div><div class="ttdoc">the inclination angle in radians</div><div class="ttdef"><b>Definition:</b> <a href="angles_8h_source.html#l00117">angles.h:117</a></div></div>
<div class="ttc" id="astructns3_1_1_angles_html"><div class="ttname"><a href="structns3_1_1_angles.html">ns3::Angles</a></div><div class="ttdoc">struct holding the azimuth and inclination angles of spherical coordinates.</div><div class="ttdef"><b>Definition:</b> <a href="angles_8h_source.html#l00071">angles.h:72</a></div></div>
<div class="ttc" id="aclassns3_1_1_three_gpp_channel_model_html_a45e31b58ccb5fbe179739e13938ba6d9"><div class="ttname"><a href="classns3_1_1_three_gpp_channel_model.html#a45e31b58ccb5fbe179739e13938ba6d9">ns3::ThreeGppChannelModel::THETA_INDEX</a></div><div class="ttdeci">static const uint8_t THETA_INDEX</div><div class="ttdoc">index of the THETA value in the m_nonSelfBlocking array</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8h_source.html#l00193">three-gpp-channel-model.h:193</a></div></div>
<div class="ttc" id="astructns3_1_1_three_gpp_channel_model_1_1_params_table_html_a1ce8ab7e6303740b2ff666c5dd7cc3ca"><div class="ttname"><a href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a1ce8ab7e6303740b2ff666c5dd7cc3ca">ns3::ThreeGppChannelModel::ParamsTable::m_cASD</a></div><div class="ttdeci">double m_cASD</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8h_source.html#l00229">three-gpp-channel-model.h:229</a></div></div>
<div class="ttc" id="astructns3_1_1_three_gpp_channel_model_1_1_three_gpp_channel_matrix_html_a2e97197378bf307cac324a2a655cbdf0"><div class="ttname"><a href="structns3_1_1_three_gpp_channel_model_1_1_three_gpp_channel_matrix.html#a2e97197378bf307cac324a2a655cbdf0">ns3::ThreeGppChannelModel::ThreeGppChannelMatrix::m_delay</a></div><div class="ttdeci">DoubleVector m_delay</div><div class="ttdoc">cluster delay.</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8h_source.html#l00079">three-gpp-channel-model.h:79</a></div></div>
<div class="ttc" id="aclassns3_1_1_three_gpp_channel_model_html_a4e4a68ea9c164f38c71cadd3d4ca42b0"><div class="ttname"><a href="classns3_1_1_three_gpp_channel_model.html#a4e4a68ea9c164f38c71cadd3d4ca42b0">ns3::ThreeGppChannelModel::ThreeGppChannelModel</a></div><div class="ttdeci">ThreeGppChannelModel()</div><div class="ttdoc">Constructor.</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8cc_source.html#l00163">three-gpp-channel-model.cc:163</a></div></div>
<div class="ttc" id="aclassns3_1_1_uniform_random_variable_html_a03822d8c86ac51e9aa83bbc73041386b"><div class="ttname"><a href="classns3_1_1_uniform_random_variable.html#a03822d8c86ac51e9aa83bbc73041386b">ns3::UniformRandomVariable::GetValue</a></div><div class="ttdeci">double GetValue(double min, double max)</div><div class="ttdoc">Get the next random value, as a double in the specified range .</div><div class="ttdef"><b>Definition:</b> <a href="random-variable-stream_8cc_source.html#l00181">random-variable-stream.cc:181</a></div></div>
<div class="ttc" id="astructns3_1_1_three_gpp_channel_model_1_1_params_table_html_a0efa0087fd9f74f96a992de838625e35"><div class="ttname"><a href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a0efa0087fd9f74f96a992de838625e35">ns3::ThreeGppChannelModel::ParamsTable::m_sqrtC</a></div><div class="ttdeci">double m_sqrtC[7][7]</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8h_source.html#l00239">three-gpp-channel-model.h:239</a></div></div>
<div class="ttc" id="astructns3_1_1_three_gpp_channel_model_1_1_params_table_html_a1b232288c744b55b438d1dc8686097d3"><div class="ttname"><a href="structns3_1_1_three_gpp_channel_model_1_1_params_table.html#a1b232288c744b55b438d1dc8686097d3">ns3::ThreeGppChannelModel::ParamsTable::m_sigLgZSD</a></div><div class="ttdeci">double m_sigLgZSD</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8h_source.html#l00226">three-gpp-channel-model.h:226</a></div></div>
<div class="ttc" id="aclassns3_1_1_three_gpp_channel_model_html_ae5f27f3adb20b735fbe70a5578d00891"><div class="ttname"><a href="classns3_1_1_three_gpp_channel_model.html#ae5f27f3adb20b735fbe70a5578d00891">ns3::ThreeGppChannelModel::Double2DVector</a></div><div class="ttdeci">std::vector&lt; DoubleVector &gt; Double2DVector</div><div class="ttdoc">type definition for matrices of doubles</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8h_source.html#l00068">three-gpp-channel-model.h:68</a></div></div>
<div class="ttc" id="anamespacens3_html_a34f94bc21850882c7e480c4a8bc5036d"><div class="ttname"><a href="namespacens3.html#a34f94bc21850882c7e480c4a8bc5036d">ns3::sqrtC_UMi_LOS</a></div><div class="ttdeci">static const double sqrtC_UMi_LOS[7][7]</div><div class="ttdef"><b>Definition:</b> <a href="three-gpp-channel-model_8cc_source.html#l00116">three-gpp-channel-model.cc:116</a></div></div>
<!-- ns-3 doxygen header, based on
     HTML header for doxygen 1.8.3.1
     Verified compatible with 1.8.6
-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_10d0328e2266480c720033fb91de3081.html">spectrum</a></li><li class="navelem"><a class="el" href="dir_f25b46aff9dd2800f353f0cc2534eabd.html">model</a></li><li class="navelem"><a class="el" href="three-gpp-channel-model_8cc.html">three-gpp-channel-model.cc</a></li>
    <li class="footer">Generated on Wed Apr 29 2020 17:43:12 for ns-3 by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.19 </li>
  </ul>
</div>
</body>
</html>
