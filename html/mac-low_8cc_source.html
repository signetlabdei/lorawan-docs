<!-- ns-3 doxygen header, based on
     HTML header for doxygen 1.8.3.1
     Verified compatible with 1.8.6
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.19"/>
<title>ns-3: src/wifi/model/mac-low.cc Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="ns3_stylesheet.css" rel="stylesheet" type="text/css"/>
    <link href="favicon.ico" rel="shortcut icon" type="image/ico"></link>
    <script type="text/javascript" src="drop-down-menu.js"></script>
    <script type="text/javascript" src="ns3_version.js"></script>
    <script type="text/javascript" src="ns3_links.js"></script>
  </head>
<body>
    <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
      <div id="titlearea">
	<table cellspacing="0" cellpadding="0" width="100%">
	  <tbody>
	    <tr style="height: 56px;">
	      <td id="projectlogo">
		<a id="ns3_home1"
		  href="http://www.nsnam.org/">
		  <img alt="ns-3 Logo"
		    src="ns-3-inverted-notext-small.png"/>
		</a>
	      </td>
	      <td id="projecttext">
		<div id="projectbrief">A Discrete-Event Network Simulator</div>
		<span id="projectnumber"><script type="text/javascript">document.write(ns3_version)</script></span>
	      </td>
	      <td id="ns3-menu">
		<div class="menu">
		  <ul >
		    <li><a id="ns3_home2"
			href="http://www.nsnam.org/"
			>&nbsp;&nbsp;Home</a>
		    </li>
		    <li><span
			onmouseover="mopen('mTuts')" 
			onmouseout="mclosetime()"
			>Tutorials &nbsp;&#x25BC;</span>
		      <div id="mTuts" 
		        onmouseover="mcancelclosetime()" 
		        onmouseout="mclosetime()">
			<a id="ns3_tut"
			  href="/docs/tutorial/html/index.html"
			  >English</a><br/>
		    </li>
		    <li><span
			onmouseover="mopen('mDocs')" 
			onmouseout="mclosetime()"
			>Docs &nbsp;&nbsp;&nbsp;&#x25BC;</span>
		      <div id="mDocs"
		        onmouseover="mcancelclosetime()" 
		        onmouseout="mclosetime()">
			<a id="ns3_wiki"
			  href="http://www.nsnam.org/wiki"
			  >Wiki</a><br/>
			<a id="ns3_man"
			    href="/docs/manual/html/index.html"
			    >Manual</a><br/>
			<a id="ns3_mod"
			   href="/docs/models/html/index.html"
			   >Models</a><br/>
		    </li>
		    <li><span
			onmouseover="mopen('mDev')" 
			onmouseout="mclosetime()"
			>Develop &#x25BC;</span>
		      <div id="mDev"
		        onmouseover="mcancelclosetime()" 
		        onmouseout="mclosetime()">
			<a id="ns3_api"
			   href="/docs/doxygen/index.html"
			   >API</a><br/>
			<a id="ns3_bugs"
			   href="http://www.nsnam.org/bugzilla/">Bugs</a>
		    </li>
		  </ul>
		</div>
	      </td>
	      <td id="projectsection">
		<span style="margin-right:10px">API</span>
	      </td>
	    </tr>
	  </tbody>
	</table>
	<script  type="text/javascript">ns3_write_links();</script>
      </div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.19 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('mac-low_8cc_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">mac-low.cc</div>  </div>
</div><!--header-->
<div class="contents">
<a href="mac-low_8cc.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/* -*- Mode:C++; c-file-style:&quot;gnu&quot;; indent-tabs-mode:nil; -*- */</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * Copyright (c) 2005,2006 INRIA</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * Copyright (c) 2009 MIRKO BANCHI</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * This program is free software; you can redistribute it and/or modify</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * it under the terms of the GNU General Public License version 2 as</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * published by the Free Software Foundation;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * This program is distributed in the hope that it will be useful,</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * GNU General Public License for more details.</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * You should have received a copy of the GNU General Public License</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * along with this program; if not, write to the Free Software</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> * Authors: Mathieu Lacage &lt;mathieu.lacage@sophia.inria.fr&gt;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> *          Mirko Banchi &lt;mk.banchi@gmail.com&gt;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> *          Stefano Avallone &lt;stavallo@unina.it&gt;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160; </div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;ns3/simulator.h&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;ns3/log.h&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="mac-low_8h.html">mac-low.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qos-txop_8h.html">qos-txop.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="snr-tag_8h.html">snr-tag.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ampdu-tag_8h.html">ampdu-tag.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="wifi-mac-queue_8h.html">wifi-mac-queue.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="wifi-psdu_8h.html">wifi-psdu.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="wifi-utils_8h.html">wifi-utils.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ctrl-headers_8h.html">ctrl-headers.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="mgt-headers_8h.html">mgt-headers.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="wifi-remote-station-manager_8h.html">wifi-remote-station-manager.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="mpdu-aggregator_8h.html">mpdu-aggregator.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="msdu-aggregator_8h.html">msdu-aggregator.h</a>&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ampdu-subframe-header_8h.html">ampdu-subframe-header.h</a>&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="wifi-phy-listener_8h.html">wifi-phy-listener.h</a>&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="wifi-mac-trailer_8h.html">wifi-mac-trailer.h</a>&quot;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="wifi-phy_8h.html">wifi-phy.h</a>&quot;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="wifi-net-device_8h.html">wifi-net-device.h</a>&quot;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="wifi-mac_8h.html">wifi-mac.h</a>&quot;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="wifi-ack-policy-selector_8h.html">wifi-ack-policy-selector.h</a>&quot;</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160; </div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#undef NS_LOG_APPEND_CONTEXT</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#define NS_LOG_APPEND_CONTEXT std::clog &lt;&lt; &quot;[mac=&quot; &lt;&lt; m_self &lt;&lt; &quot;] &quot;</span></div>
<div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="mac-low_8cc.html#abe50035652d407c40bdaef78214c4955">   49</a></span>&#160; </div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">// Time (in nanoseconds) to be added to the PSDU duration to yield the duration</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">// of the timer that is started when the PHY indicates the start of the reception</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment">// of a frame and we are waiting for a response.</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#define PSDU_DURATION_SAFEGUARD 400</span></div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="mac-low_8cc.html#ac1c8731250d1476ba7330187c2edd297">   54</a></span>&#160; </div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacens3.html">ns3</a> {</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160; </div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<a class="code" href="group__logging.html#ga225a95395fa117b7309aa3c43518d02e">NS_LOG_COMPONENT_DEFINE</a> (<span class="stringliteral">&quot;MacLow&quot;</span>);</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160; </div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="classns3_1_1_phy_mac_low_listener.html">   62</a></span>&#160;<span class="keyword">class </span><a class="code" href="classns3_1_1_phy_mac_low_listener.html">PhyMacLowListener</a> : <span class="keyword">public</span> <a class="code" href="classns3_1_1_wifi_phy_listener.html">ns3::WifiPhyListener</a></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;{</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="classns3_1_1_phy_mac_low_listener.html#a1bc3564abd3951a3af6b6343e2a330fb">   70</a></span>&#160;  <a class="code" href="classns3_1_1_phy_mac_low_listener.html#a1bc3564abd3951a3af6b6343e2a330fb">PhyMacLowListener</a> (<a class="code" href="classns3_1_1_mac_low.html">ns3::MacLow</a> *macLow)</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    : <a class="code" href="classns3_1_1_phy_mac_low_listener.html#a7c5688d6d66773bd20c461d4aed047aa">m_macLow</a> (macLow)</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  {</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  }</div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="classns3_1_1_phy_mac_low_listener.html#a36a2f7a3775eaf5001c1555c64671baf">   74</a></span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classns3_1_1_phy_mac_low_listener.html#a36a2f7a3775eaf5001c1555c64671baf">~PhyMacLowListener</a> ()</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  {</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  }</div>
<div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="classns3_1_1_phy_mac_low_listener.html#a7ef6498b417cc897229053f12c677194">   77</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classns3_1_1_phy_mac_low_listener.html#a7ef6498b417cc897229053f12c677194">NotifyRxStart</a> (<a class="code" href="classns3_1_1_time.html">Time</a> <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a>)</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  {</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  }</div>
<div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="classns3_1_1_phy_mac_low_listener.html#a302830dc08603e98d66b5e749b35afdd">   80</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classns3_1_1_phy_mac_low_listener.html#a302830dc08603e98d66b5e749b35afdd">NotifyRxEndOk</a> (<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  {</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  }</div>
<div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="classns3_1_1_phy_mac_low_listener.html#ac225bcb80de9366b102b12966caabe1b">   83</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classns3_1_1_phy_mac_low_listener.html#ac225bcb80de9366b102b12966caabe1b">NotifyRxEndError</a> (<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  {</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  }</div>
<div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="classns3_1_1_phy_mac_low_listener.html#ad44562d3a6268b374d72abde27684dc4">   86</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classns3_1_1_phy_mac_low_listener.html#ad44562d3a6268b374d72abde27684dc4">NotifyTxStart</a> (<a class="code" href="classns3_1_1_time.html">Time</a> <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a>, <span class="keywordtype">double</span> txPowerDbm)</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  {</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  }</div>
<div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="classns3_1_1_phy_mac_low_listener.html#a7206127f5f3023daed5f01d30deb3c1e">   89</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classns3_1_1_phy_mac_low_listener.html#a7206127f5f3023daed5f01d30deb3c1e">NotifyMaybeCcaBusyStart</a> (<a class="code" href="classns3_1_1_time.html">Time</a> <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a>)</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  {</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  }</div>
<div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="classns3_1_1_phy_mac_low_listener.html#a869b03f9f62df72e92f204c96b0119d0">   92</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classns3_1_1_phy_mac_low_listener.html#a869b03f9f62df72e92f204c96b0119d0">NotifySwitchingStart</a> (<a class="code" href="classns3_1_1_time.html">Time</a> <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a>)</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  {</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <a class="code" href="classns3_1_1_phy_mac_low_listener.html#a7c5688d6d66773bd20c461d4aed047aa">m_macLow</a>-&gt;<a class="code" href="classns3_1_1_mac_low.html#a1952eb06064aac3eca3cd3edd426831b">NotifySwitchingStartNow</a> (<a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a>);</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  }</div>
<div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="classns3_1_1_phy_mac_low_listener.html#ad9effa3f5cf5f01b9d96679d3ec0c8b0">   96</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classns3_1_1_phy_mac_low_listener.html#ad9effa3f5cf5f01b9d96679d3ec0c8b0">NotifySleep</a> (<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  {</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <a class="code" href="classns3_1_1_phy_mac_low_listener.html#a7c5688d6d66773bd20c461d4aed047aa">m_macLow</a>-&gt;<a class="code" href="classns3_1_1_mac_low.html#ae772476fce0b730d2e5949bfa0287965">NotifySleepNow</a> ();</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  }</div>
<div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="classns3_1_1_phy_mac_low_listener.html#a92034f5f848364d14279db14de7a5168">  100</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classns3_1_1_phy_mac_low_listener.html#a92034f5f848364d14279db14de7a5168">NotifyOff</a> (<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  {</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <a class="code" href="classns3_1_1_phy_mac_low_listener.html#a7c5688d6d66773bd20c461d4aed047aa">m_macLow</a>-&gt;<a class="code" href="classns3_1_1_mac_low.html#abf83232dab18fd8c6eae880da7bc9bd4">NotifyOffNow</a> ();</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  }</div>
<div class="line"><a name="l00104"></a><span class="lineno"><a class="line" href="classns3_1_1_phy_mac_low_listener.html#a708c891331273676e26ecf8df28fcdec">  104</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classns3_1_1_phy_mac_low_listener.html#a708c891331273676e26ecf8df28fcdec">NotifyWakeup</a> (<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  {</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  }</div>
<div class="line"><a name="l00107"></a><span class="lineno"><a class="line" href="classns3_1_1_phy_mac_low_listener.html#af15b5593550c1f8f042d25711bbdf640">  107</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classns3_1_1_phy_mac_low_listener.html#af15b5593550c1f8f042d25711bbdf640">NotifyOn</a> (<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  {</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  }</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160; </div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="classns3_1_1_phy_mac_low_listener.html#a7c5688d6d66773bd20c461d4aed047aa">  112</a></span>&#160;  <a class="code" href="classns3_1_1_mac_low.html">ns3::MacLow</a> *<a class="code" href="classns3_1_1_phy_mac_low_listener.html#a7c5688d6d66773bd20c461d4aed047aa">m_macLow</a>; </div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;};</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160; </div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160; </div>
<div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#a7deab25806e5aef977c36151acb116c5">  116</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#a7deab25806e5aef977c36151acb116c5">MacLow::MacLow</a> ()</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  : m_msduAggregator (0),</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    m_mpduAggregator (0),</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    m_normalAckTimeoutEvent (),</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    m_blockAckTimeoutEvent (),</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    m_ctsTimeoutEvent (),</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    m_sendCtsEvent (),</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    m_sendAckEvent (),</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    m_sendDataEvent (),</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    m_waitIfsEvent (),</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    m_endTxNoAckEvent (),</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    m_currentPacket (0),</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    m_currentTxop (0),</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    m_lastNavStart (<a class="code" href="group__timecivil.html#ga33c34b816f8ff6628e33d5c8e9713b9e">Seconds</a> (0)),</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    m_lastNavDuration (<a class="code" href="group__timecivil.html#ga33c34b816f8ff6628e33d5c8e9713b9e">Seconds</a> (0)),</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    m_cfpStart (<a class="code" href="group__timecivil.html#ga33c34b816f8ff6628e33d5c8e9713b9e">Seconds</a> (0)),</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    m_lastBeacon (<a class="code" href="group__timecivil.html#ga33c34b816f8ff6628e33d5c8e9713b9e">Seconds</a> (0)),</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    m_cfpForeshortening (<a class="code" href="group__timecivil.html#ga33c34b816f8ff6628e33d5c8e9713b9e">Seconds</a> (0)),</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    m_promisc (false),</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    m_phyMacLowListener (0),</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    m_ctsToSelfSupported (false),</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    m_cfAckInfo ()</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;{</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <a class="code" href="group__logging.html#ga90b90d5bad1f39cb1b64923ea94c0761">NS_LOG_FUNCTION</a> (<span class="keyword">this</span>);</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;}</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160; </div>
<div class="line"><a name="l00142"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#ac9e686b5f1c0ed26829b8eff1f8e60d2">  142</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#ac9e686b5f1c0ed26829b8eff1f8e60d2">MacLow::~MacLow</a> ()</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;{</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  <a class="code" href="group__logging.html#ga90b90d5bad1f39cb1b64923ea94c0761">NS_LOG_FUNCTION</a> (<span class="keyword">this</span>);</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;}</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160; </div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment">/* static */</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<a class="code" href="classns3_1_1_type_id.html">TypeId</a></div>
<div class="line"><a name="l00149"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#abacc68f094246209f7d4d69d1c75aa31">  149</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#abacc68f094246209f7d4d69d1c75aa31">MacLow::GetTypeId</a> (<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;{</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <span class="keyword">static</span> <a class="code" href="classns3_1_1_type_id.html">TypeId</a> tid = <a class="code" href="classns3_1_1_type_id.html">TypeId</a> (<span class="stringliteral">&quot;ns3::MacLow&quot;</span>)</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    .<a class="code" href="classns3_1_1_type_id.html#abaaca67ab7d2471067e7c275df0f7309">SetParent</a>&lt;<a class="code" href="classns3_1_1_object.html">Object</a>&gt; ()</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    .SetGroupName (<span class="stringliteral">&quot;Wifi&quot;</span>)</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    .AddConstructor&lt;<a class="code" href="classns3_1_1_mac_low.html">MacLow</a>&gt; ()</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  ;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <span class="keywordflow">return</span> tid;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;}</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160; </div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l00160"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#afbed28d856f8af3b560c18e336538a4a">  160</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#afbed28d856f8af3b560c18e336538a4a">MacLow::SetupPhyMacLowListener</a> (<span class="keyword">const</span> <a class="code" href="classns3_1_1_ptr.html">Ptr&lt;WifiPhy&gt;</a> <a class="code" href="namespacethird.html#afd1150b3dae0722a64278ec9f040f321">phy</a>)</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;{</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#a1c49aaf243c751beb27655a0c5e72b86">m_phyMacLowListener</a> = <span class="keyword">new</span> <a class="code" href="classns3_1_1_phy_mac_low_listener.html">PhyMacLowListener</a> (<span class="keyword">this</span>);</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  <a class="code" href="namespacethird.html#afd1150b3dae0722a64278ec9f040f321">phy</a>-&gt;RegisterListener (<a class="code" href="classns3_1_1_mac_low.html#a1c49aaf243c751beb27655a0c5e72b86">m_phyMacLowListener</a>);</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;}</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160; </div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l00167"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#afc60cdc4693e2fb6b2257aa015b9ec30">  167</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#afc60cdc4693e2fb6b2257aa015b9ec30">MacLow::RemovePhyMacLowListener</a> (<a class="code" href="classns3_1_1_ptr.html">Ptr&lt;WifiPhy&gt;</a> <a class="code" href="namespacethird.html#afd1150b3dae0722a64278ec9f040f321">phy</a>)</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;{</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_mac_low.html#a1c49aaf243c751beb27655a0c5e72b86">m_phyMacLowListener</a> != 0 )</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    {</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;      <a class="code" href="namespacethird.html#afd1150b3dae0722a64278ec9f040f321">phy</a>-&gt;UnregisterListener (<a class="code" href="classns3_1_1_mac_low.html#a1c49aaf243c751beb27655a0c5e72b86">m_phyMacLowListener</a>);</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;      <span class="keyword">delete</span> <a class="code" href="classns3_1_1_mac_low.html#a1c49aaf243c751beb27655a0c5e72b86">m_phyMacLowListener</a>;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#a1c49aaf243c751beb27655a0c5e72b86">m_phyMacLowListener</a> = 0;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    }</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;}</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160; </div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l00178"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#a5b5f194e54b33b969b9cf8a05728d9fe">  178</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#a5b5f194e54b33b969b9cf8a05728d9fe">MacLow::DoDispose</a> (<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;{</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  <a class="code" href="group__logging.html#ga90b90d5bad1f39cb1b64923ea94c0761">NS_LOG_FUNCTION</a> (<span class="keyword">this</span>);</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#a4376c10e5dc680bcdb50628540c8b412">m_normalAckTimeoutEvent</a>.<a class="code" href="classns3_1_1_event_id.html#a993ae94e48e014e1afd47edb16db7a11">Cancel</a> ();</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#ab45f8207ce750633a91b40aa3227f436">m_blockAckTimeoutEvent</a>.<a class="code" href="classns3_1_1_event_id.html#a993ae94e48e014e1afd47edb16db7a11">Cancel</a> ();</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#a1de3cc66dcaa9f318fb1b2cffb108b01">m_ctsTimeoutEvent</a>.<a class="code" href="classns3_1_1_event_id.html#a993ae94e48e014e1afd47edb16db7a11">Cancel</a> ();</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#ade35698702b1353f2eff6b97653f8b0e">m_sendCtsEvent</a>.<a class="code" href="classns3_1_1_event_id.html#a993ae94e48e014e1afd47edb16db7a11">Cancel</a> ();</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#a35ee7cfc983896c26c514bade14b3197">m_sendAckEvent</a>.<a class="code" href="classns3_1_1_event_id.html#a993ae94e48e014e1afd47edb16db7a11">Cancel</a> ();</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#a3f6b0135f1179dd4cd5d2002f7355423">m_sendDataEvent</a>.<a class="code" href="classns3_1_1_event_id.html#a993ae94e48e014e1afd47edb16db7a11">Cancel</a> ();</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#abdfe679a569b3b5b3262b08ccc8f5df8">m_waitIfsEvent</a>.<a class="code" href="classns3_1_1_event_id.html#a993ae94e48e014e1afd47edb16db7a11">Cancel</a> ();</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#a25990734c06d4df0d75276f52e103f8a">m_endTxNoAckEvent</a>.<a class="code" href="classns3_1_1_event_id.html#a993ae94e48e014e1afd47edb16db7a11">Cancel</a> ();</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#a53d07c20bd3ddab4689c3b310aa4e1f6">m_msduAggregator</a> = 0;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#a344c9eac713132195e310bb51e4ab020">m_mpduAggregator</a> = 0;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a> = 0;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#a1c7f45f071f9e5eb97764f64e5cdaf1b">m_stationManager</a> = 0;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_mac_low.html#a1c49aaf243c751beb27655a0c5e72b86">m_phyMacLowListener</a> != 0)</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    {</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;      <span class="keyword">delete</span> <a class="code" href="classns3_1_1_mac_low.html#a1c49aaf243c751beb27655a0c5e72b86">m_phyMacLowListener</a>;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#a1c49aaf243c751beb27655a0c5e72b86">m_phyMacLowListener</a> = 0;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    }</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;}</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160; </div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l00201"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#afecf8a67fd2052dc23f94e77b9768d6b">  201</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#afecf8a67fd2052dc23f94e77b9768d6b">MacLow::CancelAllEvents</a> (<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;{</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  <a class="code" href="group__logging.html#ga90b90d5bad1f39cb1b64923ea94c0761">NS_LOG_FUNCTION</a> (<span class="keyword">this</span>);</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  <span class="keywordtype">bool</span> oneRunning = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_mac_low.html#a4376c10e5dc680bcdb50628540c8b412">m_normalAckTimeoutEvent</a>.<a class="code" href="classns3_1_1_event_id.html#a8b41e6f8c54db6bede8a7dcaf917074a">IsRunning</a> ())</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    {</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#a4376c10e5dc680bcdb50628540c8b412">m_normalAckTimeoutEvent</a>.<a class="code" href="classns3_1_1_event_id.html#a993ae94e48e014e1afd47edb16db7a11">Cancel</a> ();</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;      oneRunning = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    }</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_mac_low.html#ab45f8207ce750633a91b40aa3227f436">m_blockAckTimeoutEvent</a>.<a class="code" href="classns3_1_1_event_id.html#a8b41e6f8c54db6bede8a7dcaf917074a">IsRunning</a> ())</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    {</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#ab45f8207ce750633a91b40aa3227f436">m_blockAckTimeoutEvent</a>.<a class="code" href="classns3_1_1_event_id.html#a993ae94e48e014e1afd47edb16db7a11">Cancel</a> ();</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;      oneRunning = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    }</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_mac_low.html#a1de3cc66dcaa9f318fb1b2cffb108b01">m_ctsTimeoutEvent</a>.<a class="code" href="classns3_1_1_event_id.html#a8b41e6f8c54db6bede8a7dcaf917074a">IsRunning</a> ())</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    {</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#a1de3cc66dcaa9f318fb1b2cffb108b01">m_ctsTimeoutEvent</a>.<a class="code" href="classns3_1_1_event_id.html#a993ae94e48e014e1afd47edb16db7a11">Cancel</a> ();</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;      oneRunning = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    }</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_mac_low.html#ade35698702b1353f2eff6b97653f8b0e">m_sendCtsEvent</a>.<a class="code" href="classns3_1_1_event_id.html#a8b41e6f8c54db6bede8a7dcaf917074a">IsRunning</a> ())</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    {</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#ade35698702b1353f2eff6b97653f8b0e">m_sendCtsEvent</a>.<a class="code" href="classns3_1_1_event_id.html#a993ae94e48e014e1afd47edb16db7a11">Cancel</a> ();</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;      oneRunning = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    }</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_mac_low.html#a35ee7cfc983896c26c514bade14b3197">m_sendAckEvent</a>.<a class="code" href="classns3_1_1_event_id.html#a8b41e6f8c54db6bede8a7dcaf917074a">IsRunning</a> ())</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    {</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#a35ee7cfc983896c26c514bade14b3197">m_sendAckEvent</a>.<a class="code" href="classns3_1_1_event_id.html#a993ae94e48e014e1afd47edb16db7a11">Cancel</a> ();</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;      oneRunning = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    }</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_mac_low.html#a3f6b0135f1179dd4cd5d2002f7355423">m_sendDataEvent</a>.<a class="code" href="classns3_1_1_event_id.html#a8b41e6f8c54db6bede8a7dcaf917074a">IsRunning</a> ())</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    {</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#a3f6b0135f1179dd4cd5d2002f7355423">m_sendDataEvent</a>.<a class="code" href="classns3_1_1_event_id.html#a993ae94e48e014e1afd47edb16db7a11">Cancel</a> ();</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;      oneRunning = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    }</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_mac_low.html#abdfe679a569b3b5b3262b08ccc8f5df8">m_waitIfsEvent</a>.<a class="code" href="classns3_1_1_event_id.html#a8b41e6f8c54db6bede8a7dcaf917074a">IsRunning</a> ())</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    {</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#abdfe679a569b3b5b3262b08ccc8f5df8">m_waitIfsEvent</a>.<a class="code" href="classns3_1_1_event_id.html#a993ae94e48e014e1afd47edb16db7a11">Cancel</a> ();</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;      oneRunning = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    }</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_mac_low.html#a25990734c06d4df0d75276f52e103f8a">m_endTxNoAckEvent</a>.<a class="code" href="classns3_1_1_event_id.html#a8b41e6f8c54db6bede8a7dcaf917074a">IsRunning</a> ())</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    {</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#a25990734c06d4df0d75276f52e103f8a">m_endTxNoAckEvent</a>.<a class="code" href="classns3_1_1_event_id.html#a993ae94e48e014e1afd47edb16db7a11">Cancel</a> ();</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;      oneRunning = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    }</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  <span class="keywordflow">if</span> (oneRunning &amp;&amp; <a class="code" href="classns3_1_1_mac_low.html#a811ffb89964a59347ee294e3d233f36c">m_currentTxop</a> != 0)</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    {</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#a811ffb89964a59347ee294e3d233f36c">m_currentTxop</a>-&gt;<a class="code" href="classns3_1_1_txop.html#a94c2cad7d507ebba1f9a0289c6a7fac4">Cancel</a> ();</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#a811ffb89964a59347ee294e3d233f36c">m_currentTxop</a> = 0;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    }</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;}</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160; </div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l00253"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#abbd1aac31c7ed79f717b9c92cb664608">  253</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#abbd1aac31c7ed79f717b9c92cb664608">MacLow::SetPhy</a> (<span class="keyword">const</span> <a class="code" href="classns3_1_1_ptr.html">Ptr&lt;WifiPhy&gt;</a> <a class="code" href="namespacethird.html#afd1150b3dae0722a64278ec9f040f321">phy</a>)</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;{</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a> = <a class="code" href="namespacethird.html#afd1150b3dae0722a64278ec9f040f321">phy</a>;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_object_base.html#a1be45f6fd561e75dcac9dfa81b2b81e4">TraceConnectWithoutContext</a> (<span class="stringliteral">&quot;PhyRxPayloadBegin&quot;</span>, <a class="code" href="group__makecallbackmemptr.html#ga9376283685aa99d204048d6a4b7610a4">MakeCallback</a> (&amp;<a class="code" href="classns3_1_1_mac_low.html#af096a2fe9597c4ca80ae1af4870a45a8">MacLow::RxStartIndication</a>, <span class="keyword">this</span>));</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#adc3aa3a59f36e5c84f8d759bb15a5bf0">SetReceiveOkCallback</a> (<a class="code" href="group__makecallbackmemptr.html#ga9376283685aa99d204048d6a4b7610a4">MakeCallback</a> (&amp;<a class="code" href="classns3_1_1_mac_low.html#abac7baed9f0aaeb684e84f44819bce30">MacLow::DeaggregateAmpduAndReceive</a>, <span class="keyword">this</span>));</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#a50d71b88c866ecfc18cd4006f1a9d2ae">SetReceiveErrorCallback</a> (<a class="code" href="group__makecallbackmemptr.html#ga9376283685aa99d204048d6a4b7610a4">MakeCallback</a> (&amp;<a class="code" href="classns3_1_1_mac_low.html#a9e44540e30598260fce5d85d5a6dda18">MacLow::ReceiveError</a>, <span class="keyword">this</span>));</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#afbed28d856f8af3b560c18e336538a4a">SetupPhyMacLowListener</a> (<a class="code" href="namespacethird.html#afd1150b3dae0722a64278ec9f040f321">phy</a>);</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;}</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160; </div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<a class="code" href="classns3_1_1_ptr.html">Ptr&lt;WifiPhy&gt;</a></div>
<div class="line"><a name="l00263"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#ae13a7fe07e7f9c7eddfc14bc8bbc2734">  263</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#ae13a7fe07e7f9c7eddfc14bc8bbc2734">MacLow::GetPhy</a> (<span class="keywordtype">void</span>)<span class="keyword"> const</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;}</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160; </div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l00269"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#a4158eb64f54ae53935769cdf0b12aafb">  269</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#a4158eb64f54ae53935769cdf0b12aafb">MacLow::ResetPhy</a> (<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;{</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_object_base.html#a460d74131ef97d9d7ba79c6d70b2f304">TraceDisconnectWithoutContext</a> (<span class="stringliteral">&quot;PhyRxPayloadBegin&quot;</span>, <a class="code" href="group__makecallbackmemptr.html#ga9376283685aa99d204048d6a4b7610a4">MakeCallback</a> (&amp;<a class="code" href="classns3_1_1_mac_low.html#af096a2fe9597c4ca80ae1af4870a45a8">MacLow::RxStartIndication</a>, <span class="keyword">this</span>));</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#adc3aa3a59f36e5c84f8d759bb15a5bf0">SetReceiveOkCallback</a> (<a class="code" href="group__makenullcallback.html#ga7e3cd6816f63ea9112c04b0086c2c65a">MakeNullCallback</a>&lt;<span class="keywordtype">void</span>, <a class="code" href="classns3_1_1_ptr.html">Ptr&lt;WifiPsdu&gt;</a>, <span class="keywordtype">double</span>, <a class="code" href="classns3_1_1_wifi_tx_vector.html">WifiTxVector</a>, std::vector&lt;bool&gt;&gt; ());</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#a50d71b88c866ecfc18cd4006f1a9d2ae">SetReceiveErrorCallback</a> (<a class="code" href="group__makenullcallback.html#ga7e3cd6816f63ea9112c04b0086c2c65a">MakeNullCallback</a>&lt;<span class="keywordtype">void</span>, <a class="code" href="classns3_1_1_ptr.html">Ptr&lt;WifiPsdu&gt;</a>&gt; ());</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#afc60cdc4693e2fb6b2257aa015b9ec30">RemovePhyMacLowListener</a> (<a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a> = 0;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;}</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160; </div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<a class="code" href="classns3_1_1_ptr.html">Ptr&lt;QosTxop&gt;</a></div>
<div class="line"><a name="l00279"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#abf3b15e9144d9a23f4260d5a449bc8b3">  279</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#abf3b15e9144d9a23f4260d5a449bc8b3">MacLow::GetEdca</a> (uint8_t tid)<span class="keyword"> const</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  <span class="keyword">auto</span> it = <a class="code" href="classns3_1_1_mac_low.html#a754751ba4152c9337611a5f015045a44">m_edca</a>.find (<a class="code" href="group__wifi.html#ga4e36efcff6dd83eaee42e1af0de43d48">QosUtilsMapTidToAc</a> (tid));</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  <a class="code" href="group__assert.html#ga6dccdb0de9b252f60088ce281c49d052">NS_ASSERT</a> (it != <a class="code" href="classns3_1_1_mac_low.html#a754751ba4152c9337611a5f015045a44">m_edca</a>.end ());</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  <span class="keywordflow">return</span> it-&gt;second;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;}</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160; </div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l00287"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#a7459caeb565ede46bccdd3e12f709414">  287</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#a7459caeb565ede46bccdd3e12f709414">MacLow::SetMac</a> (<span class="keyword">const</span> <a class="code" href="classns3_1_1_ptr.html">Ptr&lt;WifiMac&gt;</a> <a class="code" href="namespacethird.html#ab3f6aafb47da74f864e962e074e2193b">mac</a>)</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;{</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#acf603e550faecfb55ca374c22efad15a">m_mac</a> = <a class="code" href="namespacethird.html#ab3f6aafb47da74f864e962e074e2193b">mac</a>;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;}</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160; </div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l00293"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#acd82a8d94b49f6caea5b14839d55ce12">  293</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#acd82a8d94b49f6caea5b14839d55ce12">MacLow::SetWifiRemoteStationManager</a> (<span class="keyword">const</span> <a class="code" href="classns3_1_1_ptr.html">Ptr&lt;WifiRemoteStationManager&gt;</a> manager)</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;{</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#a1c7f45f071f9e5eb97764f64e5cdaf1b">m_stationManager</a> = manager;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;}</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160; </div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<a class="code" href="classns3_1_1_ptr.html">Ptr&lt;MsduAggregator&gt;</a></div>
<div class="line"><a name="l00299"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#ae23bafb9b86cc84f1fe0f1478df8074d">  299</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#ae23bafb9b86cc84f1fe0f1478df8074d">MacLow::GetMsduAggregator</a> (<span class="keywordtype">void</span>)<span class="keyword"> const</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classns3_1_1_mac_low.html#a53d07c20bd3ddab4689c3b310aa4e1f6">m_msduAggregator</a>;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;}</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160; </div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<a class="code" href="classns3_1_1_ptr.html">Ptr&lt;MpduAggregator&gt;</a></div>
<div class="line"><a name="l00305"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#ae7f7693d58465743e13315e405f61c53">  305</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#ae7f7693d58465743e13315e405f61c53">MacLow::GetMpduAggregator</a> (<span class="keywordtype">void</span>)<span class="keyword"> const</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classns3_1_1_mac_low.html#a344c9eac713132195e310bb51e4ab020">m_mpduAggregator</a>;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;}</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160; </div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l00311"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#ae8b9fcc1f36a09a2b865fe2bd08a1411">  311</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#ae8b9fcc1f36a09a2b865fe2bd08a1411">MacLow::SetMsduAggregator</a> (<span class="keyword">const</span> <a class="code" href="classns3_1_1_ptr.html">Ptr&lt;MsduAggregator&gt;</a> aggr)</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;{</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  <a class="code" href="group__logging.html#ga90b90d5bad1f39cb1b64923ea94c0761">NS_LOG_FUNCTION</a> (<span class="keyword">this</span> &lt;&lt; aggr);</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#a53d07c20bd3ddab4689c3b310aa4e1f6">m_msduAggregator</a> = aggr;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;}</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160; </div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l00318"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#a3494d845008031776854708267762014">  318</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#a3494d845008031776854708267762014">MacLow::SetMpduAggregator</a> (<span class="keyword">const</span> <a class="code" href="classns3_1_1_ptr.html">Ptr&lt;MpduAggregator&gt;</a> aggr)</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;{</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  <a class="code" href="group__logging.html#ga90b90d5bad1f39cb1b64923ea94c0761">NS_LOG_FUNCTION</a> (<span class="keyword">this</span> &lt;&lt; aggr);</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#a344c9eac713132195e310bb51e4ab020">m_mpduAggregator</a> = aggr;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;}</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160; </div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l00325"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#a399290b378df4e041b9c4f7cc7b9b465">  325</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#a399290b378df4e041b9c4f7cc7b9b465">MacLow::SetAddress</a> (<a class="code" href="classns3_1_1_mac48_address.html">Mac48Address</a> ad)</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;{</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#a23004ca5405c82111f5b20eec03b3d9a">m_self</a> = ad;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;}</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160; </div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l00331"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#a602bb522f4cddf49eb8c577884c3fe31">  331</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#a602bb522f4cddf49eb8c577884c3fe31">MacLow::SetAckTimeout</a> (<a class="code" href="classns3_1_1_time.html">Time</a> ackTimeout)</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;{</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#a5889cbf3ea77554b9eb0cf1a618a2db8">m_ackTimeout</a> = ackTimeout;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;}</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160; </div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l00337"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#a3f9121a1c2608442164419550ffa8ea5">  337</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#a3f9121a1c2608442164419550ffa8ea5">MacLow::SetBasicBlockAckTimeout</a> (<a class="code" href="classns3_1_1_time.html">Time</a> blockAckTimeout)</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;{</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#a3bc501e96dd54acfcfec0dbbfeb487e7">m_basicBlockAckTimeout</a> = blockAckTimeout;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;}</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160; </div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l00343"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#af756b3e62a77278698fb4fafc042b42b">  343</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#af756b3e62a77278698fb4fafc042b42b">MacLow::SetCompressedBlockAckTimeout</a> (<a class="code" href="classns3_1_1_time.html">Time</a> blockAckTimeout)</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;{</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#af859368621713602f22944a1a00f9aab">m_compressedBlockAckTimeout</a> = blockAckTimeout;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;}</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160; </div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l00349"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#a5607ecee6bb1d6a26e1a373e85b2f3d3">  349</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#a5607ecee6bb1d6a26e1a373e85b2f3d3">MacLow::SetCtsToSelfSupported</a> (<span class="keywordtype">bool</span> enable)</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;{</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#a3f4e1bf0128e68f6d2b708d66357ac5e">m_ctsToSelfSupported</a> = enable;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;}</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160; </div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="keywordtype">bool</span></div>
<div class="line"><a name="l00355"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#a348f7690a2c9c52f4855a155e1ba9979">  355</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#a348f7690a2c9c52f4855a155e1ba9979">MacLow::GetCtsToSelfSupported</a> (<span class="keywordtype">void</span>)<span class="keyword"> const</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classns3_1_1_mac_low.html#a3f4e1bf0128e68f6d2b708d66357ac5e">m_ctsToSelfSupported</a>;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;}</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160; </div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l00361"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#a105b29449995514e14ec554dfa499dbd">  361</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#a105b29449995514e14ec554dfa499dbd">MacLow::SetSifs</a> (<a class="code" href="classns3_1_1_time.html">Time</a> sifs)</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;{</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#ad8abf26b1e85563b8e9b2cfd1849226c">m_sifs</a> = sifs;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;}</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160; </div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l00367"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#a4ee65e0fe3be7f52b42ea555ac8402b3">  367</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#a4ee65e0fe3be7f52b42ea555ac8402b3">MacLow::SetSlotTime</a> (<a class="code" href="classns3_1_1_time.html">Time</a> slotTime)</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;{</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#a76eff59c8a4983b9830edf3c6ef5e76e">m_slotTime</a> = slotTime;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;}</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160; </div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l00373"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#aa8a6853ba185a9a5c1fddc2a8e6c91ad">  373</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#aa8a6853ba185a9a5c1fddc2a8e6c91ad">MacLow::SetPifs</a> (<a class="code" href="classns3_1_1_time.html">Time</a> pifs)</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;{</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#a115cd42f0f4a32f94c7cf80f3ad8efe9">m_pifs</a> = pifs;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;}</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160; </div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l00379"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#a6ef95dfa5571e843bd91d5b26c658c82">  379</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#a6ef95dfa5571e843bd91d5b26c658c82">MacLow::SetRifs</a> (<a class="code" href="classns3_1_1_time.html">Time</a> rifs)</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;{</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#afb4a9a2b443271b3dab4091c3e7190c7">m_rifs</a> = rifs;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;}</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160; </div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l00385"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#a4832a50a7913887f62095d99bfd945fc">  385</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#a4832a50a7913887f62095d99bfd945fc">MacLow::SetBeaconInterval</a> (<a class="code" href="classns3_1_1_time.html">Time</a> interval)</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;{</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#a3dcd869eb3025e81c85799a1396ead65">m_beaconInterval</a> = interval;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;}</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160; </div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l00391"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#af0a861b5fd21d55283eb7ed461a87b24">  391</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#af0a861b5fd21d55283eb7ed461a87b24">MacLow::SetCfpMaxDuration</a> (<a class="code" href="classns3_1_1_time.html">Time</a> cfpMaxDuration)</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;{</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#aae92b06e39370714db8e6275ccc71e7f">m_cfpMaxDuration</a> = cfpMaxDuration;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;}</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160; </div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l00397"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#a92532da5f910843337b8bbb51f551c03">  397</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#a92532da5f910843337b8bbb51f551c03">MacLow::SetBssid</a> (<a class="code" href="classns3_1_1_mac48_address.html">Mac48Address</a> bssid)</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;{</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#a36761d1d6c972817b9e2361952180923">m_bssid</a> = bssid;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;}</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160; </div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l00403"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#a3d6785cf29b733798a17c84036d42adf">  403</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#a3d6785cf29b733798a17c84036d42adf">MacLow::SetPromisc</a> (<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;{</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#ad13beb74b1519291ee00d14f1d532fdb">m_promisc</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;}</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160; </div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;<a class="code" href="classns3_1_1_mac48_address.html">Mac48Address</a></div>
<div class="line"><a name="l00409"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#a35d51772cdcda1846a7777f09c81888e">  409</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#a35d51772cdcda1846a7777f09c81888e">MacLow::GetAddress</a> (<span class="keywordtype">void</span>)<span class="keyword"> const</span></div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classns3_1_1_mac_low.html#a23004ca5405c82111f5b20eec03b3d9a">m_self</a>;</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;}</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160; </div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;<a class="code" href="classns3_1_1_time.html">Time</a></div>
<div class="line"><a name="l00415"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#a74a42206fe3f60fd13df4e8ee8d064f1">  415</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#a74a42206fe3f60fd13df4e8ee8d064f1">MacLow::GetAckTimeout</a> (<span class="keywordtype">void</span>)<span class="keyword"> const</span></div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classns3_1_1_mac_low.html#a5889cbf3ea77554b9eb0cf1a618a2db8">m_ackTimeout</a>;</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;}</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160; </div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<a class="code" href="classns3_1_1_time.html">Time</a></div>
<div class="line"><a name="l00421"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#aa6ae64427a226a80a437e3ea12a57ec5">  421</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#aa6ae64427a226a80a437e3ea12a57ec5">MacLow::GetBasicBlockAckTimeout</a> (<span class="keywordtype">void</span>)<span class="keyword"> const</span></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classns3_1_1_mac_low.html#a3bc501e96dd54acfcfec0dbbfeb487e7">m_basicBlockAckTimeout</a>;</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;}</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160; </div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;<a class="code" href="classns3_1_1_time.html">Time</a></div>
<div class="line"><a name="l00427"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#a6bbec29d05649f48e4aa4cc87fc8d478">  427</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#a6bbec29d05649f48e4aa4cc87fc8d478">MacLow::GetCompressedBlockAckTimeout</a> (<span class="keywordtype">void</span>)<span class="keyword"> const</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classns3_1_1_mac_low.html#af859368621713602f22944a1a00f9aab">m_compressedBlockAckTimeout</a>;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;}</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160; </div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;<a class="code" href="classns3_1_1_time.html">Time</a></div>
<div class="line"><a name="l00433"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#a142444428826e0a5f67265dfd7b0f4d2">  433</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#a142444428826e0a5f67265dfd7b0f4d2">MacLow::GetSifs</a> (<span class="keywordtype">void</span>)<span class="keyword"> const</span></div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classns3_1_1_mac_low.html#ad8abf26b1e85563b8e9b2cfd1849226c">m_sifs</a>;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;}</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160; </div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<a class="code" href="classns3_1_1_time.html">Time</a></div>
<div class="line"><a name="l00439"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#a42324a6a9affe03004a854dc0daa5f27">  439</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#a42324a6a9affe03004a854dc0daa5f27">MacLow::GetRifs</a> (<span class="keywordtype">void</span>)<span class="keyword"> const</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classns3_1_1_mac_low.html#afb4a9a2b443271b3dab4091c3e7190c7">m_rifs</a>;</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;}</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160; </div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;<a class="code" href="classns3_1_1_time.html">Time</a></div>
<div class="line"><a name="l00445"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#a6c8806c531633adc7e524eba5e2f3106">  445</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#a6c8806c531633adc7e524eba5e2f3106">MacLow::GetSlotTime</a> (<span class="keywordtype">void</span>)<span class="keyword"> const</span></div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classns3_1_1_mac_low.html#a76eff59c8a4983b9830edf3c6ef5e76e">m_slotTime</a>;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;}</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160; </div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;<a class="code" href="classns3_1_1_time.html">Time</a></div>
<div class="line"><a name="l00451"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#afd08d9063efedbf52da3e4f7ac790749">  451</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#afd08d9063efedbf52da3e4f7ac790749">MacLow::GetPifs</a> (<span class="keywordtype">void</span>)<span class="keyword"> const</span></div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classns3_1_1_mac_low.html#a115cd42f0f4a32f94c7cf80f3ad8efe9">m_pifs</a>;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;}</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160; </div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;<a class="code" href="classns3_1_1_mac48_address.html">Mac48Address</a></div>
<div class="line"><a name="l00457"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#a08ebbbb1992e3583cd2bc63d45ee2749">  457</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#a08ebbbb1992e3583cd2bc63d45ee2749">MacLow::GetBssid</a> (<span class="keywordtype">void</span>)<span class="keyword"> const</span></div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classns3_1_1_mac_low.html#a36761d1d6c972817b9e2361952180923">m_bssid</a>;</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;}</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160; </div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;<a class="code" href="classns3_1_1_time.html">Time</a></div>
<div class="line"><a name="l00463"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#adfbc0b3adec166be1dacd9e5aa831252">  463</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#adfbc0b3adec166be1dacd9e5aa831252">MacLow::GetBeaconInterval</a> (<span class="keywordtype">void</span>)<span class="keyword"> const</span></div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classns3_1_1_mac_low.html#a3dcd869eb3025e81c85799a1396ead65">m_beaconInterval</a>;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;}</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160; </div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;<a class="code" href="classns3_1_1_time.html">Time</a></div>
<div class="line"><a name="l00469"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#af47d4269c05b5283c08d4ab991637457">  469</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#af47d4269c05b5283c08d4ab991637457">MacLow::GetCfpMaxDuration</a> (<span class="keywordtype">void</span>)<span class="keyword"> const</span></div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classns3_1_1_mac_low.html#aae92b06e39370714db8e6275ccc71e7f">m_cfpMaxDuration</a>;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;}</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160; </div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;<span class="keywordtype">bool</span></div>
<div class="line"><a name="l00475"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#a5857e879d0297918d6d800ac6db37924">  475</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#a5857e879d0297918d6d800ac6db37924">MacLow::IsPromisc</a> (<span class="keywordtype">void</span>)<span class="keyword"> const</span></div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classns3_1_1_mac_low.html#ad13beb74b1519291ee00d14f1d532fdb">m_promisc</a>;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;}</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160; </div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l00481"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#a7fcedfbd193e2ce2c96d59b464e86966">  481</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#a7fcedfbd193e2ce2c96d59b464e86966">MacLow::SetRxCallback</a> (<a class="code" href="classns3_1_1_callback.html">Callback</a>&lt;<span class="keywordtype">void</span>, <a class="code" href="classns3_1_1_ptr.html">Ptr&lt;WifiMacQueueItem&gt;</a>&gt; callback)</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;{</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#ac5f2b06b6151c99816c66b7bf946a4d8">m_rxCallback</a> = callback;</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;}</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160; </div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l00487"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#ae10230a028a5fa992f8789c89fe3f54b">  487</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#ae10230a028a5fa992f8789c89fe3f54b">MacLow::RegisterChannelAccessManager</a> (<a class="code" href="classns3_1_1_ptr.html">Ptr&lt;ChannelAccessManager&gt;</a> channelAccessManager)</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;{</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#ac8256ce92507eb4a5b9b957e0935d045">m_channelAccessManagers</a>.push_back (channelAccessManager);</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;}</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160; </div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l00493"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#aa477261c5209c13c66af9e2ae78b07e5">  493</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#aa477261c5209c13c66af9e2ae78b07e5">MacLow::StartTransmission</a> (<a class="code" href="classns3_1_1_ptr.html">Ptr&lt;WifiMacQueueItem&gt;</a> mpdu,</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;                           <a class="code" href="classns3_1_1_mac_low_transmission_parameters.html">MacLowTransmissionParameters</a> <a class="code" href="namespacealoha.html#aff1381c591fdaf9d3af2b19080c9eed7">params</a>,</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;                           <a class="code" href="classns3_1_1_ptr.html">Ptr&lt;Txop&gt;</a> txop)</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;{</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;  <a class="code" href="group__logging.html#ga90b90d5bad1f39cb1b64923ea94c0761">NS_LOG_FUNCTION</a> (<span class="keyword">this</span> &lt;&lt; *mpdu &lt;&lt; <a class="code" href="namespacealoha.html#aff1381c591fdaf9d3af2b19080c9eed7">params</a> &lt;&lt; txop);</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  <a class="code" href="group__assert.html#ga6dccdb0de9b252f60088ce281c49d052">NS_ASSERT</a> (!<a class="code" href="classns3_1_1_mac_low.html#a57b40499d27ce4a39651572c1472b121">m_cfAckInfo</a>.<a class="code" href="structns3_1_1_mac_low_1_1_cf_ack_info.html#a8c676c7b0cb72efd7f2a1cfda9c65d01">expectCfAck</a>);</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#af8e36d9c6e315830857383cfa32ba90e">IsStateOff</a> ())</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    {</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;      <a class="code" href="group__logging.html#ga413f1886406d49f59a6a0a89b77b4d0a">NS_LOG_DEBUG</a> (<span class="stringliteral">&quot;Cannot start TX because device is OFF&quot;</span>);</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    }</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  <span class="comment">/* m_currentPacket is not NULL because someone started</span></div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;<span class="comment">   * a transmission and was interrupted before one of:</span></div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;<span class="comment">   *   - ctsTimeout</span></div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;<span class="comment">   *   - sendDataAfterCTS</span></div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;<span class="comment">   * expired. This means that one of these timers is still</span></div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;<span class="comment">   * running. They are all cancelled below anyway by the</span></div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;<span class="comment">   * call to CancelAllEvents (because of at least one</span></div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;<span class="comment">   * of these two timers) which will trigger a call to the</span></div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;<span class="comment">   * previous listener&#39;s cancel method.</span></div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;<span class="comment">   * This typically happens because the high-priority</span></div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;<span class="comment">   * QapScheduler has taken access to the channel from</span></div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;<span class="comment">   * one of the EDCA of the QAP.</span></div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a> = Create&lt;WifiPsdu&gt; (mpdu, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  <span class="keyword">const</span> <a class="code" href="classns3_1_1_wifi_mac_header.html">WifiMacHeader</a>&amp; hdr = mpdu-&gt;<a class="code" href="classns3_1_1_wifi_mac_queue_item.html#aeb59c1e3b526361838d5d3a6f3035039">GetHeader</a> ();</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#afecf8a67fd2052dc23f94e77b9768d6b">CancelAllEvents</a> ();</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#a811ffb89964a59347ee294e3d233f36c">m_currentTxop</a> = txop;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#a1c5ce6a0415d4a6d394bc9fc8f78327d">m_txParams</a> = <a class="code" href="namespacealoha.html#aff1381c591fdaf9d3af2b19080c9eed7">params</a>;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  <span class="keywordflow">if</span> (hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a035659d44f96e937bedc7a99fdadfb79">IsCtl</a> ())</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    {</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#af87bd81ded4d362f9f1dc89dbbee65a3">m_currentTxVector</a> = <a class="code" href="classns3_1_1_mac_low.html#a89fbeddfe91a47f0dcc1f3d7fd5108a0">GetRtsTxVector</a> (mpdu);</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    }</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    {</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#af87bd81ded4d362f9f1dc89dbbee65a3">m_currentTxVector</a> = <a class="code" href="classns3_1_1_mac_low.html#aeb3a8ccdb7a068b7ee69d507a66a1b60">GetDataTxVector</a> (mpdu);</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    }</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160; </div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;  <span class="comment">/* The packet received by this function can be any of the following:</span></div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;<span class="comment">   * (a) a management frame dequeued from the Txop</span></div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;<span class="comment">   * (b) a non-QoS data frame dequeued from the Txop</span></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;<span class="comment">   * (c) a non-broadcast QoS Data frame peeked or dequeued from a QosTxop</span></div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;<span class="comment">   * (d) a broadcast QoS data or DELBA Request frame dequeued from a QosTxop</span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;<span class="comment">   * (e) a BlockAckReq or ADDBA Request frame</span></div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;<span class="comment">   * (f) a fragment of non-QoS/QoS Data frame dequeued from the Txop/QosTxop</span></div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;  <span class="keywordflow">if</span> (hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a368b97ef91b953af76794112fd3681c2">IsQosData</a> () &amp;&amp; !hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#aa1c4acbda4ace9f7a920c97d71bdd097">GetAddr1</a> ().<a class="code" href="classns3_1_1_mac48_address.html#a89506622bfa63c3b1a7d5d82e2dbbd2d">IsBroadcast</a> ()</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;      &amp;&amp; !hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#aca9ed3a0624958d52169c3c7ec709a77">IsMoreFragments</a> () &amp;&amp; hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#ad9561dff47c79b01053238ae56f08144">GetFragmentNumber</a> () == 0)</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    {</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;      <span class="comment">// We get here if the received packet is a non-broadcast QoS data frame</span></div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;      uint8_t tid = hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a07391fd5b12f7a90fe55325fcccc8e3a">GetQosTid</a> ();</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;      <a class="code" href="classns3_1_1_ptr.html">Ptr&lt;QosTxop&gt;</a> qosTxop = <a class="code" href="classns3_1_1_mac_low.html#a754751ba4152c9337611a5f015045a44">m_edca</a>.find (<a class="code" href="group__wifi.html#ga4e36efcff6dd83eaee42e1af0de43d48">QosUtilsMapTidToAc</a> (tid))-&gt;second;</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160; </div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;      <span class="comment">// if a TXOP limit exists, compute the remaining TXOP duration</span></div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;      <a class="code" href="classns3_1_1_time.html">Time</a> txopLimit = <a class="code" href="classns3_1_1_time.html#a75169ee37c557c616eb79e1a15ed09b7">Time::Min</a> ();</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_mac_low.html#a811ffb89964a59347ee294e3d233f36c">m_currentTxop</a>-&gt;<a class="code" href="classns3_1_1_txop.html#a4c3271887c9fb5dcb2ef61651a3a60de">GetTxopLimit</a> ().<a class="code" href="classns3_1_1_time.html#a0d01aeab2308df799ea2f340d816d4c5">IsStrictlyPositive</a> ())</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;        {</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;          txopLimit = <a class="code" href="classns3_1_1_mac_low.html#a811ffb89964a59347ee294e3d233f36c">m_currentTxop</a>-&gt;<a class="code" href="classns3_1_1_txop.html#a728794caac9a10954c087382fa5e52e3">GetTxopRemaining</a> () - <a class="code" href="classns3_1_1_mac_low.html#aa2d5acb9a87a417cfa46a4e8b4a8ed01">CalculateOverheadTxTime</a> (mpdu, <a class="code" href="classns3_1_1_mac_low.html#a1c5ce6a0415d4a6d394bc9fc8f78327d">m_txParams</a>);</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;          <a class="code" href="group__assert.html#ga6dccdb0de9b252f60088ce281c49d052">NS_ASSERT</a> (txopLimit.<a class="code" href="classns3_1_1_time.html#a4f51b65effdc06da17175290bbaca766">IsPositive</a> ());</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        }</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160; </div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;      <span class="comment">// QosTxop may send us a peeked frame</span></div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;      <a class="code" href="classns3_1_1_ptr.html">Ptr&lt;const WifiMacQueueItem&gt;</a> tmp = qosTxop-&gt;<a class="code" href="classns3_1_1_qos_txop.html#ab3593f49a4393ec17d161f67343d7377">PeekNextFrame</a> ();</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;      <span class="keywordtype">bool</span> isPeeked = (tmp != 0 &amp;&amp; tmp-&gt;GetPacket () == mpdu-&gt;<a class="code" href="classns3_1_1_wifi_mac_queue_item.html#a01d29092eafa110090998f339bfabd97">GetPacket</a> ());</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160; </div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;      <a class="code" href="classns3_1_1_ptr.html">Ptr&lt;WifiMacQueueItem&gt;</a> newMpdu;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;      <span class="comment">// If the frame has been peeked, dequeue it if it meets the size and duration constraints</span></div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;      <span class="keywordflow">if</span> (isPeeked)</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        {</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;          newMpdu = qosTxop-&gt;<a class="code" href="classns3_1_1_qos_txop.html#aca4454e7f7b309895c944e4e82069eda">DequeuePeekedFrame</a> (mpdu, <a class="code" href="classns3_1_1_mac_low.html#af87bd81ded4d362f9f1dc89dbbee65a3">m_currentTxVector</a>, <span class="keyword">true</span>, 0, txopLimit);</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        }</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_mac_low.html#a5c4f4debe30b56507a057c89a693e26b">IsWithinSizeAndTimeLimits</a> (mpdu, <a class="code" href="classns3_1_1_mac_low.html#af87bd81ded4d362f9f1dc89dbbee65a3">m_currentTxVector</a>, 0, txopLimit))</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;        {</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;          newMpdu = mpdu;</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        }</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160; </div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;      <span class="keywordflow">if</span> (newMpdu == 0)</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;        {</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;          <span class="comment">// if the frame has been dequeued, then there is no BA agreement with the</span></div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;          <span class="comment">// receiver (otherwise the frame would have been peeked). Hence, the frame</span></div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;          <span class="comment">// has been sent under Normal Ack policy, not acknowledged and now retransmitted.</span></div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;          <span class="comment">// If we cannot send it now, let the QosTxop retransmit it again.</span></div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;          <span class="comment">// If the frame has been just peeked, reset the current packet at QosTxop.</span></div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;          <span class="keywordflow">if</span> (isPeeked)</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;            {</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;              qosTxop-&gt;<a class="code" href="classns3_1_1_qos_txop.html#a59dd6757e11b14cdc74b26bcbc540250">UpdateCurrentPacket</a> (Create&lt;WifiMacQueueItem&gt; (<span class="keyword">nullptr</span>, <a class="code" href="classns3_1_1_wifi_mac_header.html">WifiMacHeader</a> ()));</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;            }</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;          <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;        }</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;      <span class="comment">// Update the current packet at QosTxop, given that A-MSDU aggregation may have</span></div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;      <span class="comment">// been performed on the peeked frame</span></div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;      qosTxop-&gt;<a class="code" href="classns3_1_1_qos_txop.html#a59dd6757e11b14cdc74b26bcbc540250">UpdateCurrentPacket</a> (newMpdu);</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160; </div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;      <span class="comment">//Perform MPDU aggregation if possible</span></div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;      std::vector&lt;Ptr&lt;WifiMacQueueItem&gt;&gt; mpduList;</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_mac_low.html#a344c9eac713132195e310bb51e4ab020">m_mpduAggregator</a> != 0)</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;        {</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;          mpduList = <a class="code" href="classns3_1_1_mac_low.html#a344c9eac713132195e310bb51e4ab020">m_mpduAggregator</a>-&gt;GetNextAmpdu (newMpdu, <a class="code" href="classns3_1_1_mac_low.html#af87bd81ded4d362f9f1dc89dbbee65a3">m_currentTxVector</a>, txopLimit);</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;        }</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160; </div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;      <span class="keywordflow">if</span> (mpduList.size () &gt; 1)</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;        {</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;          <a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a> = Create&lt;WifiPsdu&gt; (mpduList);</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160; </div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;          <a class="code" href="group__logging.html#ga413f1886406d49f59a6a0a89b77b4d0a">NS_LOG_DEBUG</a> (<span class="stringliteral">&quot;tx unicast A-MPDU containing &quot;</span> &lt;&lt; mpduList.size () &lt;&lt; <span class="stringliteral">&quot; MPDUs&quot;</span>);</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;          qosTxop-&gt;<a class="code" href="classns3_1_1_qos_txop.html#a08a5daf387b35d84c01ddc4c47d230c1">SetAmpduExist</a> (hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#aa1c4acbda4ace9f7a920c97d71bdd097">GetAddr1</a> (), <span class="keyword">true</span>);</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;        }</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_mac_low.html#af87bd81ded4d362f9f1dc89dbbee65a3">m_currentTxVector</a>.<a class="code" href="classns3_1_1_wifi_tx_vector.html#aadd3ccf9d68dd8f06d4cfedc352498fb">GetMode</a> ().<a class="code" href="classns3_1_1_wifi_mode.html#a67e1664cac501221b63a2be307184cc9">GetModulationClass</a> () == <a class="code" href="namespacens3.html#aa999e1221606a2b21b1eb33c2007c217a9863e4342bf5c238c74dddfc4d96c67e">WIFI_MOD_CLASS_VHT</a></div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;               || <a class="code" href="classns3_1_1_mac_low.html#af87bd81ded4d362f9f1dc89dbbee65a3">m_currentTxVector</a>.<a class="code" href="classns3_1_1_wifi_tx_vector.html#aadd3ccf9d68dd8f06d4cfedc352498fb">GetMode</a> ().<a class="code" href="classns3_1_1_wifi_mode.html#a67e1664cac501221b63a2be307184cc9">GetModulationClass</a> () == <a class="code" href="namespacens3.html#aa999e1221606a2b21b1eb33c2007c217abfa4f7272510045a9b43e8ac27ac13b0">WIFI_MOD_CLASS_HE</a>)</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;        {</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;          <span class="comment">// VHT/HE single MPDU</span></div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;          <a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a> = Create&lt;WifiPsdu&gt; (newMpdu, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160; </div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;          <a class="code" href="group__logging.html#ga413f1886406d49f59a6a0a89b77b4d0a">NS_LOG_DEBUG</a> (<span class="stringliteral">&quot;tx unicast S-MPDU with sequence number &quot;</span> &lt;&lt; hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a3d393ad4f9cfaca5ce0ac239a27f2763">GetSequenceNumber</a> ());</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;          qosTxop-&gt;<a class="code" href="classns3_1_1_qos_txop.html#a08a5daf387b35d84c01ddc4c47d230c1">SetAmpduExist</a> (hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#aa1c4acbda4ace9f7a920c97d71bdd097">GetAddr1</a> (), <span class="keyword">true</span>);</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;        }</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;      <span class="keywordflow">else</span>  <span class="comment">// HT</span></div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;        {</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;          <a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a> = Create&lt;WifiPsdu&gt; (newMpdu, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;        }</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160; </div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;      <span class="comment">// A QoS Txop must have an installed ack policy selector</span></div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;      <a class="code" href="group__assert.html#ga6dccdb0de9b252f60088ce281c49d052">NS_ASSERT</a> (qosTxop-&gt;<a class="code" href="classns3_1_1_qos_txop.html#ae4df8886ca4f21adb32e17bbe85d41d0">GetAckPolicySelector</a> () != 0);</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;      qosTxop-&gt;<a class="code" href="classns3_1_1_qos_txop.html#ae4df8886ca4f21adb32e17bbe85d41d0">GetAckPolicySelector</a> ()-&gt;UpdateTxParams (<a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a>, <a class="code" href="classns3_1_1_mac_low.html#a1c5ce6a0415d4a6d394bc9fc8f78327d">m_txParams</a>);</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;      qosTxop-&gt;<a class="code" href="classns3_1_1_qos_txop.html#ae4df8886ca4f21adb32e17bbe85d41d0">GetAckPolicySelector</a> ()-&gt;SetAckPolicy (<a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a>, <a class="code" href="classns3_1_1_mac_low.html#a1c5ce6a0415d4a6d394bc9fc8f78327d">m_txParams</a>);</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    }</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160; </div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;  <a class="code" href="group__logging.html#ga413f1886406d49f59a6a0a89b77b4d0a">NS_LOG_DEBUG</a> (<span class="stringliteral">&quot;startTx size=&quot;</span> &lt;&lt; <a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a>-&gt;GetSize () &lt;&lt;</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;                <span class="stringliteral">&quot;, to=&quot;</span> &lt;&lt; <a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a>-&gt;GetAddr1 () &lt;&lt; <span class="stringliteral">&quot;, txop=&quot;</span> &lt;&lt; <a class="code" href="classns3_1_1_mac_low.html#a811ffb89964a59347ee294e3d233f36c">m_currentTxop</a>);</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160; </div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_mac_low.html#a1c5ce6a0415d4a6d394bc9fc8f78327d">m_txParams</a>.<a class="code" href="classns3_1_1_mac_low_transmission_parameters.html#a45d8fd5c62e59a4a41c77aee3fe668f7">MustSendRts</a> ())</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    {</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#ac472702b866a51ea2dfb7637381897aa">SendRtsForPacket</a> ();</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    }</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    {</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;      <span class="keywordflow">if</span> ((<a class="code" href="classns3_1_1_mac_low.html#a3f4e1bf0128e68f6d2b708d66357ac5e">m_ctsToSelfSupported</a> || <a class="code" href="classns3_1_1_mac_low.html#a1c7f45f071f9e5eb97764f64e5cdaf1b">m_stationManager</a>-&gt;<a class="code" href="classns3_1_1_wifi_remote_station_manager.html#a56c0dcf2fa05e42a3fce2d2f3682f053">GetUseNonErpProtection</a> ()) &amp;&amp; <a class="code" href="classns3_1_1_mac_low.html#a3cb981924c8ab9855e5779792988dd21">NeedCtsToSelf</a> ())</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;        {</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;          <a class="code" href="classns3_1_1_mac_low.html#a209c346576d367ef16cfa1cfdefff909">SendCtsToSelf</a> ();</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;        }</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;        {</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;          <a class="code" href="classns3_1_1_mac_low.html#ab177d7c7ba53c56f91612114412914bf">SendDataPacket</a> ();</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;        }</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    }</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160; </div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;  <span class="comment">/* When this method completes, either we have taken ownership of the medium or the device switched off in the meantime. */</span></div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;  <a class="code" href="group__assert.html#ga6dccdb0de9b252f60088ce281c49d052">NS_ASSERT</a> (<a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#a0f6d4a763fceaf0df59ddf67628c8d99">IsStateTx</a> () || <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#af8e36d9c6e315830857383cfa32ba90e">IsStateOff</a> ());</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;}</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160; </div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;<span class="keywordtype">bool</span></div>
<div class="line"><a name="l00645"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#a3cb981924c8ab9855e5779792988dd21">  645</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#a3cb981924c8ab9855e5779792988dd21">MacLow::NeedCtsToSelf</a> (<span class="keywordtype">void</span>)<span class="keyword"> const</span></div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;  <a class="code" href="classns3_1_1_wifi_tx_vector.html">WifiTxVector</a> dataTxVector = <a class="code" href="classns3_1_1_mac_low.html#aeb3a8ccdb7a068b7ee69d507a66a1b60">GetDataTxVector</a> (*<a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a>-&gt;begin ());</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classns3_1_1_mac_low.html#a1c7f45f071f9e5eb97764f64e5cdaf1b">m_stationManager</a>-&gt;<a class="code" href="classns3_1_1_wifi_remote_station_manager.html#aa3179e61b1a06ff2d0cb0bdbc518e5a2">NeedCtsToSelf</a> (dataTxVector);</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;}</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160; </div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;<span class="keywordtype">bool</span></div>
<div class="line"><a name="l00652"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#a5c4f4debe30b56507a057c89a693e26b">  652</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#a5c4f4debe30b56507a057c89a693e26b">MacLow::IsWithinSizeAndTimeLimits</a> (<a class="code" href="classns3_1_1_ptr.html">Ptr&lt;const WifiMacQueueItem&gt;</a> mpdu, <a class="code" href="classns3_1_1_wifi_tx_vector.html">WifiTxVector</a> txVector,</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;                                    uint32_t ampduSize, <a class="code" href="classns3_1_1_time.html">Time</a> ppduDurationLimit)</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;{</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;  <a class="code" href="group__assert.html#ga6dccdb0de9b252f60088ce281c49d052">NS_ASSERT</a> (mpdu != 0 &amp;&amp; mpdu-&gt;GetHeader ().IsQosData ());</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160; </div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classns3_1_1_mac_low.html#a5c4f4debe30b56507a057c89a693e26b">IsWithinSizeAndTimeLimits</a> (mpdu-&gt;GetSize (), mpdu-&gt;GetHeader ().GetAddr1 (),</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;                                    mpdu-&gt;GetHeader ().GetQosTid (), txVector,</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;                                    ampduSize, ppduDurationLimit);</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;}</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160; </div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;<span class="keywordtype">bool</span></div>
<div class="line"><a name="l00663"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#a2dc2b39866b901f5baad7f45ec8484a9">  663</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#a5c4f4debe30b56507a057c89a693e26b">MacLow::IsWithinSizeAndTimeLimits</a> (uint32_t mpduSize, <a class="code" href="classns3_1_1_mac48_address.html">Mac48Address</a> receiver, uint8_t tid,</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;                                    <a class="code" href="classns3_1_1_wifi_tx_vector.html">WifiTxVector</a> txVector, uint32_t ampduSize, <a class="code" href="classns3_1_1_time.html">Time</a> ppduDurationLimit)</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;{</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;  <a class="code" href="group__logging.html#ga90b90d5bad1f39cb1b64923ea94c0761">NS_LOG_FUNCTION</a> (<span class="keyword">this</span> &lt;&lt; mpduSize &lt;&lt; receiver &lt;&lt; +tid &lt;&lt; txVector &lt;&lt; ampduSize &lt;&lt; ppduDurationLimit);</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160; </div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;  <span class="keywordflow">if</span> (ppduDurationLimit != <a class="code" href="classns3_1_1_time.html#a75169ee37c557c616eb79e1a15ed09b7">Time::Min</a> () &amp;&amp; ppduDurationLimit.<a class="code" href="classns3_1_1_time.html#af980fef08802d1ab14f0d58ed4c4eaf3">IsNegative</a> ())</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    {</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    }</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160; </div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;  <a class="code" href="namespacens3.html#aa999e1221606a2b21b1eb33c2007c217">WifiModulationClass</a> modulation = txVector.<a class="code" href="classns3_1_1_wifi_tx_vector.html#aadd3ccf9d68dd8f06d4cfedc352498fb">GetMode</a> ().<a class="code" href="classns3_1_1_wifi_mode.html#a67e1664cac501221b63a2be307184cc9">GetModulationClass</a> ();</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160; </div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;  uint32_t maxAmpduSize = 0;</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_mac_low.html#ae7f7693d58465743e13315e405f61c53">GetMpduAggregator</a> ())</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    {</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;      maxAmpduSize = <a class="code" href="classns3_1_1_mac_low.html#ae7f7693d58465743e13315e405f61c53">GetMpduAggregator</a> ()-&gt;GetMaxAmpduSize (receiver, tid, modulation);</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    }</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160; </div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;  <span class="comment">// If maxAmpduSize is null, then ampduSize must be null as well</span></div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;  <a class="code" href="group__assert.html#ga6dccdb0de9b252f60088ce281c49d052">NS_ASSERT</a> (maxAmpduSize || ampduSize == 0);</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160; </div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;  uint32_t ppduPayloadSize = mpduSize;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160; </div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;  <span class="comment">// compute the correct size for A-MPDUs and S-MPDUs</span></div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;  <span class="keywordflow">if</span> (ampduSize &gt; 0 || modulation &gt;= <a class="code" href="namespacens3.html#aa999e1221606a2b21b1eb33c2007c217a9863e4342bf5c238c74dddfc4d96c67e">WIFI_MOD_CLASS_VHT</a>)</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    {</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;      ppduPayloadSize = <a class="code" href="classns3_1_1_mac_low.html#ae7f7693d58465743e13315e405f61c53">GetMpduAggregator</a> ()-&gt;GetSizeIfAggregated (mpduSize, ampduSize);</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    }</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160; </div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;  <span class="keywordflow">if</span> (maxAmpduSize &gt; 0 &amp;&amp; ppduPayloadSize &gt; maxAmpduSize)</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    {</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;      <a class="code" href="group__logging.html#ga413f1886406d49f59a6a0a89b77b4d0a">NS_LOG_DEBUG</a> (<span class="stringliteral">&quot;the frame does not meet the constraint on max A-MPDU size&quot;</span>);</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    }</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160; </div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;  <span class="comment">// Get the maximum PPDU Duration based on the preamble type</span></div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;  <a class="code" href="classns3_1_1_time.html">Time</a> maxPpduDuration = <a class="code" href="namespacens3.html#a03cffd5db73b02dd9a2f0e96added790">GetPpduMaxTime</a> (txVector.<a class="code" href="classns3_1_1_wifi_tx_vector.html#a7125591f923091b79fe4a607dfad22e4">GetPreambleType</a> ());</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160; </div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;  <a class="code" href="classns3_1_1_time.html">Time</a> txTime = <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#aee98c7241bb4f0bb8e6d90f5771dacc7">CalculateTxDuration</a> (ppduPayloadSize, txVector, <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#afca470e272ec5c3126da63c0a6102f4c">GetFrequency</a> ());</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160; </div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;  <span class="keywordflow">if</span> ((ppduDurationLimit.<a class="code" href="classns3_1_1_time.html#a0d01aeab2308df799ea2f340d816d4c5">IsStrictlyPositive</a> () &amp;&amp; txTime &gt; ppduDurationLimit)</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;      || (maxPpduDuration.<a class="code" href="classns3_1_1_time.html#a0d01aeab2308df799ea2f340d816d4c5">IsStrictlyPositive</a> () &amp;&amp; txTime &gt; maxPpduDuration))</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    {</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;      <a class="code" href="group__logging.html#ga413f1886406d49f59a6a0a89b77b4d0a">NS_LOG_DEBUG</a> (<span class="stringliteral">&quot;the frame does not meet the constraint on max PPDU duration&quot;</span>);</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    }</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160; </div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;}</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160; </div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l00714"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#af096a2fe9597c4ca80ae1af4870a45a8">  714</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#af096a2fe9597c4ca80ae1af4870a45a8">MacLow::RxStartIndication</a> (<a class="code" href="classns3_1_1_wifi_tx_vector.html">WifiTxVector</a> txVector, <a class="code" href="classns3_1_1_time.html">Time</a> psduDuration)</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;{</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;  <a class="code" href="group__logging.html#ga90b90d5bad1f39cb1b64923ea94c0761">NS_LOG_FUNCTION</a> (<span class="keyword">this</span>);</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;  <a class="code" href="group__logging.html#ga413f1886406d49f59a6a0a89b77b4d0a">NS_LOG_DEBUG</a> (<span class="stringliteral">&quot;PSDU reception started for &quot;</span> &lt;&lt; psduDuration.<a class="code" href="classns3_1_1_time.html#a1f1f3acb86e4ed17643ef4a9ed1564fe">ToDouble</a> (<a class="code" href="classns3_1_1_time.html#a87a7f4d29c68b047a72d291ad660295aa58d3fcfd769acff64cf67f227d55fdd0">Time::US</a>)</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;                &lt;&lt; <span class="stringliteral">&quot; us (txVector: &quot;</span> &lt;&lt; txVector &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>);</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;  <a class="code" href="group__assert.html#ga6dccdb0de9b252f60088ce281c49d052">NS_ASSERT</a> (psduDuration.<a class="code" href="classns3_1_1_time.html#a0d01aeab2308df799ea2f340d816d4c5">IsStrictlyPositive</a> ());</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160; </div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_mac_low.html#a4376c10e5dc680bcdb50628540c8b412">m_normalAckTimeoutEvent</a>.<a class="code" href="classns3_1_1_event_id.html#a8b41e6f8c54db6bede8a7dcaf917074a">IsRunning</a> ())</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    {</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;      <span class="comment">// we are waiting for a Normal Ack and something arrived</span></div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;      <a class="code" href="group__logging.html#ga413f1886406d49f59a6a0a89b77b4d0a">NS_LOG_DEBUG</a> (<span class="stringliteral">&quot;Rescheduling Normal Ack timeout&quot;</span>);</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#a4376c10e5dc680bcdb50628540c8b412">m_normalAckTimeoutEvent</a>.<a class="code" href="classns3_1_1_event_id.html#a993ae94e48e014e1afd47edb16db7a11">Cancel</a> ();</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#a3d625c27f8412d2f6b2401d46a64f040">NotifyAckTimeoutResetNow</a> ();</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#a4376c10e5dc680bcdb50628540c8b412">m_normalAckTimeoutEvent</a> = <a class="code" href="classns3_1_1_simulator.html#a671882c894a08af4a5e91181bf1eec13">Simulator::Schedule</a> (psduDuration + <a class="code" href="group__timecivil.html#ga281d64bcb4dad96267d83c7688ec433f">NanoSeconds</a> (<a class="code" href="mac-low_8cc.html#ac1c8731250d1476ba7330187c2edd297">PSDU_DURATION_SAFEGUARD</a>),</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;                                                     &amp;<a class="code" href="classns3_1_1_mac_low.html#a4d730ac2acea66982b4d257e06e22387">MacLow::NormalAckTimeout</a>, <span class="keyword">this</span>);</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    }</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_mac_low.html#ab45f8207ce750633a91b40aa3227f436">m_blockAckTimeoutEvent</a>.<a class="code" href="classns3_1_1_event_id.html#a8b41e6f8c54db6bede8a7dcaf917074a">IsRunning</a> ())</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    {</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;      <span class="comment">// we are waiting for a BlockAck and something arrived</span></div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;      <a class="code" href="group__logging.html#ga413f1886406d49f59a6a0a89b77b4d0a">NS_LOG_DEBUG</a> (<span class="stringliteral">&quot;Rescheduling Block Ack timeout&quot;</span>);</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#ab45f8207ce750633a91b40aa3227f436">m_blockAckTimeoutEvent</a>.<a class="code" href="classns3_1_1_event_id.html#a993ae94e48e014e1afd47edb16db7a11">Cancel</a> ();</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#a3d625c27f8412d2f6b2401d46a64f040">NotifyAckTimeoutResetNow</a> ();</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#ab45f8207ce750633a91b40aa3227f436">m_blockAckTimeoutEvent</a> = <a class="code" href="classns3_1_1_simulator.html#a671882c894a08af4a5e91181bf1eec13">Simulator::Schedule</a> (psduDuration + <a class="code" href="group__timecivil.html#ga281d64bcb4dad96267d83c7688ec433f">NanoSeconds</a> (<a class="code" href="mac-low_8cc.html#ac1c8731250d1476ba7330187c2edd297">PSDU_DURATION_SAFEGUARD</a>),</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;                                                    &amp;<a class="code" href="classns3_1_1_mac_low.html#ace1131b4f6ea4f1d74a7c0ba470c84ac">MacLow::BlockAckTimeout</a>, <span class="keyword">this</span>);</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    }</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_mac_low.html#a1de3cc66dcaa9f318fb1b2cffb108b01">m_ctsTimeoutEvent</a>.<a class="code" href="classns3_1_1_event_id.html#a8b41e6f8c54db6bede8a7dcaf917074a">IsRunning</a> ())</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    {</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;      <span class="comment">// we are waiting for a CTS and something arrived</span></div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;      <a class="code" href="group__logging.html#ga413f1886406d49f59a6a0a89b77b4d0a">NS_LOG_DEBUG</a> (<span class="stringliteral">&quot;Rescheduling CTS timeout&quot;</span>);</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#a1de3cc66dcaa9f318fb1b2cffb108b01">m_ctsTimeoutEvent</a>.<a class="code" href="classns3_1_1_event_id.html#a993ae94e48e014e1afd47edb16db7a11">Cancel</a> ();</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#a6afa0ed5c43983ab487980553000bfd7">NotifyCtsTimeoutResetNow</a> ();</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#a1de3cc66dcaa9f318fb1b2cffb108b01">m_ctsTimeoutEvent</a> = <a class="code" href="classns3_1_1_simulator.html#a671882c894a08af4a5e91181bf1eec13">Simulator::Schedule</a> (psduDuration + <a class="code" href="group__timecivil.html#ga281d64bcb4dad96267d83c7688ec433f">NanoSeconds</a> (<a class="code" href="mac-low_8cc.html#ac1c8731250d1476ba7330187c2edd297">PSDU_DURATION_SAFEGUARD</a>),</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;                                               &amp;<a class="code" href="classns3_1_1_mac_low.html#a35adb9b4c7f1035da2cb080289ba9cf7">MacLow::CtsTimeout</a>, <span class="keyword">this</span>);</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    }</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_mac_low.html#a5aef4547e2a6ddad9c85d55bf77e43b1">m_navCounterResetCtsMissed</a>.<a class="code" href="classns3_1_1_event_id.html#a8b41e6f8c54db6bede8a7dcaf917074a">IsRunning</a> ())</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    {</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;      <a class="code" href="group__logging.html#ga413f1886406d49f59a6a0a89b77b4d0a">NS_LOG_DEBUG</a> (<span class="stringliteral">&quot;Cannot reset NAV&quot;</span>);</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#a5aef4547e2a6ddad9c85d55bf77e43b1">m_navCounterResetCtsMissed</a>.<a class="code" href="classns3_1_1_event_id.html#a993ae94e48e014e1afd47edb16db7a11">Cancel</a> ();</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    }</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;}</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160; </div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l00756"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#a9e44540e30598260fce5d85d5a6dda18">  756</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#a9e44540e30598260fce5d85d5a6dda18">MacLow::ReceiveError</a> (<a class="code" href="classns3_1_1_ptr.html">Ptr&lt;WifiPsdu&gt;</a> psdu)</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;{</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;  <a class="code" href="group__logging.html#ga90b90d5bad1f39cb1b64923ea94c0761">NS_LOG_FUNCTION</a> (<span class="keyword">this</span> &lt;&lt; *psdu);</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;  <a class="code" href="group__logging.html#ga413f1886406d49f59a6a0a89b77b4d0a">NS_LOG_DEBUG</a> (<span class="stringliteral">&quot;rx failed&quot;</span>);</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_mac_low.html#a4e08342dc51fd123ff9db8b4061df754">IsCfPeriod</a> () &amp;&amp; <a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a>-&gt;GetHeader (0).IsCfPoll ())</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    {</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;      <a class="code" href="group__assert.html#ga6dccdb0de9b252f60088ce281c49d052">NS_ASSERT</a> (<a class="code" href="classns3_1_1_mac_low.html#a811ffb89964a59347ee294e3d233f36c">m_currentTxop</a> != 0);</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#a811ffb89964a59347ee294e3d233f36c">m_currentTxop</a>-&gt;<a class="code" href="classns3_1_1_txop.html#a1f02217a9b2d55daad363b64e3d88ae1">MissedCfPollResponse</a> (<a class="code" href="classns3_1_1_mac_low.html#a57b40499d27ce4a39651572c1472b121">m_cfAckInfo</a>.<a class="code" href="structns3_1_1_mac_low_1_1_cf_ack_info.html#a8c676c7b0cb72efd7f2a1cfda9c65d01">expectCfAck</a>);</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    }</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_mac_low.html#a57b40499d27ce4a39651572c1472b121">m_cfAckInfo</a>.<a class="code" href="structns3_1_1_mac_low_1_1_cf_ack_info.html#a8c676c7b0cb72efd7f2a1cfda9c65d01">expectCfAck</a>)</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    {</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;      <a class="code" href="group__assert.html#ga6dccdb0de9b252f60088ce281c49d052">NS_ASSERT</a> (<a class="code" href="classns3_1_1_mac_low.html#a811ffb89964a59347ee294e3d233f36c">m_currentTxop</a> != 0);</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;      <a class="code" href="classns3_1_1_ptr.html">Ptr&lt;Txop&gt;</a> txop = <a class="code" href="classns3_1_1_mac_low.html#a811ffb89964a59347ee294e3d233f36c">m_currentTxop</a>;</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#a811ffb89964a59347ee294e3d233f36c">m_currentTxop</a> = 0;</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;      txop-&gt;<a class="code" href="classns3_1_1_txop.html#a76ed6b61366d7c6797a6910d8ad4eaa5">MissedAck</a> ();</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    }</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#a57b40499d27ce4a39651572c1472b121">m_cfAckInfo</a>.<a class="code" href="structns3_1_1_mac_low_1_1_cf_ack_info.html#a8c676c7b0cb72efd7f2a1cfda9c65d01">expectCfAck</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;  <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;}</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160; </div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l00777"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#a1952eb06064aac3eca3cd3edd426831b">  777</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#a1952eb06064aac3eca3cd3edd426831b">MacLow::NotifySwitchingStartNow</a> (<a class="code" href="classns3_1_1_time.html">Time</a> <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a>)</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;{</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;  <a class="code" href="group__logging.html#ga413f1886406d49f59a6a0a89b77b4d0a">NS_LOG_DEBUG</a> (<span class="stringliteral">&quot;switching channel. Cancelling MAC pending events&quot;</span>);</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#a1c7f45f071f9e5eb97764f64e5cdaf1b">m_stationManager</a>-&gt;<a class="code" href="classns3_1_1_wifi_remote_station_manager.html#aced390304611226a99f37dcfefd45f33">Reset</a> ();</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#afecf8a67fd2052dc23f94e77b9768d6b">CancelAllEvents</a> ();</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_mac_low.html#a5aef4547e2a6ddad9c85d55bf77e43b1">m_navCounterResetCtsMissed</a>.<a class="code" href="classns3_1_1_event_id.html#a8b41e6f8c54db6bede8a7dcaf917074a">IsRunning</a> ())</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    {</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#a5aef4547e2a6ddad9c85d55bf77e43b1">m_navCounterResetCtsMissed</a>.<a class="code" href="classns3_1_1_event_id.html#a993ae94e48e014e1afd47edb16db7a11">Cancel</a> ();</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    }</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#ad306264b6f7c07d8b222d461f2d09b29">m_lastNavStart</a> = <a class="code" href="classns3_1_1_simulator.html#ac3178fa975b419f7875e7105be122800">Simulator::Now</a> ();</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#a939a71bf7296a87bfc5bf2eb8b026b4b">m_lastNavDuration</a> = <a class="code" href="group__timecivil.html#ga33c34b816f8ff6628e33d5c8e9713b9e">Seconds</a> (0);</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a> = 0;</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#a811ffb89964a59347ee294e3d233f36c">m_currentTxop</a> = 0;</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;}</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160; </div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l00793"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#ae772476fce0b730d2e5949bfa0287965">  793</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#ae772476fce0b730d2e5949bfa0287965">MacLow::NotifySleepNow</a> (<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;{</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;  <a class="code" href="group__logging.html#ga413f1886406d49f59a6a0a89b77b4d0a">NS_LOG_DEBUG</a> (<span class="stringliteral">&quot;Device in sleep mode. Cancelling MAC pending events&quot;</span>);</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#afecf8a67fd2052dc23f94e77b9768d6b">CancelAllEvents</a> ();</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_mac_low.html#a5aef4547e2a6ddad9c85d55bf77e43b1">m_navCounterResetCtsMissed</a>.<a class="code" href="classns3_1_1_event_id.html#a8b41e6f8c54db6bede8a7dcaf917074a">IsRunning</a> ())</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    {</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#a5aef4547e2a6ddad9c85d55bf77e43b1">m_navCounterResetCtsMissed</a>.<a class="code" href="classns3_1_1_event_id.html#a993ae94e48e014e1afd47edb16db7a11">Cancel</a> ();</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    }</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#ad306264b6f7c07d8b222d461f2d09b29">m_lastNavStart</a> = <a class="code" href="classns3_1_1_simulator.html#ac3178fa975b419f7875e7105be122800">Simulator::Now</a> ();</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#a939a71bf7296a87bfc5bf2eb8b026b4b">m_lastNavDuration</a> = <a class="code" href="group__timecivil.html#ga33c34b816f8ff6628e33d5c8e9713b9e">Seconds</a> (0);</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a> = 0;</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#a811ffb89964a59347ee294e3d233f36c">m_currentTxop</a> = 0;</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;}</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160; </div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l00808"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#abf83232dab18fd8c6eae880da7bc9bd4">  808</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#abf83232dab18fd8c6eae880da7bc9bd4">MacLow::NotifyOffNow</a> (<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;{</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;  <a class="code" href="group__logging.html#ga413f1886406d49f59a6a0a89b77b4d0a">NS_LOG_DEBUG</a> (<span class="stringliteral">&quot;Device is switched off. Cancelling MAC pending events&quot;</span>);</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#afecf8a67fd2052dc23f94e77b9768d6b">CancelAllEvents</a> ();</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_mac_low.html#a5aef4547e2a6ddad9c85d55bf77e43b1">m_navCounterResetCtsMissed</a>.<a class="code" href="classns3_1_1_event_id.html#a8b41e6f8c54db6bede8a7dcaf917074a">IsRunning</a> ())</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    {</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#a5aef4547e2a6ddad9c85d55bf77e43b1">m_navCounterResetCtsMissed</a>.<a class="code" href="classns3_1_1_event_id.html#a993ae94e48e014e1afd47edb16db7a11">Cancel</a> ();</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    }</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#ad306264b6f7c07d8b222d461f2d09b29">m_lastNavStart</a> = <a class="code" href="classns3_1_1_simulator.html#ac3178fa975b419f7875e7105be122800">Simulator::Now</a> ();</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#a939a71bf7296a87bfc5bf2eb8b026b4b">m_lastNavDuration</a> = <a class="code" href="group__timecivil.html#ga33c34b816f8ff6628e33d5c8e9713b9e">Seconds</a> (0);</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a> = 0;</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#a811ffb89964a59347ee294e3d233f36c">m_currentTxop</a> = 0;</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;}</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160; </div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l00823"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#a2fffa82ad11ebe0e113232813a816eff">  823</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#a2fffa82ad11ebe0e113232813a816eff">MacLow::ReceiveOk</a> (<a class="code" href="classns3_1_1_ptr.html">Ptr&lt;WifiMacQueueItem&gt;</a> mpdu, <span class="keywordtype">double</span> rxSnr, <a class="code" href="classns3_1_1_wifi_tx_vector.html">WifiTxVector</a> txVector, <span class="keywordtype">bool</span> ampduSubframe)</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;{</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;  <a class="code" href="group__logging.html#ga90b90d5bad1f39cb1b64923ea94c0761">NS_LOG_FUNCTION</a> (<span class="keyword">this</span> &lt;&lt; *mpdu &lt;&lt; rxSnr &lt;&lt; txVector);</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;  <span class="comment">/* An MPDU is received from the PHY.</span></div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;<span class="comment">   * When we have handled this MPDU,</span></div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;<span class="comment">   * we handle any packet present in the</span></div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;<span class="comment">   * packet queue.</span></div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;  <span class="keyword">const</span> <a class="code" href="classns3_1_1_wifi_mac_header.html">WifiMacHeader</a>&amp; hdr = mpdu-&gt;<a class="code" href="classns3_1_1_wifi_mac_queue_item.html#aeb59c1e3b526361838d5d3a6f3035039">GetHeader</a> ();</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;  <a class="code" href="classns3_1_1_ptr.html">Ptr&lt;Packet&gt;</a> packet = mpdu-&gt;<a class="code" href="classns3_1_1_wifi_mac_queue_item.html#a01d29092eafa110090998f339bfabd97">GetPacket</a> ()-&gt;Copy ();</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160; </div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;  <span class="keywordtype">bool</span> isPrevNavZero = <a class="code" href="classns3_1_1_mac_low.html#ace17475855332c9260bbe2a1df29fc05">IsNavZero</a> ();</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;  <a class="code" href="group__logging.html#ga413f1886406d49f59a6a0a89b77b4d0a">NS_LOG_DEBUG</a> (<span class="stringliteral">&quot;duration/id=&quot;</span> &lt;&lt; hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a1bfde4f8ca07ee46bd0bdc1ab6597e48">GetDuration</a> ());</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#a8a11f1b12b7dc41fba389b1b480c55f9">NotifyNav</a> (packet, hdr);</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;  <span class="keywordflow">if</span> (hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a2308af17e822e5b423c039740418f055">IsRts</a> ())</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    {</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;      <span class="comment">/* see section 9.2.5.7 802.11-1999</span></div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;<span class="comment">       * A STA that is addressed by an RTS frame shall transmit a CTS frame after a SIFS</span></div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;<span class="comment">       * period if the NAV at the STA receiving the RTS frame indicates that the medium is</span></div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;<span class="comment">       * idle. If the NAV at the STA receiving the RTS indicates the medium is not idle,</span></div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;<span class="comment">       * that STA shall not respond to the RTS frame.</span></div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;<span class="comment">       */</span></div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;      <span class="keywordflow">if</span> (ampduSubframe)</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;        {</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;          <a class="code" href="group__fatal.html#ga5131d5e3f75d7d4cbfd706ac456fdc85">NS_FATAL_ERROR</a> (<span class="stringliteral">&quot;Received RTS as part of an A-MPDU&quot;</span>);</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;        }</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;        {</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;          <span class="keywordflow">if</span> (isPrevNavZero</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;              &amp;&amp; hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#aa1c4acbda4ace9f7a920c97d71bdd097">GetAddr1</a> () == <a class="code" href="classns3_1_1_mac_low.html#a23004ca5405c82111f5b20eec03b3d9a">m_self</a>)</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;            {</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;              <a class="code" href="group__logging.html#ga413f1886406d49f59a6a0a89b77b4d0a">NS_LOG_DEBUG</a> (<span class="stringliteral">&quot;rx RTS from=&quot;</span> &lt;&lt; hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a5d32ca3e3a34f1185df86927d4346430">GetAddr2</a> () &lt;&lt; <span class="stringliteral">&quot;, schedule CTS&quot;</span>);</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;              <a class="code" href="group__assert.html#ga6dccdb0de9b252f60088ce281c49d052">NS_ASSERT</a> (<a class="code" href="classns3_1_1_mac_low.html#ade35698702b1353f2eff6b97653f8b0e">m_sendCtsEvent</a>.<a class="code" href="classns3_1_1_event_id.html#acc25141054209b1a286a5471a51bd0c0">IsExpired</a> ());</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;              <a class="code" href="classns3_1_1_mac_low.html#a1c7f45f071f9e5eb97764f64e5cdaf1b">m_stationManager</a>-&gt;<a class="code" href="classns3_1_1_wifi_remote_station_manager.html#ac2604b3517d442f39cc5120af49b989a">ReportRxOk</a> (hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a5d32ca3e3a34f1185df86927d4346430">GetAddr2</a> (),</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;                                            rxSnr, txVector.<a class="code" href="classns3_1_1_wifi_tx_vector.html#aadd3ccf9d68dd8f06d4cfedc352498fb">GetMode</a> ());</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;              <a class="code" href="classns3_1_1_mac_low.html#ade35698702b1353f2eff6b97653f8b0e">m_sendCtsEvent</a> = <a class="code" href="classns3_1_1_simulator.html#a671882c894a08af4a5e91181bf1eec13">Simulator::Schedule</a> (<a class="code" href="classns3_1_1_mac_low.html#a142444428826e0a5f67265dfd7b0f4d2">GetSifs</a> (),</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;                                                    &amp;<a class="code" href="classns3_1_1_mac_low.html#aebcd4c3e8d64fb53af1f8a862c766e33">MacLow::SendCtsAfterRts</a>, <span class="keyword">this</span>,</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;                                                    hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a5d32ca3e3a34f1185df86927d4346430">GetAddr2</a> (),</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;                                                    hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a1bfde4f8ca07ee46bd0bdc1ab6597e48">GetDuration</a> (),</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;                                                    txVector,</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;                                                    rxSnr);</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;            }</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;          <span class="keywordflow">else</span></div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;            {</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;              <a class="code" href="group__logging.html#ga413f1886406d49f59a6a0a89b77b4d0a">NS_LOG_DEBUG</a> (<span class="stringliteral">&quot;rx RTS from=&quot;</span> &lt;&lt; hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a5d32ca3e3a34f1185df86927d4346430">GetAddr2</a> () &lt;&lt; <span class="stringliteral">&quot;, cannot schedule CTS&quot;</span>);</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;            }</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;        }</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    }</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a42e48067f223571d09229433d922dd78">IsCts</a> ()</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;           &amp;&amp; hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#aa1c4acbda4ace9f7a920c97d71bdd097">GetAddr1</a> () == <a class="code" href="classns3_1_1_mac_low.html#a23004ca5405c82111f5b20eec03b3d9a">m_self</a></div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;           &amp;&amp; <a class="code" href="classns3_1_1_mac_low.html#a1de3cc66dcaa9f318fb1b2cffb108b01">m_ctsTimeoutEvent</a>.<a class="code" href="classns3_1_1_event_id.html#a8b41e6f8c54db6bede8a7dcaf917074a">IsRunning</a> ()</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;           &amp;&amp; <a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a> != 0)</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    {</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;      <span class="keywordflow">if</span> (ampduSubframe)</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;        {</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;          <a class="code" href="group__fatal.html#ga5131d5e3f75d7d4cbfd706ac456fdc85">NS_FATAL_ERROR</a> (<span class="stringliteral">&quot;Received CTS as part of an A-MPDU&quot;</span>);</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;        }</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160; </div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;      <a class="code" href="group__logging.html#ga413f1886406d49f59a6a0a89b77b4d0a">NS_LOG_DEBUG</a> (<span class="stringliteral">&quot;received cts from=&quot;</span> &lt;&lt; <a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a>-&gt;GetAddr1 ());</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160; </div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;      <a class="code" href="classns3_1_1_snr_tag.html">SnrTag</a> tag;</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;      packet-&gt;<a class="code" href="classns3_1_1_packet.html#a078fe922d976a417ab25ba2f3c2fd667">RemovePacketTag</a> (tag);</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#a1c7f45f071f9e5eb97764f64e5cdaf1b">m_stationManager</a>-&gt;<a class="code" href="classns3_1_1_wifi_remote_station_manager.html#ac2604b3517d442f39cc5120af49b989a">ReportRxOk</a> (<a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a>-&gt;GetAddr1 (),</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;                                    rxSnr, txVector.<a class="code" href="classns3_1_1_wifi_tx_vector.html#aadd3ccf9d68dd8f06d4cfedc352498fb">GetMode</a> ());</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#a1c7f45f071f9e5eb97764f64e5cdaf1b">m_stationManager</a>-&gt;<a class="code" href="classns3_1_1_wifi_remote_station_manager.html#a2425bdf15c98334f1714c75111725fa3">ReportRtsOk</a> (<a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a>-&gt;GetAddr1 (), &amp;<a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a>-&gt;GetHeader (0),</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;                                     rxSnr, txVector.<a class="code" href="classns3_1_1_wifi_tx_vector.html#aadd3ccf9d68dd8f06d4cfedc352498fb">GetMode</a> (), tag.<a class="code" href="classns3_1_1_snr_tag.html#af71e7cca59717042ddd859dff02e4fc9">Get</a> ());</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160; </div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#a1de3cc66dcaa9f318fb1b2cffb108b01">m_ctsTimeoutEvent</a>.<a class="code" href="classns3_1_1_event_id.html#a993ae94e48e014e1afd47edb16db7a11">Cancel</a> ();</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#a6afa0ed5c43983ab487980553000bfd7">NotifyCtsTimeoutResetNow</a> ();</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;      <a class="code" href="group__assert.html#ga6dccdb0de9b252f60088ce281c49d052">NS_ASSERT</a> (<a class="code" href="classns3_1_1_mac_low.html#a3f6b0135f1179dd4cd5d2002f7355423">m_sendDataEvent</a>.<a class="code" href="classns3_1_1_event_id.html#acc25141054209b1a286a5471a51bd0c0">IsExpired</a> ());</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#a3f6b0135f1179dd4cd5d2002f7355423">m_sendDataEvent</a> = <a class="code" href="classns3_1_1_simulator.html#a671882c894a08af4a5e91181bf1eec13">Simulator::Schedule</a> (<a class="code" href="classns3_1_1_mac_low.html#a142444428826e0a5f67265dfd7b0f4d2">GetSifs</a> (),</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;                                             &amp;<a class="code" href="classns3_1_1_mac_low.html#a68c30ffb5ff64c0fa1defcfe6d751907">MacLow::SendDataAfterCts</a>, <span class="keyword">this</span>,</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;                                             hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a1bfde4f8ca07ee46bd0bdc1ab6597e48">GetDuration</a> ());</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    }</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a140dc7acdb206bfb5b929325d92967b5">IsAck</a> ()</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;           &amp;&amp; hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#aa1c4acbda4ace9f7a920c97d71bdd097">GetAddr1</a> () == <a class="code" href="classns3_1_1_mac_low.html#a23004ca5405c82111f5b20eec03b3d9a">m_self</a></div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;           &amp;&amp; <a class="code" href="classns3_1_1_mac_low.html#a4376c10e5dc680bcdb50628540c8b412">m_normalAckTimeoutEvent</a>.<a class="code" href="classns3_1_1_event_id.html#a8b41e6f8c54db6bede8a7dcaf917074a">IsRunning</a> ()</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;           &amp;&amp; <a class="code" href="classns3_1_1_mac_low.html#a1c5ce6a0415d4a6d394bc9fc8f78327d">m_txParams</a>.<a class="code" href="classns3_1_1_mac_low_transmission_parameters.html#af58f30e2df98d7dda69086436a03f5b2">MustWaitNormalAck</a> ())</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    {</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;      <a class="code" href="group__logging.html#ga413f1886406d49f59a6a0a89b77b4d0a">NS_LOG_DEBUG</a> (<span class="stringliteral">&quot;receive ack from=&quot;</span> &lt;&lt; <a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a>-&gt;GetAddr1 ());</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;      <a class="code" href="classns3_1_1_snr_tag.html">SnrTag</a> tag;</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;      packet-&gt;<a class="code" href="classns3_1_1_packet.html#a078fe922d976a417ab25ba2f3c2fd667">RemovePacketTag</a> (tag);</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;      <span class="comment">//When fragmentation is used, only update manager when the last fragment is acknowledged</span></div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="classns3_1_1_mac_low.html#a1c5ce6a0415d4a6d394bc9fc8f78327d">m_txParams</a>.<a class="code" href="classns3_1_1_mac_low_transmission_parameters.html#a2832d2778353fbdd8cb92fbe3ea9da9d">HasNextPacket</a> ())</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;        {</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;          <a class="code" href="classns3_1_1_mac_low.html#a1c7f45f071f9e5eb97764f64e5cdaf1b">m_stationManager</a>-&gt;<a class="code" href="classns3_1_1_wifi_remote_station_manager.html#ac2604b3517d442f39cc5120af49b989a">ReportRxOk</a> (<a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a>-&gt;GetAddr1 (),</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;                                        rxSnr, txVector.<a class="code" href="classns3_1_1_wifi_tx_vector.html#aadd3ccf9d68dd8f06d4cfedc352498fb">GetMode</a> ());</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;          <a class="code" href="classns3_1_1_mac_low.html#a1c7f45f071f9e5eb97764f64e5cdaf1b">m_stationManager</a>-&gt;<a class="code" href="classns3_1_1_wifi_remote_station_manager.html#a6dd25291b44464baee92c2ef9ae739d6">ReportDataOk</a> (<a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a>-&gt;GetAddr1 (), &amp;<a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a>-&gt;GetHeader (0),</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;                                          rxSnr, txVector.<a class="code" href="classns3_1_1_wifi_tx_vector.html#aadd3ccf9d68dd8f06d4cfedc352498fb">GetMode</a> (), tag.<a class="code" href="classns3_1_1_snr_tag.html#af71e7cca59717042ddd859dff02e4fc9">Get</a> (),</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;                                          <a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a>-&gt;GetSize ());</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;        }</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;      <span class="comment">// cancel the Normal Ack timer</span></div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#a4376c10e5dc680bcdb50628540c8b412">m_normalAckTimeoutEvent</a>.<a class="code" href="classns3_1_1_event_id.html#a993ae94e48e014e1afd47edb16db7a11">Cancel</a> ();</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#a3d625c27f8412d2f6b2401d46a64f040">NotifyAckTimeoutResetNow</a> ();</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#a811ffb89964a59347ee294e3d233f36c">m_currentTxop</a>-&gt;<a class="code" href="classns3_1_1_txop.html#acd1bb8b45e7a39cfc7e1e710dc514b3e">GotAck</a> ();</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160; </div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_mac_low.html#a1c5ce6a0415d4a6d394bc9fc8f78327d">m_txParams</a>.<a class="code" href="classns3_1_1_mac_low_transmission_parameters.html#a2832d2778353fbdd8cb92fbe3ea9da9d">HasNextPacket</a> ())</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;        {</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_mac_low.html#a1c7f45f071f9e5eb97764f64e5cdaf1b">m_stationManager</a>-&gt;<a class="code" href="classns3_1_1_wifi_remote_station_manager.html#a68dc3eb191060d3f98f265b9013d7e4a">GetRifsPermitted</a> ())</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;            {</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;              <a class="code" href="classns3_1_1_mac_low.html#abdfe679a569b3b5b3262b08ccc8f5df8">m_waitIfsEvent</a> = <a class="code" href="classns3_1_1_simulator.html#a671882c894a08af4a5e91181bf1eec13">Simulator::Schedule</a> (<a class="code" href="classns3_1_1_mac_low.html#a42324a6a9affe03004a854dc0daa5f27">GetRifs</a> (), &amp;<a class="code" href="classns3_1_1_mac_low.html#a3087bf08c1005df5654ede7311173e4f">MacLow::WaitIfsAfterEndTxFragment</a>, <span class="keyword">this</span>);</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;            }</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;          <span class="keywordflow">else</span></div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;            {</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;              <a class="code" href="classns3_1_1_mac_low.html#abdfe679a569b3b5b3262b08ccc8f5df8">m_waitIfsEvent</a> = <a class="code" href="classns3_1_1_simulator.html#a671882c894a08af4a5e91181bf1eec13">Simulator::Schedule</a> (<a class="code" href="classns3_1_1_mac_low.html#a142444428826e0a5f67265dfd7b0f4d2">GetSifs</a> (), &amp;<a class="code" href="classns3_1_1_mac_low.html#a3087bf08c1005df5654ede7311173e4f">MacLow::WaitIfsAfterEndTxFragment</a>, <span class="keyword">this</span>);</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;            }</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;        }</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a>-&gt;GetHeader (0).IsQosData () &amp;&amp; <a class="code" href="classns3_1_1_mac_low.html#a811ffb89964a59347ee294e3d233f36c">m_currentTxop</a>-&gt;<a class="code" href="classns3_1_1_txop.html#a7ad3a446bf34065eef10bc9659a0607a">IsQosTxop</a> () &amp;&amp;</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;               <a class="code" href="classns3_1_1_mac_low.html#a811ffb89964a59347ee294e3d233f36c">m_currentTxop</a>-&gt;<a class="code" href="classns3_1_1_txop.html#a4c3271887c9fb5dcb2ef61651a3a60de">GetTxopLimit</a> ().<a class="code" href="classns3_1_1_time.html#a0d01aeab2308df799ea2f340d816d4c5">IsStrictlyPositive</a> () &amp;&amp; <a class="code" href="classns3_1_1_mac_low.html#a811ffb89964a59347ee294e3d233f36c">m_currentTxop</a>-&gt;<a class="code" href="classns3_1_1_txop.html#a728794caac9a10954c087382fa5e52e3">GetTxopRemaining</a> () &gt; <a class="code" href="classns3_1_1_mac_low.html#a142444428826e0a5f67265dfd7b0f4d2">GetSifs</a> ())</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;        {</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_mac_low.html#a1c7f45f071f9e5eb97764f64e5cdaf1b">m_stationManager</a>-&gt;<a class="code" href="classns3_1_1_wifi_remote_station_manager.html#a68dc3eb191060d3f98f265b9013d7e4a">GetRifsPermitted</a> ())</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;            {</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;              <a class="code" href="classns3_1_1_mac_low.html#abdfe679a569b3b5b3262b08ccc8f5df8">m_waitIfsEvent</a> = <a class="code" href="classns3_1_1_simulator.html#a671882c894a08af4a5e91181bf1eec13">Simulator::Schedule</a> (<a class="code" href="classns3_1_1_mac_low.html#a42324a6a9affe03004a854dc0daa5f27">GetRifs</a> (), &amp;<a class="code" href="classns3_1_1_mac_low.html#a17e509f5f61f862d9a49d01d7cf3a821">MacLow::WaitIfsAfterEndTxPacket</a>, <span class="keyword">this</span>);</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;            }</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;          <span class="keywordflow">else</span></div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;            {</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;              <a class="code" href="classns3_1_1_mac_low.html#abdfe679a569b3b5b3262b08ccc8f5df8">m_waitIfsEvent</a> = <a class="code" href="classns3_1_1_simulator.html#a671882c894a08af4a5e91181bf1eec13">Simulator::Schedule</a> (<a class="code" href="classns3_1_1_mac_low.html#a142444428826e0a5f67265dfd7b0f4d2">GetSifs</a> (), &amp;<a class="code" href="classns3_1_1_mac_low.html#a17e509f5f61f862d9a49d01d7cf3a821">MacLow::WaitIfsAfterEndTxPacket</a>, <span class="keyword">this</span>);</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;            }</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;        }</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_mac_low.html#a811ffb89964a59347ee294e3d233f36c">m_currentTxop</a>-&gt;<a class="code" href="classns3_1_1_txop.html#a7ad3a446bf34065eef10bc9659a0607a">IsQosTxop</a> ())</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;        {</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;          <a class="code" href="classns3_1_1_mac_low.html#a811ffb89964a59347ee294e3d233f36c">m_currentTxop</a>-&gt;<a class="code" href="classns3_1_1_txop.html#a8ddcc6dfb248f1501d60146277686c3c">TerminateTxop</a> ();</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;        }</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    }</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a16f7fffa3791bb30ab760a98ec54afba">IsBlockAck</a> () &amp;&amp; hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#aa1c4acbda4ace9f7a920c97d71bdd097">GetAddr1</a> () == <a class="code" href="classns3_1_1_mac_low.html#a23004ca5405c82111f5b20eec03b3d9a">m_self</a></div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;           &amp;&amp; <a class="code" href="classns3_1_1_mac_low.html#a1c5ce6a0415d4a6d394bc9fc8f78327d">m_txParams</a>.<a class="code" href="classns3_1_1_mac_low_transmission_parameters.html#ad3a33e30c1a8db4825172b79c18baaa9">MustWaitBlockAck</a> ()</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;           &amp;&amp; <a class="code" href="classns3_1_1_mac_low.html#ab45f8207ce750633a91b40aa3227f436">m_blockAckTimeoutEvent</a>.<a class="code" href="classns3_1_1_event_id.html#a8b41e6f8c54db6bede8a7dcaf917074a">IsRunning</a> ())</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    {</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;      <a class="code" href="group__logging.html#ga413f1886406d49f59a6a0a89b77b4d0a">NS_LOG_DEBUG</a> (<span class="stringliteral">&quot;got block ack from &quot;</span> &lt;&lt; hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a5d32ca3e3a34f1185df86927d4346430">GetAddr2</a> ());</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;      <a class="code" href="classns3_1_1_snr_tag.html">SnrTag</a> tag;</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;      packet-&gt;<a class="code" href="classns3_1_1_packet.html#a078fe922d976a417ab25ba2f3c2fd667">RemovePacketTag</a> (tag);</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;      <a class="code" href="classns3_1_1_ctrl_b_ack_response_header.html">CtrlBAckResponseHeader</a> blockAck;</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;      packet-&gt;<a class="code" href="classns3_1_1_packet.html#a0961eccf975d75f902d40956c93ba63e">RemoveHeader</a> (blockAck);</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#ab45f8207ce750633a91b40aa3227f436">m_blockAckTimeoutEvent</a>.<a class="code" href="classns3_1_1_event_id.html#a993ae94e48e014e1afd47edb16db7a11">Cancel</a> ();</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#a3d625c27f8412d2f6b2401d46a64f040">NotifyAckTimeoutResetNow</a> ();</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#a811ffb89964a59347ee294e3d233f36c">m_currentTxop</a>-&gt;<a class="code" href="classns3_1_1_txop.html#a3a084623edb5819992460107e97f54da">GotBlockAck</a> (&amp;blockAck, hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a5d32ca3e3a34f1185df86927d4346430">GetAddr2</a> (), rxSnr, txVector.<a class="code" href="classns3_1_1_wifi_tx_vector.html#aadd3ccf9d68dd8f06d4cfedc352498fb">GetMode</a> (), tag.<a class="code" href="classns3_1_1_snr_tag.html#af71e7cca59717042ddd859dff02e4fc9">Get</a> ());</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;      <span class="comment">// start next packet if TXOP remains, otherwise contend for accessing the channel again</span></div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_mac_low.html#a811ffb89964a59347ee294e3d233f36c">m_currentTxop</a>-&gt;<a class="code" href="classns3_1_1_txop.html#a7ad3a446bf34065eef10bc9659a0607a">IsQosTxop</a> () &amp;&amp; <a class="code" href="classns3_1_1_mac_low.html#a811ffb89964a59347ee294e3d233f36c">m_currentTxop</a>-&gt;<a class="code" href="classns3_1_1_txop.html#a4c3271887c9fb5dcb2ef61651a3a60de">GetTxopLimit</a> ().<a class="code" href="classns3_1_1_time.html#a0d01aeab2308df799ea2f340d816d4c5">IsStrictlyPositive</a> ()</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;          &amp;&amp; <a class="code" href="classns3_1_1_mac_low.html#a811ffb89964a59347ee294e3d233f36c">m_currentTxop</a>-&gt;<a class="code" href="classns3_1_1_txop.html#a728794caac9a10954c087382fa5e52e3">GetTxopRemaining</a> () &gt; <a class="code" href="classns3_1_1_mac_low.html#a142444428826e0a5f67265dfd7b0f4d2">GetSifs</a> ())</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;        {</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_mac_low.html#a1c7f45f071f9e5eb97764f64e5cdaf1b">m_stationManager</a>-&gt;<a class="code" href="classns3_1_1_wifi_remote_station_manager.html#a68dc3eb191060d3f98f265b9013d7e4a">GetRifsPermitted</a> ())</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;            {</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;              <a class="code" href="classns3_1_1_mac_low.html#abdfe679a569b3b5b3262b08ccc8f5df8">m_waitIfsEvent</a> = <a class="code" href="classns3_1_1_simulator.html#a671882c894a08af4a5e91181bf1eec13">Simulator::Schedule</a> (<a class="code" href="classns3_1_1_mac_low.html#a42324a6a9affe03004a854dc0daa5f27">GetRifs</a> (), &amp;<a class="code" href="classns3_1_1_mac_low.html#a17e509f5f61f862d9a49d01d7cf3a821">MacLow::WaitIfsAfterEndTxPacket</a>, <span class="keyword">this</span>);</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;            }</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;          <span class="keywordflow">else</span></div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;            {</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;              <a class="code" href="classns3_1_1_mac_low.html#abdfe679a569b3b5b3262b08ccc8f5df8">m_waitIfsEvent</a> = <a class="code" href="classns3_1_1_simulator.html#a671882c894a08af4a5e91181bf1eec13">Simulator::Schedule</a> (<a class="code" href="classns3_1_1_mac_low.html#a142444428826e0a5f67265dfd7b0f4d2">GetSifs</a> (), &amp;<a class="code" href="classns3_1_1_mac_low.html#a17e509f5f61f862d9a49d01d7cf3a821">MacLow::WaitIfsAfterEndTxPacket</a>, <span class="keyword">this</span>);</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;            }</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;        }</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_mac_low.html#a811ffb89964a59347ee294e3d233f36c">m_currentTxop</a>-&gt;<a class="code" href="classns3_1_1_txop.html#a7ad3a446bf34065eef10bc9659a0607a">IsQosTxop</a> ())</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;        {</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;          <a class="code" href="classns3_1_1_mac_low.html#a811ffb89964a59347ee294e3d233f36c">m_currentTxop</a>-&gt;<a class="code" href="classns3_1_1_txop.html#a8ddcc6dfb248f1501d60146277686c3c">TerminateTxop</a> ();</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;        }</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;    }</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a97830b03ca05944b92bff4defed50716">IsBlockAckReq</a> () &amp;&amp; hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#aa1c4acbda4ace9f7a920c97d71bdd097">GetAddr1</a> () == <a class="code" href="classns3_1_1_mac_low.html#a23004ca5405c82111f5b20eec03b3d9a">m_self</a>)</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;    {</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;      <a class="code" href="classns3_1_1_ctrl_b_ack_request_header.html">CtrlBAckRequestHeader</a> blockAckReq;</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;      packet-&gt;<a class="code" href="classns3_1_1_packet.html#a0961eccf975d75f902d40956c93ba63e">RemoveHeader</a> (blockAckReq);</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;      <span class="keywordflow">if</span> (!blockAckReq.<a class="code" href="classns3_1_1_ctrl_b_ack_request_header.html#a1c011b4f1b24c83cf596b07904ec1328">IsMultiTid</a> ())</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;        {</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;          uint8_t tid = blockAckReq.<a class="code" href="classns3_1_1_ctrl_b_ack_request_header.html#a884fbe9f6ba028fb3dde88fe31ba6bab">GetTidInfo</a> ();</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;          <a class="code" href="classns3_1_1_mac_low.html#a7876cc9b328cdb0508f2a7b7647eab10">AgreementsI</a> it = <a class="code" href="classns3_1_1_mac_low.html#a53482df1a7e6f136cfa8ce50fa10adc2">m_bAckAgreements</a>.find (std::make_pair (hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a5d32ca3e3a34f1185df86927d4346430">GetAddr2</a> (), tid));</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;          <span class="keywordflow">if</span> (it != <a class="code" href="classns3_1_1_mac_low.html#a53482df1a7e6f136cfa8ce50fa10adc2">m_bAckAgreements</a>.end ())</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;            {</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;              <span class="comment">//Update block ack cache</span></div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;              <a class="code" href="classns3_1_1_mac_low.html#ae0b0abf84b6078031fabd4e85e1cb1bf">BlockAckCachesI</a> i = <a class="code" href="classns3_1_1_mac_low.html#a1a2b5d95cae95e9b99e6508d7d350b47">m_bAckCaches</a>.find (std::make_pair (hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a5d32ca3e3a34f1185df86927d4346430">GetAddr2</a> (), tid));</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;              <a class="code" href="group__assert.html#ga6dccdb0de9b252f60088ce281c49d052">NS_ASSERT</a> (i != <a class="code" href="classns3_1_1_mac_low.html#a1a2b5d95cae95e9b99e6508d7d350b47">m_bAckCaches</a>.end ());</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;              (*i).second.UpdateWithBlockAckReq (blockAckReq.<a class="code" href="classns3_1_1_ctrl_b_ack_request_header.html#a8ca10bacb9cc50ae0f849044769ca88d">GetStartingSequence</a> ());</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160; </div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;              <span class="comment">//NS_ASSERT (m_sendAckEvent.IsExpired ());</span></div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;              <a class="code" href="classns3_1_1_mac_low.html#a35ee7cfc983896c26c514bade14b3197">m_sendAckEvent</a>.<a class="code" href="classns3_1_1_event_id.html#a993ae94e48e014e1afd47edb16db7a11">Cancel</a> ();</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;              <span class="comment">/* See section 11.5.3 in IEEE 802.11 for mean of this timer */</span></div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;              <a class="code" href="classns3_1_1_mac_low.html#aafa012c5d2dde80484d6546c802f02f8">ResetBlockAckInactivityTimerIfNeeded</a> (it-&gt;second.first);</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;              <span class="keywordflow">if</span> ((*it).second.first.IsImmediateBlockAck ())</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;                {</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;                  <a class="code" href="group__logging.html#ga413f1886406d49f59a6a0a89b77b4d0a">NS_LOG_DEBUG</a> (<span class="stringliteral">&quot;rx blockAckRequest/sendImmediateBlockAck from=&quot;</span> &lt;&lt; hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a5d32ca3e3a34f1185df86927d4346430">GetAddr2</a> ());</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;                  <a class="code" href="classns3_1_1_mac_low.html#a35ee7cfc983896c26c514bade14b3197">m_sendAckEvent</a> = <a class="code" href="classns3_1_1_simulator.html#a671882c894a08af4a5e91181bf1eec13">Simulator::Schedule</a> (<a class="code" href="classns3_1_1_mac_low.html#a142444428826e0a5f67265dfd7b0f4d2">GetSifs</a> (),</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;                                                        &amp;<a class="code" href="classns3_1_1_mac_low.html#a84b96c0cc6f32fca28576ec4df6a0853">MacLow::SendBlockAckAfterBlockAckRequest</a>, <span class="keyword">this</span>,</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;                                                        blockAckReq,</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;                                                        hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a5d32ca3e3a34f1185df86927d4346430">GetAddr2</a> (),</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;                                                        hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a1bfde4f8ca07ee46bd0bdc1ab6597e48">GetDuration</a> (),</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;                                                        txVector.<a class="code" href="classns3_1_1_wifi_tx_vector.html#aadd3ccf9d68dd8f06d4cfedc352498fb">GetMode</a> (),</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;                                                        rxSnr);</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;                }</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;              <span class="keywordflow">else</span></div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;                {</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;                  <a class="code" href="group__fatal.html#ga5131d5e3f75d7d4cbfd706ac456fdc85">NS_FATAL_ERROR</a> (<span class="stringliteral">&quot;Delayed block ack not supported.&quot;</span>);</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;                }</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;            }</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;          <span class="keywordflow">else</span></div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;            {</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;              <a class="code" href="group__logging.html#ga413f1886406d49f59a6a0a89b77b4d0a">NS_LOG_DEBUG</a> (<span class="stringliteral">&quot;There&#39;s not a valid agreement for this block ack request.&quot;</span>);</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;            }</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;        }</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;        {</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;          <a class="code" href="group__fatal.html#ga5131d5e3f75d7d4cbfd706ac456fdc85">NS_FATAL_ERROR</a> (<span class="stringliteral">&quot;Multi-tid block ack is not supported.&quot;</span>);</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;        }</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;    }</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a035659d44f96e937bedc7a99fdadfb79">IsCtl</a> ())</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;    {</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;      <span class="keywordflow">if</span> (hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a67147b01fd61827c27316473c7e19ea8">IsCfEnd</a> ())</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;        {</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;          <a class="code" href="group__logging.html#ga413f1886406d49f59a6a0a89b77b4d0a">NS_LOG_DEBUG</a> (<span class="stringliteral">&quot;rx CF-END &quot;</span>);</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;          <a class="code" href="classns3_1_1_mac_low.html#a501a55ed9df40e8983e09cd2212b81cc">m_cfpStart</a> = <a class="code" href="group__timecivil.html#ga281d64bcb4dad96267d83c7688ec433f">NanoSeconds</a> (0);</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_mac_low.html#a57b40499d27ce4a39651572c1472b121">m_cfAckInfo</a>.<a class="code" href="structns3_1_1_mac_low_1_1_cf_ack_info.html#a8c676c7b0cb72efd7f2a1cfda9c65d01">expectCfAck</a>)</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;            {</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;              <a class="code" href="group__assert.html#ga6dccdb0de9b252f60088ce281c49d052">NS_ASSERT</a> (<a class="code" href="classns3_1_1_mac_low.html#a811ffb89964a59347ee294e3d233f36c">m_currentTxop</a> != 0);</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;              <span class="keywordflow">if</span> (hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#afa8df22e51290163f8a2d5a7735bb324">IsCfAck</a> ())</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;                {</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;                  <a class="code" href="classns3_1_1_mac_low.html#a811ffb89964a59347ee294e3d233f36c">m_currentTxop</a>-&gt;<a class="code" href="classns3_1_1_txop.html#acd1bb8b45e7a39cfc7e1e710dc514b3e">GotAck</a> ();</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;                }</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;              <span class="keywordflow">else</span></div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;                {</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;                  <a class="code" href="classns3_1_1_mac_low.html#a811ffb89964a59347ee294e3d233f36c">m_currentTxop</a>-&gt;<a class="code" href="classns3_1_1_txop.html#a76ed6b61366d7c6797a6910d8ad4eaa5">MissedAck</a> ();</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;                }</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;            }</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_mac_low.html#a811ffb89964a59347ee294e3d233f36c">m_currentTxop</a> != 0)</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;            {</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;              <a class="code" href="classns3_1_1_mac_low.html#a811ffb89964a59347ee294e3d233f36c">m_currentTxop</a>-&gt;<a class="code" href="classns3_1_1_txop.html#a1b21acbf674cd1a9f56c0b8d79454d26">GotCfEnd</a> ();</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;            }</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;          <a class="code" href="classns3_1_1_mac_low.html#a57b40499d27ce4a39651572c1472b121">m_cfAckInfo</a>.<a class="code" href="structns3_1_1_mac_low_1_1_cf_ack_info.html#a8c676c7b0cb72efd7f2a1cfda9c65d01">expectCfAck</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;        }</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;        {</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;          <a class="code" href="group__logging.html#ga413f1886406d49f59a6a0a89b77b4d0a">NS_LOG_DEBUG</a> (<span class="stringliteral">&quot;rx drop &quot;</span> &lt;&lt; hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a7c2f88bdefc903df253eef1e5b7bf2af">GetTypeString</a> ());</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;        }</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;    }</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#aa1c4acbda4ace9f7a920c97d71bdd097">GetAddr1</a> () == <a class="code" href="classns3_1_1_mac_low.html#a23004ca5405c82111f5b20eec03b3d9a">m_self</a>)</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;    {</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;      <span class="keywordflow">if</span> (hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a8f7eb39875a921d2a1b915836f6765b2">IsCfPoll</a> ())</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;        {</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;          <a class="code" href="classns3_1_1_mac_low.html#a501a55ed9df40e8983e09cd2212b81cc">m_cfpStart</a> = <a class="code" href="classns3_1_1_simulator.html#ac3178fa975b419f7875e7105be122800">Simulator::Now</a> ();</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_mac_low.html#a57b40499d27ce4a39651572c1472b121">m_cfAckInfo</a>.<a class="code" href="structns3_1_1_mac_low_1_1_cf_ack_info.html#a8c676c7b0cb72efd7f2a1cfda9c65d01">expectCfAck</a> &amp;&amp; !hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#afa8df22e51290163f8a2d5a7735bb324">IsCfAck</a> ())</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;            {</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;              <a class="code" href="group__assert.html#ga6dccdb0de9b252f60088ce281c49d052">NS_ASSERT</a> (<a class="code" href="classns3_1_1_mac_low.html#a811ffb89964a59347ee294e3d233f36c">m_currentTxop</a> != 0);</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;              <a class="code" href="classns3_1_1_ptr.html">Ptr&lt;Txop&gt;</a> txop = <a class="code" href="classns3_1_1_mac_low.html#a811ffb89964a59347ee294e3d233f36c">m_currentTxop</a>;</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;              <a class="code" href="classns3_1_1_mac_low.html#a811ffb89964a59347ee294e3d233f36c">m_currentTxop</a> = 0;</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;              txop-&gt;<a class="code" href="classns3_1_1_txop.html#a76ed6b61366d7c6797a6910d8ad4eaa5">MissedAck</a> ();</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;              <a class="code" href="classns3_1_1_mac_low.html#a57b40499d27ce4a39651572c1472b121">m_cfAckInfo</a>.<a class="code" href="structns3_1_1_mac_low_1_1_cf_ack_info.html#a8c676c7b0cb72efd7f2a1cfda9c65d01">expectCfAck</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;            }</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;        }</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#a1c7f45f071f9e5eb97764f64e5cdaf1b">m_stationManager</a>-&gt;<a class="code" href="classns3_1_1_wifi_remote_station_manager.html#ac2604b3517d442f39cc5120af49b989a">ReportRxOk</a> (hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a5d32ca3e3a34f1185df86927d4346430">GetAddr2</a> (),</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;                                    rxSnr, txVector.<a class="code" href="classns3_1_1_wifi_tx_vector.html#aadd3ccf9d68dd8f06d4cfedc352498fb">GetMode</a> ());</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;      <span class="keywordflow">if</span> (hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a368b97ef91b953af76794112fd3681c2">IsQosData</a> () &amp;&amp; <a class="code" href="classns3_1_1_mac_low.html#af3d3e6e892e33bfb97bf65199c3aafd6">ReceiveMpdu</a> (mpdu))</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;        {</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;          <span class="comment">/* From section 9.10.4 in IEEE 802.11:</span></div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;<span class="comment">             Upon the receipt of a QoS data frame from the originator for which</span></div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;<span class="comment">             the block ack agreement exists, the recipient shall buffer the MSDU</span></div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;<span class="comment">             regardless of the value of the Ack Policy subfield within the</span></div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;<span class="comment">             QoS Control field of the QoS data frame. */</span></div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;          <span class="keywordflow">if</span> (hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a08a4aa07029641c46820044c7e51bf2e">IsQosAck</a> () &amp;&amp; !ampduSubframe)</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;            {</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;              <a class="code" href="group__logging.html#ga413f1886406d49f59a6a0a89b77b4d0a">NS_LOG_DEBUG</a> (<span class="stringliteral">&quot;rx QoS unicast/sendAck from=&quot;</span> &lt;&lt; hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a5d32ca3e3a34f1185df86927d4346430">GetAddr2</a> ());</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;              <a class="code" href="classns3_1_1_mac_low.html#a7876cc9b328cdb0508f2a7b7647eab10">AgreementsI</a> it = <a class="code" href="classns3_1_1_mac_low.html#a53482df1a7e6f136cfa8ce50fa10adc2">m_bAckAgreements</a>.find (std::make_pair (hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a5d32ca3e3a34f1185df86927d4346430">GetAddr2</a> (), hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a07391fd5b12f7a90fe55325fcccc8e3a">GetQosTid</a> ()));</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160; </div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;              <a class="code" href="classns3_1_1_mac_low.html#aaed81a6cbf94baf2b2f17b9f96b8474d">RxCompleteBufferedPacketsWithSmallerSequence</a> (it-&gt;second.first.GetStartingSequenceControl (),</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;                                                            hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a5d32ca3e3a34f1185df86927d4346430">GetAddr2</a> (), hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a07391fd5b12f7a90fe55325fcccc8e3a">GetQosTid</a> ());</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;              <a class="code" href="classns3_1_1_mac_low.html#aeadf392d37d323fb81f0ef0766f2359a">RxCompleteBufferedPacketsUntilFirstLost</a> (hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a5d32ca3e3a34f1185df86927d4346430">GetAddr2</a> (), hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a07391fd5b12f7a90fe55325fcccc8e3a">GetQosTid</a> ());</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;              <a class="code" href="group__assert.html#ga6dccdb0de9b252f60088ce281c49d052">NS_ASSERT</a> (<a class="code" href="classns3_1_1_mac_low.html#a35ee7cfc983896c26c514bade14b3197">m_sendAckEvent</a>.<a class="code" href="classns3_1_1_event_id.html#acc25141054209b1a286a5471a51bd0c0">IsExpired</a> ());</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;              <a class="code" href="classns3_1_1_mac_low.html#a35ee7cfc983896c26c514bade14b3197">m_sendAckEvent</a> = <a class="code" href="classns3_1_1_simulator.html#a671882c894a08af4a5e91181bf1eec13">Simulator::Schedule</a> (<a class="code" href="classns3_1_1_mac_low.html#a142444428826e0a5f67265dfd7b0f4d2">GetSifs</a> (),</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;                                                    &amp;<a class="code" href="classns3_1_1_mac_low.html#a8db1635644b89072dfcb5fbc2330031b">MacLow::SendAckAfterData</a>, <span class="keyword">this</span>,</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;                                                    hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a5d32ca3e3a34f1185df86927d4346430">GetAddr2</a> (),</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;                                                    hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a1bfde4f8ca07ee46bd0bdc1ab6597e48">GetDuration</a> (),</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;                                                    txVector.<a class="code" href="classns3_1_1_wifi_tx_vector.html#aadd3ccf9d68dd8f06d4cfedc352498fb">GetMode</a> (),</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;                                                    rxSnr);</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;            }</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;          <span class="keywordflow">else</span> <span class="keywordflow">if</span> (hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#afe3dccb6ffb0056ee21cfc67da8871e5">IsQosBlockAck</a> ())</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;            {</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;              <a class="code" href="classns3_1_1_mac_low.html#a7876cc9b328cdb0508f2a7b7647eab10">AgreementsI</a> it = <a class="code" href="classns3_1_1_mac_low.html#a53482df1a7e6f136cfa8ce50fa10adc2">m_bAckAgreements</a>.find (std::make_pair (hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a5d32ca3e3a34f1185df86927d4346430">GetAddr2</a> (), hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a07391fd5b12f7a90fe55325fcccc8e3a">GetQosTid</a> ()));</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;              <span class="comment">/* See section 11.5.3 in IEEE 802.11 for mean of this timer */</span></div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;              <a class="code" href="classns3_1_1_mac_low.html#aafa012c5d2dde80484d6546c802f02f8">ResetBlockAckInactivityTimerIfNeeded</a> (it-&gt;second.first);</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;            }</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;          <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;        }</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a368b97ef91b953af76794112fd3681c2">IsQosData</a> () &amp;&amp; hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#afe3dccb6ffb0056ee21cfc67da8871e5">IsQosBlockAck</a> ())</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;        {</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;          <span class="comment">/* This happens if a packet with ack policy Block Ack is received and a block ack</span></div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;<span class="comment">             agreement for that packet doesn&#39;t exist.</span></div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;<span class="comment">             From section 11.5.3 in IEEE 802.11e:</span></div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;<span class="comment">             When a recipient does not have an active block ack for a TID, but receives</span></div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;<span class="comment">             data MPDUs with the Ack Policy subfield set to Block Ack, it shall discard</span></div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;<span class="comment">             them and shall send a DELBA frame using the normal access</span></div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;<span class="comment">             mechanisms. */</span></div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;          <a class="code" href="group__wifi.html#gab422b4562ba272b39a9b6bca3513f3ac">AcIndex</a> ac = <a class="code" href="group__wifi.html#ga4e36efcff6dd83eaee42e1af0de43d48">QosUtilsMapTidToAc</a> (hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a07391fd5b12f7a90fe55325fcccc8e3a">GetQosTid</a> ());</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;          <a class="code" href="classns3_1_1_mac_low.html#a754751ba4152c9337611a5f015045a44">m_edca</a>[ac]-&gt;SendDelbaFrame (hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a5d32ca3e3a34f1185df86927d4346430">GetAddr2</a> (), hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a07391fd5b12f7a90fe55325fcccc8e3a">GetQosTid</a> (), <span class="keyword">false</span>);</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;          <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;        }</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a368b97ef91b953af76794112fd3681c2">IsQosData</a> () &amp;&amp; hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a6618685d561ee5df69a45636550c7234">IsQosNoAck</a> ())</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;        {</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;          <span class="keywordflow">if</span> (ampduSubframe)</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;            {</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;              <a class="code" href="group__logging.html#ga413f1886406d49f59a6a0a89b77b4d0a">NS_LOG_DEBUG</a> (<span class="stringliteral">&quot;rx Ampdu with No Ack Policy from=&quot;</span> &lt;&lt; hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a5d32ca3e3a34f1185df86927d4346430">GetAddr2</a> ());</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;            }</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;          <span class="keywordflow">else</span></div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;            {</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;              <a class="code" href="group__logging.html#ga413f1886406d49f59a6a0a89b77b4d0a">NS_LOG_DEBUG</a> (<span class="stringliteral">&quot;rx unicast/noAck from=&quot;</span> &lt;&lt; hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a5d32ca3e3a34f1185df86927d4346430">GetAddr2</a> ());</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;            }</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;        }</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#ab7141548a921f63a084720b3b022de79">IsData</a> () || hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a9e27e439b0ef655ac9598f45218364bd">IsMgt</a> ())</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;        {</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;          <span class="keywordflow">if</span> (hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a68d394149beef04171424d90c10aea00">IsProbeResp</a> ())</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;            {</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;              <span class="comment">// Apply SNR tag for probe response quality measurements</span></div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;              <a class="code" href="classns3_1_1_snr_tag.html">SnrTag</a> tag;</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;              tag.<a class="code" href="classns3_1_1_snr_tag.html#a2f9d363bfdd81cf96b90e270eb2fc479">Set</a> (rxSnr);</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;              packet-&gt;<a class="code" href="classns3_1_1_packet.html#ac4a6bcd77e58bdc14c42a7d572d66cc9">AddPacketTag</a> (tag);</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;              mpdu = Create&lt;WifiMacQueueItem&gt; (packet, hdr);</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;            }</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;          <span class="keywordflow">if</span> (hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a9e27e439b0ef655ac9598f45218364bd">IsMgt</a> () &amp;&amp; ampduSubframe)</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;            {</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;              <a class="code" href="group__fatal.html#ga5131d5e3f75d7d4cbfd706ac456fdc85">NS_FATAL_ERROR</a> (<span class="stringliteral">&quot;Received management packet as part of an A-MPDU&quot;</span>);</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;            }</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;          <span class="keywordflow">else</span></div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;            {</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;              <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_mac_low.html#a4e08342dc51fd123ff9db8b4061df754">IsCfPeriod</a> ())</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;                {</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;                  <span class="keywordflow">if</span> (hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a213177655b35a50dabb6c571f52d0e98">HasData</a> ())</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;                    {</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;                      <a class="code" href="classns3_1_1_mac_low.html#a57b40499d27ce4a39651572c1472b121">m_cfAckInfo</a>.<a class="code" href="structns3_1_1_mac_low_1_1_cf_ack_info.html#a9a90048cea029293950210cd9e7916f6">appendCfAck</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;                      <a class="code" href="classns3_1_1_mac_low.html#a57b40499d27ce4a39651572c1472b121">m_cfAckInfo</a>.<a class="code" href="structns3_1_1_mac_low_1_1_cf_ack_info.html#a2c6eef8471b382b88bcba6cc26fa4668">address</a> = hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a5d32ca3e3a34f1185df86927d4346430">GetAddr2</a> ();</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;                    }</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;                }</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;              <span class="keywordflow">else</span></div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;                {</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;                  <a class="code" href="group__logging.html#ga413f1886406d49f59a6a0a89b77b4d0a">NS_LOG_DEBUG</a> (<span class="stringliteral">&quot;rx unicast/sendAck from=&quot;</span> &lt;&lt; hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a5d32ca3e3a34f1185df86927d4346430">GetAddr2</a> ());</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;                  <a class="code" href="group__assert.html#ga6dccdb0de9b252f60088ce281c49d052">NS_ASSERT</a> (<a class="code" href="classns3_1_1_mac_low.html#a35ee7cfc983896c26c514bade14b3197">m_sendAckEvent</a>.<a class="code" href="classns3_1_1_event_id.html#acc25141054209b1a286a5471a51bd0c0">IsExpired</a> ());</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;                  <a class="code" href="classns3_1_1_mac_low.html#a35ee7cfc983896c26c514bade14b3197">m_sendAckEvent</a> = <a class="code" href="classns3_1_1_simulator.html#a671882c894a08af4a5e91181bf1eec13">Simulator::Schedule</a> (<a class="code" href="classns3_1_1_mac_low.html#a142444428826e0a5f67265dfd7b0f4d2">GetSifs</a> (),</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;                                                        &amp;<a class="code" href="classns3_1_1_mac_low.html#a8db1635644b89072dfcb5fbc2330031b">MacLow::SendAckAfterData</a>, <span class="keyword">this</span>,</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;                                                        hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a5d32ca3e3a34f1185df86927d4346430">GetAddr2</a> (),</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;                                                        hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a1bfde4f8ca07ee46bd0bdc1ab6597e48">GetDuration</a> (),</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;                                                        txVector.<a class="code" href="classns3_1_1_wifi_tx_vector.html#aadd3ccf9d68dd8f06d4cfedc352498fb">GetMode</a> (),</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;                                                        rxSnr);</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;                }</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;            }</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;        }</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;      <span class="keywordflow">goto</span> rxPacket;</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    }</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#aa1c4acbda4ace9f7a920c97d71bdd097">GetAddr1</a> ().<a class="code" href="classns3_1_1_mac48_address.html#a56fbd59ebf507db02609a1e77c7c4656">IsGroup</a> ())</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;    {</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;      <span class="keywordflow">if</span> (ampduSubframe)</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;        {</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;          <a class="code" href="group__fatal.html#ga5131d5e3f75d7d4cbfd706ac456fdc85">NS_FATAL_ERROR</a> (<span class="stringliteral">&quot;Received group addressed packet as part of an A-MPDU&quot;</span>);</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;        }</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;        {</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;          <span class="keywordflow">if</span> (hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#ab7141548a921f63a084720b3b022de79">IsData</a> () || hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a9e27e439b0ef655ac9598f45218364bd">IsMgt</a> ())</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;            {</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;              <a class="code" href="group__logging.html#ga413f1886406d49f59a6a0a89b77b4d0a">NS_LOG_DEBUG</a> (<span class="stringliteral">&quot;rx group from=&quot;</span> &lt;&lt; hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a5d32ca3e3a34f1185df86927d4346430">GetAddr2</a> ());</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;              <span class="keywordflow">if</span> (hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#afe7c9a624523907e0c291221e3789d21">IsBeacon</a> ())</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;                {</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;                  <span class="comment">// Apply SNR tag for beacon quality measurements</span></div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;                  <a class="code" href="classns3_1_1_snr_tag.html">SnrTag</a> tag;</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;                  tag.<a class="code" href="classns3_1_1_snr_tag.html#a2f9d363bfdd81cf96b90e270eb2fc479">Set</a> (rxSnr);</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;                  packet-&gt;<a class="code" href="classns3_1_1_packet.html#ac4a6bcd77e58bdc14c42a7d572d66cc9">AddPacketTag</a> (tag);</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;                  mpdu = Create&lt;WifiMacQueueItem&gt; (packet, hdr);</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;                }</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;              <span class="keywordflow">goto</span> rxPacket;</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;            }</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;        }</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;    }</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_mac_low.html#ad13beb74b1519291ee00d14f1d532fdb">m_promisc</a>)</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;    {</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;      <a class="code" href="group__assert.html#ga6dccdb0de9b252f60088ce281c49d052">NS_ASSERT</a> (hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#aa1c4acbda4ace9f7a920c97d71bdd097">GetAddr1</a> () != <a class="code" href="classns3_1_1_mac_low.html#a23004ca5405c82111f5b20eec03b3d9a">m_self</a>);</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;      <span class="keywordflow">if</span> (hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#ab7141548a921f63a084720b3b022de79">IsData</a> ())</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;        {</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;          <span class="keywordflow">goto</span> rxPacket;</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;        }</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;    }</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;    {</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_mac_low.html#a57b40499d27ce4a39651572c1472b121">m_cfAckInfo</a>.<a class="code" href="structns3_1_1_mac_low_1_1_cf_ack_info.html#a8c676c7b0cb72efd7f2a1cfda9c65d01">expectCfAck</a> &amp;&amp; hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#afa8df22e51290163f8a2d5a7735bb324">IsCfAck</a> ())</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;        {</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;          <a class="code" href="classns3_1_1_mac_low.html#a57b40499d27ce4a39651572c1472b121">m_cfAckInfo</a>.<a class="code" href="structns3_1_1_mac_low_1_1_cf_ack_info.html#a8c676c7b0cb72efd7f2a1cfda9c65d01">expectCfAck</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;          <a class="code" href="group__assert.html#ga6dccdb0de9b252f60088ce281c49d052">NS_ASSERT</a> (<a class="code" href="classns3_1_1_mac_low.html#a811ffb89964a59347ee294e3d233f36c">m_currentTxop</a> != 0);</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;          <a class="code" href="classns3_1_1_mac_low.html#a811ffb89964a59347ee294e3d233f36c">m_currentTxop</a>-&gt;<a class="code" href="classns3_1_1_txop.html#acd1bb8b45e7a39cfc7e1e710dc514b3e">GotAck</a> ();</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;        }</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;      <a class="code" href="group__logging.html#ga413f1886406d49f59a6a0a89b77b4d0a">NS_LOG_DEBUG</a> (<span class="stringliteral">&quot;rx not for me from=&quot;</span> &lt;&lt; hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a5d32ca3e3a34f1185df86927d4346430">GetAddr2</a> ());</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;    }</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;  <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;rxPacket:</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_mac_low.html#a57b40499d27ce4a39651572c1472b121">m_cfAckInfo</a>.<a class="code" href="structns3_1_1_mac_low_1_1_cf_ack_info.html#a8c676c7b0cb72efd7f2a1cfda9c65d01">expectCfAck</a> &amp;&amp; hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#afa8df22e51290163f8a2d5a7735bb324">IsCfAck</a> ())</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;    {</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#a57b40499d27ce4a39651572c1472b121">m_cfAckInfo</a>.<a class="code" href="structns3_1_1_mac_low_1_1_cf_ack_info.html#a8c676c7b0cb72efd7f2a1cfda9c65d01">expectCfAck</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;      <a class="code" href="group__assert.html#ga6dccdb0de9b252f60088ce281c49d052">NS_ASSERT</a> (<a class="code" href="classns3_1_1_mac_low.html#a811ffb89964a59347ee294e3d233f36c">m_currentTxop</a> != 0);</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#a811ffb89964a59347ee294e3d233f36c">m_currentTxop</a>-&gt;<a class="code" href="classns3_1_1_txop.html#acd1bb8b45e7a39cfc7e1e710dc514b3e">GotAck</a> ();</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;    }</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#ac5f2b06b6151c99816c66b7bf946a4d8">m_rxCallback</a> (mpdu);</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;  <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;}</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160; </div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;uint32_t</div>
<div class="line"><a name="l01216"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#aa1cafaeac339f19e26e817224889202f"> 1216</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#aa1cafaeac339f19e26e817224889202f">MacLow::GetCfEndSize</a> (<span class="keywordtype">void</span>)<span class="keyword"> const</span></div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;  <a class="code" href="classns3_1_1_wifi_mac_header.html">WifiMacHeader</a> cfEnd;</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_mac_low.html#a57b40499d27ce4a39651572c1472b121">m_cfAckInfo</a>.<a class="code" href="structns3_1_1_mac_low_1_1_cf_ack_info.html#a8c676c7b0cb72efd7f2a1cfda9c65d01">expectCfAck</a> || <a class="code" href="classns3_1_1_mac_low.html#a57b40499d27ce4a39651572c1472b121">m_cfAckInfo</a>.<a class="code" href="structns3_1_1_mac_low_1_1_cf_ack_info.html#a9a90048cea029293950210cd9e7916f6">appendCfAck</a>)</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;    {</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;      cfEnd.<a class="code" href="classns3_1_1_wifi_mac_header.html#a71172371f11f1cfcb3912bb03134c285">SetType</a> (<a class="code" href="namespacens3.html#a9318472db39b35b2092de5c721e6ab0aa174e4ecc4062de8f0be8e22e3bf0a55c">WIFI_MAC_CTL_END_ACK</a>);</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;    }</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;    {</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;      cfEnd.<a class="code" href="classns3_1_1_wifi_mac_header.html#a71172371f11f1cfcb3912bb03134c285">SetType</a> (<a class="code" href="namespacens3.html#a9318472db39b35b2092de5c721e6ab0aabc19f0507960f8cc3dbffa0a4a959502">WIFI_MAC_CTL_END</a>);</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;    }</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;  <span class="keywordflow">return</span> cfEnd.<a class="code" href="classns3_1_1_wifi_mac_header.html#a5330ccda676bc7348bc633acc67df8fc">GetSize</a> () + 4;</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;}</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160; </div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;<a class="code" href="classns3_1_1_time.html">Time</a></div>
<div class="line"><a name="l01231"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#a7bd44324cf1996798e5346572f873bcc"> 1231</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#a66918702d4803f26e27bf173b4766d16">MacLow::GetAckDuration</a> (<a class="code" href="classns3_1_1_mac48_address.html">Mac48Address</a> to, <a class="code" href="classns3_1_1_wifi_tx_vector.html">WifiTxVector</a> dataTxVector)<span class="keyword"> const</span></div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;  <a class="code" href="classns3_1_1_wifi_tx_vector.html">WifiTxVector</a> ackTxVector = <a class="code" href="classns3_1_1_mac_low.html#aaa82a9f5d9971541a7135f39c4287104">GetAckTxVectorForData</a> (to, dataTxVector.<a class="code" href="classns3_1_1_wifi_tx_vector.html#aadd3ccf9d68dd8f06d4cfedc352498fb">GetMode</a> ());</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classns3_1_1_mac_low.html#a66918702d4803f26e27bf173b4766d16">GetAckDuration</a> (ackTxVector);</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;}</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160; </div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;<a class="code" href="classns3_1_1_time.html">Time</a></div>
<div class="line"><a name="l01238"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#a66918702d4803f26e27bf173b4766d16"> 1238</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#a66918702d4803f26e27bf173b4766d16">MacLow::GetAckDuration</a> (<a class="code" href="classns3_1_1_wifi_tx_vector.html">WifiTxVector</a> ackTxVector)<span class="keyword"> const</span></div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;  <a class="code" href="group__assert.html#ga6dccdb0de9b252f60088ce281c49d052">NS_ASSERT</a> (ackTxVector.<a class="code" href="classns3_1_1_wifi_tx_vector.html#aadd3ccf9d68dd8f06d4cfedc352498fb">GetMode</a> ().<a class="code" href="classns3_1_1_wifi_mode.html#a67e1664cac501221b63a2be307184cc9">GetModulationClass</a> () != <a class="code" href="namespacens3.html#aa999e1221606a2b21b1eb33c2007c217a6ac45cac36cc4454649435d24ebf349c">WIFI_MOD_CLASS_HT</a>); <span class="comment">//Ack should always use non-HT PPDU (HT PPDU cases not supported yet)</span></div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#aee98c7241bb4f0bb8e6d90f5771dacc7">CalculateTxDuration</a> (<a class="code" href="namespacens3.html#a653be81d3cd5994b5f79044abaea458e">GetAckSize</a> (), ackTxVector, <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#afca470e272ec5c3126da63c0a6102f4c">GetFrequency</a> ());</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;}</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160; </div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;<a class="code" href="classns3_1_1_time.html">Time</a></div>
<div class="line"><a name="l01245"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#a43f501698b2688e1803a648065d59018"> 1245</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#a43f501698b2688e1803a648065d59018">MacLow::GetBlockAckDuration</a> (<a class="code" href="classns3_1_1_wifi_tx_vector.html">WifiTxVector</a> blockAckReqTxVector, <a class="code" href="group__wifi.html#ga90f436472d19d7d7f37cbf0b8c288ff7">BlockAckType</a> type)<span class="keyword"> const</span></div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;  <span class="comment">/*</span></div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;<span class="comment">   * For immediate Basic BlockAck we should transmit the frame with the same WifiMode</span></div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;<span class="comment">   * as the BlockAckReq.</span></div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#aee98c7241bb4f0bb8e6d90f5771dacc7">CalculateTxDuration</a> (<a class="code" href="namespacens3.html#a9c30b51d3ef2d1e671ae4c8d57d44321">GetBlockAckSize</a> (type), blockAckReqTxVector, <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#afca470e272ec5c3126da63c0a6102f4c">GetFrequency</a> ());</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;}</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160; </div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;<a class="code" href="classns3_1_1_time.html">Time</a></div>
<div class="line"><a name="l01255"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#af2b46b598171aa8e300f1265fdb8b1ca"> 1255</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#af2b46b598171aa8e300f1265fdb8b1ca">MacLow::GetBlockAckRequestDuration</a> (<a class="code" href="classns3_1_1_wifi_tx_vector.html">WifiTxVector</a> blockAckReqTxVector, <a class="code" href="group__wifi.html#ga90f436472d19d7d7f37cbf0b8c288ff7">BlockAckType</a> type)<span class="keyword"> const</span></div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#aee98c7241bb4f0bb8e6d90f5771dacc7">CalculateTxDuration</a> (<a class="code" href="namespacens3.html#a91e39d8eb8e48719aee120727b1aef3c">GetBlockAckRequestSize</a> (type), blockAckReqTxVector, <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#afca470e272ec5c3126da63c0a6102f4c">GetFrequency</a> ());</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;}</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160; </div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;<a class="code" href="classns3_1_1_time.html">Time</a></div>
<div class="line"><a name="l01261"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#a1080472066215e34cd52242ec6cb0e2a"> 1261</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#a600b2ba477578734cc4a1e3c11e5d5dd">MacLow::GetCtsDuration</a> (<a class="code" href="classns3_1_1_mac48_address.html">Mac48Address</a> to, <a class="code" href="classns3_1_1_wifi_tx_vector.html">WifiTxVector</a> rtsTxVector)<span class="keyword"> const</span></div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;  <a class="code" href="classns3_1_1_wifi_tx_vector.html">WifiTxVector</a> ctsTxVector = <a class="code" href="classns3_1_1_mac_low.html#a10a0e90050844fe4273e1259fb23530f">GetCtsTxVectorForRts</a> (to, rtsTxVector.<a class="code" href="classns3_1_1_wifi_tx_vector.html#aadd3ccf9d68dd8f06d4cfedc352498fb">GetMode</a> ());</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classns3_1_1_mac_low.html#a600b2ba477578734cc4a1e3c11e5d5dd">GetCtsDuration</a> (ctsTxVector);</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;}</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160; </div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;<a class="code" href="classns3_1_1_time.html">Time</a></div>
<div class="line"><a name="l01268"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#a600b2ba477578734cc4a1e3c11e5d5dd"> 1268</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#a600b2ba477578734cc4a1e3c11e5d5dd">MacLow::GetCtsDuration</a> (<a class="code" href="classns3_1_1_wifi_tx_vector.html">WifiTxVector</a> ctsTxVector)<span class="keyword"> const</span></div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;  <a class="code" href="group__assert.html#ga6dccdb0de9b252f60088ce281c49d052">NS_ASSERT</a> (ctsTxVector.<a class="code" href="classns3_1_1_wifi_tx_vector.html#aadd3ccf9d68dd8f06d4cfedc352498fb">GetMode</a> ().<a class="code" href="classns3_1_1_wifi_mode.html#a67e1664cac501221b63a2be307184cc9">GetModulationClass</a> () != <a class="code" href="namespacens3.html#aa999e1221606a2b21b1eb33c2007c217a6ac45cac36cc4454649435d24ebf349c">WIFI_MOD_CLASS_HT</a>); <span class="comment">//CTS should always use non-HT PPDU (HT PPDU cases not supported yet)</span></div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#aee98c7241bb4f0bb8e6d90f5771dacc7">CalculateTxDuration</a> (<a class="code" href="namespacens3.html#a8f21e8e26a4717e746be854a41df7b0d">GetCtsSize</a> (), ctsTxVector, <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#afca470e272ec5c3126da63c0a6102f4c">GetFrequency</a> ());</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;}</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160; </div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;<a class="code" href="classns3_1_1_wifi_tx_vector.html">WifiTxVector</a></div>
<div class="line"><a name="l01275"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#a89fbeddfe91a47f0dcc1f3d7fd5108a0"> 1275</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#a89fbeddfe91a47f0dcc1f3d7fd5108a0">MacLow::GetRtsTxVector</a> (<a class="code" href="classns3_1_1_ptr.html">Ptr&lt;const WifiMacQueueItem&gt;</a> item)<span class="keyword"> const</span></div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;  <a class="code" href="classns3_1_1_mac48_address.html">Mac48Address</a> to = item-&gt;GetHeader ().GetAddr1 ();</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classns3_1_1_mac_low.html#a1c7f45f071f9e5eb97764f64e5cdaf1b">m_stationManager</a>-&gt;<a class="code" href="classns3_1_1_wifi_remote_station_manager.html#a853f412b16d537be85a70277c522dec7">GetRtsTxVector</a> (to, item-&gt;GetPacket ());</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;}</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160; </div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;<a class="code" href="classns3_1_1_wifi_tx_vector.html">WifiTxVector</a></div>
<div class="line"><a name="l01282"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#aeb3a8ccdb7a068b7ee69d507a66a1b60"> 1282</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#aeb3a8ccdb7a068b7ee69d507a66a1b60">MacLow::GetDataTxVector</a> (<a class="code" href="classns3_1_1_ptr.html">Ptr&lt;const WifiMacQueueItem&gt;</a> item)<span class="keyword"> const</span></div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;  <a class="code" href="classns3_1_1_mac48_address.html">Mac48Address</a> to = item-&gt;GetHeader ().GetAddr1 ();</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classns3_1_1_mac_low.html#a1c7f45f071f9e5eb97764f64e5cdaf1b">m_stationManager</a>-&gt;<a class="code" href="classns3_1_1_wifi_remote_station_manager.html#ad81efbe48611977c8cea482721fd823b">GetDataTxVector</a> (to, &amp;item-&gt;GetHeader (), item-&gt;GetPacket ());</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;}</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160; </div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;<a class="code" href="classns3_1_1_time.html">Time</a></div>
<div class="line"><a name="l01289"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#ae23ccb3c313c640daf5bd4c857eb0d7a"> 1289</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#ae23ccb3c313c640daf5bd4c857eb0d7a">MacLow::GetResponseDuration</a> (<span class="keyword">const</span> <a class="code" href="classns3_1_1_mac_low_transmission_parameters.html">MacLowTransmissionParameters</a>&amp; <a class="code" href="namespacealoha.html#aff1381c591fdaf9d3af2b19080c9eed7">params</a>, <a class="code" href="classns3_1_1_wifi_tx_vector.html">WifiTxVector</a> dataTxVector,</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;                             <a class="code" href="classns3_1_1_mac48_address.html">Mac48Address</a> receiver)<span class="keyword"> const</span></div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;  <a class="code" href="group__logging.html#ga90b90d5bad1f39cb1b64923ea94c0761">NS_LOG_FUNCTION</a> (<span class="keyword">this</span> &lt;&lt; receiver &lt;&lt; dataTxVector &lt;&lt; <a class="code" href="namespacealoha.html#aff1381c591fdaf9d3af2b19080c9eed7">params</a>);</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160; </div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;  <a class="code" href="classns3_1_1_time.html">Time</a> <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a> = <a class="code" href="group__timecivil.html#ga33c34b816f8ff6628e33d5c8e9713b9e">Seconds</a> (0);</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacealoha.html#aff1381c591fdaf9d3af2b19080c9eed7">params</a>.MustWaitNormalAck ())</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;    {</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;      <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a> += <a class="code" href="classns3_1_1_mac_low.html#a142444428826e0a5f67265dfd7b0f4d2">GetSifs</a> ();</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;      <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a> += <a class="code" href="classns3_1_1_mac_low.html#a66918702d4803f26e27bf173b4766d16">GetAckDuration</a> (receiver, dataTxVector);</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;    }</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacealoha.html#aff1381c591fdaf9d3af2b19080c9eed7">params</a>.MustWaitBlockAck ())</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;    {</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;      <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a> += <a class="code" href="classns3_1_1_mac_low.html#a142444428826e0a5f67265dfd7b0f4d2">GetSifs</a> ();</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;      <a class="code" href="classns3_1_1_wifi_tx_vector.html">WifiTxVector</a> blockAckReqTxVector = <a class="code" href="classns3_1_1_mac_low.html#a227f7cf96af4e059f660cd6668869e69">GetBlockAckTxVector</a> (<a class="code" href="classns3_1_1_mac_low.html#a23004ca5405c82111f5b20eec03b3d9a">m_self</a>, dataTxVector.<a class="code" href="classns3_1_1_wifi_tx_vector.html#aadd3ccf9d68dd8f06d4cfedc352498fb">GetMode</a> ());</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;      <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a> += <a class="code" href="classns3_1_1_mac_low.html#a43f501698b2688e1803a648065d59018">GetBlockAckDuration</a> (blockAckReqTxVector, <a class="code" href="namespacealoha.html#aff1381c591fdaf9d3af2b19080c9eed7">params</a>.GetBlockAckType ());</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;    }</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacealoha.html#aff1381c591fdaf9d3af2b19080c9eed7">params</a>.MustSendBlockAckRequest ())</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;    {</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;      <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a> += 2 * <a class="code" href="classns3_1_1_mac_low.html#a142444428826e0a5f67265dfd7b0f4d2">GetSifs</a> ();</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;      <a class="code" href="classns3_1_1_wifi_tx_vector.html">WifiTxVector</a> blockAckReqTxVector = <a class="code" href="classns3_1_1_mac_low.html#a227f7cf96af4e059f660cd6668869e69">GetBlockAckTxVector</a> (<a class="code" href="classns3_1_1_mac_low.html#a23004ca5405c82111f5b20eec03b3d9a">m_self</a>, dataTxVector.<a class="code" href="classns3_1_1_wifi_tx_vector.html#aadd3ccf9d68dd8f06d4cfedc352498fb">GetMode</a> ());</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;      <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a> += <a class="code" href="classns3_1_1_mac_low.html#af2b46b598171aa8e300f1265fdb8b1ca">GetBlockAckRequestDuration</a> (blockAckReqTxVector, <a class="code" href="namespacealoha.html#aff1381c591fdaf9d3af2b19080c9eed7">params</a>.GetBlockAckRequestType ());</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;      <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a> += <a class="code" href="classns3_1_1_mac_low.html#a43f501698b2688e1803a648065d59018">GetBlockAckDuration</a> (blockAckReqTxVector, <a class="code" href="namespacealoha.html#aff1381c591fdaf9d3af2b19080c9eed7">params</a>.GetBlockAckRequestType ());</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;    }</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a>;</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;}</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160; </div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;<a class="code" href="classns3_1_1_wifi_mode.html">WifiMode</a></div>
<div class="line"><a name="l01317"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#aebd46ed9f77a2e2cc6a10d5832046f11"> 1317</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#aebd46ed9f77a2e2cc6a10d5832046f11">MacLow::GetControlAnswerMode</a> (<a class="code" href="classns3_1_1_wifi_mode.html">WifiMode</a> reqMode)<span class="keyword"> const</span></div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;  <a class="code" href="group__logging.html#ga90b90d5bad1f39cb1b64923ea94c0761">NS_LOG_FUNCTION</a> (<span class="keyword">this</span> &lt;&lt; reqMode);</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;  <a class="code" href="classns3_1_1_wifi_mode.html">WifiMode</a> mode = <a class="code" href="classns3_1_1_mac_low.html#a1c7f45f071f9e5eb97764f64e5cdaf1b">m_stationManager</a>-&gt;<a class="code" href="classns3_1_1_wifi_remote_station_manager.html#a0f76976a6d7a8761b1ae1b9b74f18fbf">GetDefaultMode</a> ();</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;  <span class="keywordtype">bool</span> found = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;  <span class="comment">//First, search the BSS Basic Rate set</span></div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;  <span class="keywordflow">for</span> (uint8_t i = 0; i &lt; <a class="code" href="classns3_1_1_mac_low.html#a1c7f45f071f9e5eb97764f64e5cdaf1b">m_stationManager</a>-&gt;<a class="code" href="classns3_1_1_wifi_remote_station_manager.html#a433cd6f0f2b9ab512fb4c2578e661ebb">GetNBasicModes</a> (); i++)</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;    {</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;      <a class="code" href="classns3_1_1_wifi_mode.html">WifiMode</a> testMode = <a class="code" href="classns3_1_1_mac_low.html#a1c7f45f071f9e5eb97764f64e5cdaf1b">m_stationManager</a>-&gt;<a class="code" href="classns3_1_1_wifi_remote_station_manager.html#ab239018079ee424c7dfe9a81b4abc3b0">GetBasicMode</a> (i);</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;      <span class="keywordflow">if</span> ((!found || testMode.<a class="code" href="classns3_1_1_wifi_mode.html#a5d373f9f80a35339205259fac667593b">IsHigherDataRate</a> (mode))</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;          &amp;&amp; (!testMode.<a class="code" href="classns3_1_1_wifi_mode.html#a5d373f9f80a35339205259fac667593b">IsHigherDataRate</a> (reqMode))</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;          &amp;&amp; (<a class="code" href="namespacens3.html#a4a34276daa9aaa45fe610d9373a41b33">IsAllowedControlAnswerModulationClass</a> (reqMode.<a class="code" href="classns3_1_1_wifi_mode.html#a67e1664cac501221b63a2be307184cc9">GetModulationClass</a> (), testMode.<a class="code" href="classns3_1_1_wifi_mode.html#a67e1664cac501221b63a2be307184cc9">GetModulationClass</a> ())))</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;        {</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;          mode = testMode;</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;          <span class="comment">//We&#39;ve found a potentially-suitable transmit rate, but we</span></div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;          <span class="comment">//need to continue and consider all the basic rates before</span></div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;          <span class="comment">//we can be sure we&#39;ve got the right one.</span></div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;          found = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;        }</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;    }</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_mac_low.html#a1c7f45f071f9e5eb97764f64e5cdaf1b">m_stationManager</a>-&gt;<a class="code" href="classns3_1_1_wifi_remote_station_manager.html#ae2d1200da0ec74745ef9b496f9c0251f">GetHtSupported</a> ())</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;    {</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;      <span class="keywordflow">if</span> (!found)</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;        {</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;          mode = <a class="code" href="classns3_1_1_mac_low.html#a1c7f45f071f9e5eb97764f64e5cdaf1b">m_stationManager</a>-&gt;<a class="code" href="classns3_1_1_wifi_remote_station_manager.html#a2422db307a1cd07b938ec2d4b8442668">GetDefaultMcs</a> ();</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;          <span class="keywordflow">for</span> (uint8_t i = 0; i != <a class="code" href="classns3_1_1_mac_low.html#a1c7f45f071f9e5eb97764f64e5cdaf1b">m_stationManager</a>-&gt;<a class="code" href="classns3_1_1_wifi_remote_station_manager.html#a379edeb466e614e126d7e8ecd45ee856">GetNBasicMcs</a> (); i++)</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;            {</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;              <a class="code" href="classns3_1_1_wifi_mode.html">WifiMode</a> testMode = <a class="code" href="classns3_1_1_mac_low.html#a1c7f45f071f9e5eb97764f64e5cdaf1b">m_stationManager</a>-&gt;<a class="code" href="classns3_1_1_wifi_remote_station_manager.html#aa8cff366278b007565ad4a5547201162">GetBasicMcs</a> (i);</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;              <span class="keywordflow">if</span> ((!found || testMode.<a class="code" href="classns3_1_1_wifi_mode.html#a5d373f9f80a35339205259fac667593b">IsHigherDataRate</a> (mode))</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;                  &amp;&amp; (!testMode.<a class="code" href="classns3_1_1_wifi_mode.html#a5d373f9f80a35339205259fac667593b">IsHigherDataRate</a> (reqMode))</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;                  &amp;&amp; (testMode.<a class="code" href="classns3_1_1_wifi_mode.html#a67e1664cac501221b63a2be307184cc9">GetModulationClass</a> () == reqMode.<a class="code" href="classns3_1_1_wifi_mode.html#a67e1664cac501221b63a2be307184cc9">GetModulationClass</a> ()))</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;                {</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;                  mode = testMode;</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;                  <span class="comment">//We&#39;ve found a potentially-suitable transmit rate, but we</span></div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;                  <span class="comment">//need to continue and consider all the basic rates before</span></div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;                  <span class="comment">//we can be sure we&#39;ve got the right one.</span></div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;                  found = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;                }</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;            }</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;        }</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;    }</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;  <span class="comment">//If we found a suitable rate in the BSSBasicRateSet, then we are</span></div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;  <span class="comment">//done and can return that mode.</span></div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;  <span class="keywordflow">if</span> (found)</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;    {</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;      <a class="code" href="group__logging.html#ga413f1886406d49f59a6a0a89b77b4d0a">NS_LOG_DEBUG</a> (<span class="stringliteral">&quot;MacLow::GetControlAnswerMode returning &quot;</span> &lt;&lt; mode);</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;      <span class="keywordflow">return</span> mode;</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;    }</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160; </div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;  <span class="keywordflow">for</span> (uint8_t idx = 0; idx &lt; <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#a978d3a554116b0654c40fc22e469ceaa">GetNModes</a> (); idx++)</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;    {</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;      <a class="code" href="classns3_1_1_wifi_mode.html">WifiMode</a> thismode = <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#aa1b9ecfcc6436b8882af36500cb0a2ea">GetMode</a> (idx);</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;      <span class="comment">/* If the rate:</span></div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;<span class="comment">       *</span></div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;<span class="comment">       *  - is a mandatory rate for the PHY, and</span></div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;<span class="comment">       *  - is equal to or faster than our current best choice, and</span></div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;<span class="comment">       *  - is less than or equal to the rate of the received frame, and</span></div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;<span class="comment">       *  - is of the same modulation class as the received frame</span></div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;<span class="comment">       *</span></div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;<span class="comment">       * ...then it&#39;s our best choice so far.</span></div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;<span class="comment">       */</span></div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;      <span class="keywordflow">if</span> (thismode.<a class="code" href="classns3_1_1_wifi_mode.html#af44627470a1d84ba3af706a7764d5cbb">IsMandatory</a> ()</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;          &amp;&amp; (!found || thismode.<a class="code" href="classns3_1_1_wifi_mode.html#a5d373f9f80a35339205259fac667593b">IsHigherDataRate</a> (mode))</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;          &amp;&amp; (!thismode.<a class="code" href="classns3_1_1_wifi_mode.html#a5d373f9f80a35339205259fac667593b">IsHigherDataRate</a> (reqMode))</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;          &amp;&amp; (<a class="code" href="namespacens3.html#a4a34276daa9aaa45fe610d9373a41b33">IsAllowedControlAnswerModulationClass</a> (reqMode.<a class="code" href="classns3_1_1_wifi_mode.html#a67e1664cac501221b63a2be307184cc9">GetModulationClass</a> (), thismode.<a class="code" href="classns3_1_1_wifi_mode.html#a67e1664cac501221b63a2be307184cc9">GetModulationClass</a> ())))</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;        {</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;          mode = thismode;</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;          <span class="comment">//As above; we&#39;ve found a potentially-suitable transmit</span></div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;          <span class="comment">//rate, but we need to continue and consider all the</span></div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;          <span class="comment">//mandatory rates before we can be sure we&#39;ve got the right one.</span></div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;          found = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;        }</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;    }</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_mac_low.html#a1c7f45f071f9e5eb97764f64e5cdaf1b">m_stationManager</a>-&gt;<a class="code" href="classns3_1_1_wifi_remote_station_manager.html#ae2d1200da0ec74745ef9b496f9c0251f">GetHtSupported</a> () )</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;    {</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;      <span class="keywordflow">for</span> (uint8_t idx = 0; idx &lt; <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#a6564e0e1e90982b5bb78898449f093e7">GetNMcs</a> (); idx++)</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;        {</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;          <a class="code" href="classns3_1_1_wifi_mode.html">WifiMode</a> thismode = <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#ac5e4ea4c408896451a8ad77e77a88231">GetMcs</a> (idx);</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;          <span class="keywordflow">if</span> (thismode.<a class="code" href="classns3_1_1_wifi_mode.html#af44627470a1d84ba3af706a7764d5cbb">IsMandatory</a> ()</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;              &amp;&amp; (!found || thismode.<a class="code" href="classns3_1_1_wifi_mode.html#a5d373f9f80a35339205259fac667593b">IsHigherDataRate</a> (mode))</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;              &amp;&amp; (!thismode.<a class="code" href="classns3_1_1_wifi_mode.html#ae0afedae9bf1e83c23c5391da28078f9">IsHigherCodeRate</a> (reqMode))</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;              &amp;&amp; (thismode.<a class="code" href="classns3_1_1_wifi_mode.html#a67e1664cac501221b63a2be307184cc9">GetModulationClass</a> () == reqMode.<a class="code" href="classns3_1_1_wifi_mode.html#a67e1664cac501221b63a2be307184cc9">GetModulationClass</a> ()))</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;            {</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;              mode = thismode;</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;              <span class="comment">//As above; we&#39;ve found a potentially-suitable transmit</span></div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;              <span class="comment">//rate, but we need to continue and consider all the</span></div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;              <span class="comment">//mandatory rates before we can be sure we&#39;ve got the right one.</span></div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;              found = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;            }</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;        }</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;    }</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160; </div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;  <span class="keywordflow">if</span> (!found)</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;    {</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;      <a class="code" href="group__fatal.html#ga5131d5e3f75d7d4cbfd706ac456fdc85">NS_FATAL_ERROR</a> (<span class="stringliteral">&quot;Can&#39;t find response rate for &quot;</span> &lt;&lt; reqMode);</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;    }</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160; </div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;  <a class="code" href="group__logging.html#ga413f1886406d49f59a6a0a89b77b4d0a">NS_LOG_DEBUG</a> (<span class="stringliteral">&quot;MacLow::GetControlAnswerMode returning &quot;</span> &lt;&lt; mode);</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;  <span class="keywordflow">return</span> mode;</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;}</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160; </div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;<a class="code" href="classns3_1_1_wifi_tx_vector.html">WifiTxVector</a></div>
<div class="line"><a name="l01459"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#abe2810a59020adbcf64abbef2bcf319f"> 1459</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#abe2810a59020adbcf64abbef2bcf319f">MacLow::GetCtsTxVector</a> (<a class="code" href="classns3_1_1_mac48_address.html">Mac48Address</a> to, <a class="code" href="classns3_1_1_wifi_mode.html">WifiMode</a> rtsTxMode)<span class="keyword"> const</span></div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;  <a class="code" href="group__assert.html#ga6dccdb0de9b252f60088ce281c49d052">NS_ASSERT</a> (!to.<a class="code" href="classns3_1_1_mac48_address.html#a56fbd59ebf507db02609a1e77c7c4656">IsGroup</a> ());</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;  <a class="code" href="classns3_1_1_wifi_mode.html">WifiMode</a> ctsMode = <a class="code" href="classns3_1_1_mac_low.html#aebd46ed9f77a2e2cc6a10d5832046f11">GetControlAnswerMode</a> (rtsTxMode);</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;  <a class="code" href="classns3_1_1_wifi_tx_vector.html">WifiTxVector</a> v;</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;  v.<a class="code" href="classns3_1_1_wifi_tx_vector.html#af39f17fec348c22f8c963bcb6bb5fc53">SetMode</a> (ctsMode);</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;  v.<a class="code" href="classns3_1_1_wifi_tx_vector.html#afa5117513e1a7bfa717c3d7556192525">SetPreambleType</a> (<a class="code" href="namespacens3.html#ae180410a6fd89fcc32fd0f720b1c0a40">GetPreambleForTransmission</a> (ctsMode.<a class="code" href="classns3_1_1_wifi_mode.html#a67e1664cac501221b63a2be307184cc9">GetModulationClass</a> (), <a class="code" href="classns3_1_1_mac_low.html#a1c7f45f071f9e5eb97764f64e5cdaf1b">m_stationManager</a>-&gt;<a class="code" href="classns3_1_1_wifi_remote_station_manager.html#a9864b09190adb8e2b0c2d3658eacc6ce">GetShortPreambleEnabled</a> (), <a class="code" href="classns3_1_1_mac_low.html#a1c7f45f071f9e5eb97764f64e5cdaf1b">m_stationManager</a>-&gt;<a class="code" href="classns3_1_1_wifi_remote_station_manager.html#ad0838e2b79a382cf65f68b7cde8ec608">UseGreenfieldForDestination</a> (to)));</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;  v.<a class="code" href="classns3_1_1_wifi_tx_vector.html#a25743cd89a5cb95ec22a9e584fa044f3">SetTxPowerLevel</a> (<a class="code" href="classns3_1_1_mac_low.html#a1c7f45f071f9e5eb97764f64e5cdaf1b">m_stationManager</a>-&gt;<a class="code" href="classns3_1_1_wifi_remote_station_manager.html#aa8712084939846a0c39de0d9c618a0ec">GetDefaultTxPowerLevel</a> ());</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;  v.<a class="code" href="classns3_1_1_wifi_tx_vector.html#a2bd711576c12a747bc3a800ef4cc0a5b">SetChannelWidth</a> (<a class="code" href="namespacens3.html#a3b6822ca0fc413acfcfa182b22f6fa86">GetChannelWidthForTransmission</a> (ctsMode, <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#af55a96fc67e724abd99aeaeab826187f">GetChannelWidth</a> ()));</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;   uint16_t ctsTxGuardInterval = <a class="code" href="namespacens3.html#a979caa1d7cbfc08ececb6fd3ad561e26">ConvertGuardIntervalToNanoSeconds</a> (ctsMode, <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#a8371199e86407919480c847d16462240">GetShortGuardInterval</a> (), <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#a6bc056d30b3942be3cb0459096385e56">GetGuardInterval</a> ());</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;  v.<a class="code" href="classns3_1_1_wifi_tx_vector.html#a40280b31baf8d7cef1a7234715969d06">SetGuardInterval</a> (ctsTxGuardInterval);</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;  v.<a class="code" href="classns3_1_1_wifi_tx_vector.html#af6b333491a8b20c064d8d1ad35381194">SetNss</a> (1);</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;  <span class="keywordflow">return</span> v;</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;}</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160; </div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;<a class="code" href="classns3_1_1_wifi_tx_vector.html">WifiTxVector</a></div>
<div class="line"><a name="l01475"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#aae813ebc059b7e6aa1c88607e2969936"> 1475</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#aae813ebc059b7e6aa1c88607e2969936">MacLow::GetAckTxVector</a> (<a class="code" href="classns3_1_1_mac48_address.html">Mac48Address</a> to, <a class="code" href="classns3_1_1_wifi_mode.html">WifiMode</a> dataTxMode)<span class="keyword"> const</span></div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;  <a class="code" href="group__assert.html#ga6dccdb0de9b252f60088ce281c49d052">NS_ASSERT</a> (!to.<a class="code" href="classns3_1_1_mac48_address.html#a56fbd59ebf507db02609a1e77c7c4656">IsGroup</a> ());</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;  <a class="code" href="classns3_1_1_wifi_mode.html">WifiMode</a> ackMode = <a class="code" href="classns3_1_1_mac_low.html#aebd46ed9f77a2e2cc6a10d5832046f11">GetControlAnswerMode</a> (dataTxMode);</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;  <a class="code" href="classns3_1_1_wifi_tx_vector.html">WifiTxVector</a> v;</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;  v.<a class="code" href="classns3_1_1_wifi_tx_vector.html#af39f17fec348c22f8c963bcb6bb5fc53">SetMode</a> (ackMode);</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;  v.<a class="code" href="classns3_1_1_wifi_tx_vector.html#afa5117513e1a7bfa717c3d7556192525">SetPreambleType</a> (<a class="code" href="namespacens3.html#ae180410a6fd89fcc32fd0f720b1c0a40">GetPreambleForTransmission</a> (ackMode.<a class="code" href="classns3_1_1_wifi_mode.html#a67e1664cac501221b63a2be307184cc9">GetModulationClass</a> (), <a class="code" href="classns3_1_1_mac_low.html#a1c7f45f071f9e5eb97764f64e5cdaf1b">m_stationManager</a>-&gt;<a class="code" href="classns3_1_1_wifi_remote_station_manager.html#a9864b09190adb8e2b0c2d3658eacc6ce">GetShortPreambleEnabled</a> (), <a class="code" href="classns3_1_1_mac_low.html#a1c7f45f071f9e5eb97764f64e5cdaf1b">m_stationManager</a>-&gt;<a class="code" href="classns3_1_1_wifi_remote_station_manager.html#ad0838e2b79a382cf65f68b7cde8ec608">UseGreenfieldForDestination</a> (to)));</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;  v.<a class="code" href="classns3_1_1_wifi_tx_vector.html#a25743cd89a5cb95ec22a9e584fa044f3">SetTxPowerLevel</a> (<a class="code" href="classns3_1_1_mac_low.html#a1c7f45f071f9e5eb97764f64e5cdaf1b">m_stationManager</a>-&gt;<a class="code" href="classns3_1_1_wifi_remote_station_manager.html#aa8712084939846a0c39de0d9c618a0ec">GetDefaultTxPowerLevel</a> ());</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;  v.<a class="code" href="classns3_1_1_wifi_tx_vector.html#a2bd711576c12a747bc3a800ef4cc0a5b">SetChannelWidth</a> (<a class="code" href="namespacens3.html#a3b6822ca0fc413acfcfa182b22f6fa86">GetChannelWidthForTransmission</a> (ackMode, <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#af55a96fc67e724abd99aeaeab826187f">GetChannelWidth</a> ()));</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;   uint16_t ackTxGuardInterval = <a class="code" href="namespacens3.html#a979caa1d7cbfc08ececb6fd3ad561e26">ConvertGuardIntervalToNanoSeconds</a> (ackMode, <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#a8371199e86407919480c847d16462240">GetShortGuardInterval</a> (), <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#a6bc056d30b3942be3cb0459096385e56">GetGuardInterval</a> ());</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;  v.<a class="code" href="classns3_1_1_wifi_tx_vector.html#a40280b31baf8d7cef1a7234715969d06">SetGuardInterval</a> (ackTxGuardInterval);</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;  v.<a class="code" href="classns3_1_1_wifi_tx_vector.html#af6b333491a8b20c064d8d1ad35381194">SetNss</a> (1);</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;  <span class="keywordflow">return</span> v;</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;}</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160; </div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;<a class="code" href="classns3_1_1_wifi_tx_vector.html">WifiTxVector</a></div>
<div class="line"><a name="l01491"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#a227f7cf96af4e059f660cd6668869e69"> 1491</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#a227f7cf96af4e059f660cd6668869e69">MacLow::GetBlockAckTxVector</a> (<a class="code" href="classns3_1_1_mac48_address.html">Mac48Address</a> to, <a class="code" href="classns3_1_1_wifi_mode.html">WifiMode</a> dataTxMode)<span class="keyword"> const</span></div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;  <a class="code" href="group__assert.html#ga6dccdb0de9b252f60088ce281c49d052">NS_ASSERT</a> (!to.<a class="code" href="classns3_1_1_mac48_address.html#a56fbd59ebf507db02609a1e77c7c4656">IsGroup</a> ());</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;  <a class="code" href="classns3_1_1_wifi_mode.html">WifiMode</a> blockAckMode = <a class="code" href="classns3_1_1_mac_low.html#aebd46ed9f77a2e2cc6a10d5832046f11">GetControlAnswerMode</a> (dataTxMode);</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;  <a class="code" href="classns3_1_1_wifi_tx_vector.html">WifiTxVector</a> v;</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;  v.<a class="code" href="classns3_1_1_wifi_tx_vector.html#af39f17fec348c22f8c963bcb6bb5fc53">SetMode</a> (blockAckMode);</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;  v.<a class="code" href="classns3_1_1_wifi_tx_vector.html#afa5117513e1a7bfa717c3d7556192525">SetPreambleType</a> (<a class="code" href="namespacens3.html#ae180410a6fd89fcc32fd0f720b1c0a40">GetPreambleForTransmission</a> (blockAckMode.<a class="code" href="classns3_1_1_wifi_mode.html#a67e1664cac501221b63a2be307184cc9">GetModulationClass</a> (), <a class="code" href="classns3_1_1_mac_low.html#a1c7f45f071f9e5eb97764f64e5cdaf1b">m_stationManager</a>-&gt;<a class="code" href="classns3_1_1_wifi_remote_station_manager.html#a9864b09190adb8e2b0c2d3658eacc6ce">GetShortPreambleEnabled</a> (), <a class="code" href="classns3_1_1_mac_low.html#a1c7f45f071f9e5eb97764f64e5cdaf1b">m_stationManager</a>-&gt;<a class="code" href="classns3_1_1_wifi_remote_station_manager.html#ad0838e2b79a382cf65f68b7cde8ec608">UseGreenfieldForDestination</a> (to)));</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;  v.<a class="code" href="classns3_1_1_wifi_tx_vector.html#a25743cd89a5cb95ec22a9e584fa044f3">SetTxPowerLevel</a> (<a class="code" href="classns3_1_1_mac_low.html#a1c7f45f071f9e5eb97764f64e5cdaf1b">m_stationManager</a>-&gt;<a class="code" href="classns3_1_1_wifi_remote_station_manager.html#aa8712084939846a0c39de0d9c618a0ec">GetDefaultTxPowerLevel</a> ());</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;  v.<a class="code" href="classns3_1_1_wifi_tx_vector.html#a2bd711576c12a747bc3a800ef4cc0a5b">SetChannelWidth</a> (<a class="code" href="namespacens3.html#a3b6822ca0fc413acfcfa182b22f6fa86">GetChannelWidthForTransmission</a> (blockAckMode, <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#af55a96fc67e724abd99aeaeab826187f">GetChannelWidth</a> ()));</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;uint16_t blockAckTxGuardInterval = <a class="code" href="namespacens3.html#a979caa1d7cbfc08ececb6fd3ad561e26">ConvertGuardIntervalToNanoSeconds</a> (blockAckMode, <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#a8371199e86407919480c847d16462240">GetShortGuardInterval</a> (), <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#a6bc056d30b3942be3cb0459096385e56">GetGuardInterval</a> ());</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;  v.<a class="code" href="classns3_1_1_wifi_tx_vector.html#a40280b31baf8d7cef1a7234715969d06">SetGuardInterval</a> (blockAckTxGuardInterval);</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;  v.<a class="code" href="classns3_1_1_wifi_tx_vector.html#af6b333491a8b20c064d8d1ad35381194">SetNss</a> (1);</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;  <span class="keywordflow">return</span> v;</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;}</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160; </div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;<a class="code" href="classns3_1_1_wifi_tx_vector.html">WifiTxVector</a></div>
<div class="line"><a name="l01507"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#a10a0e90050844fe4273e1259fb23530f"> 1507</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#a10a0e90050844fe4273e1259fb23530f">MacLow::GetCtsTxVectorForRts</a> (<a class="code" href="classns3_1_1_mac48_address.html">Mac48Address</a> to, <a class="code" href="classns3_1_1_wifi_mode.html">WifiMode</a> rtsTxMode)<span class="keyword"> const</span></div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classns3_1_1_mac_low.html#abe2810a59020adbcf64abbef2bcf319f">GetCtsTxVector</a> (to, rtsTxMode);</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;}</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160; </div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;<a class="code" href="classns3_1_1_wifi_tx_vector.html">WifiTxVector</a></div>
<div class="line"><a name="l01513"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#aaa82a9f5d9971541a7135f39c4287104"> 1513</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#aaa82a9f5d9971541a7135f39c4287104">MacLow::GetAckTxVectorForData</a> (<a class="code" href="classns3_1_1_mac48_address.html">Mac48Address</a> to, <a class="code" href="classns3_1_1_wifi_mode.html">WifiMode</a> dataTxMode)<span class="keyword"> const</span></div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classns3_1_1_mac_low.html#aae813ebc059b7e6aa1c88607e2969936">GetAckTxVector</a> (to, dataTxMode);</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;}</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160; </div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;<a class="code" href="classns3_1_1_time.html">Time</a></div>
<div class="line"><a name="l01519"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#a77295a7a4b2e8787e8217f1e58b1746f"> 1519</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#a77295a7a4b2e8787e8217f1e58b1746f">MacLow::CalculateOverallTxTime</a> (<a class="code" href="classns3_1_1_ptr.html">Ptr&lt;const Packet&gt;</a> packet,</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;                                <span class="keyword">const</span> <a class="code" href="classns3_1_1_wifi_mac_header.html">WifiMacHeader</a>* hdr,</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;                                <span class="keyword">const</span> <a class="code" href="classns3_1_1_mac_low_transmission_parameters.html">MacLowTransmissionParameters</a>&amp; <a class="code" href="namespacealoha.html#aff1381c591fdaf9d3af2b19080c9eed7">params</a>,</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;                                uint32_t fragmentSize)<span class="keyword"> const</span></div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;  <a class="code" href="classns3_1_1_ptr.html">Ptr&lt;const WifiMacQueueItem&gt;</a> item = Create&lt;const WifiMacQueueItem&gt; (packet, *hdr);</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;  <a class="code" href="classns3_1_1_time.html">Time</a> txTime = <a class="code" href="classns3_1_1_mac_low.html#aa2d5acb9a87a417cfa46a4e8b4a8ed01">CalculateOverheadTxTime</a> (item, <a class="code" href="namespacealoha.html#aff1381c591fdaf9d3af2b19080c9eed7">params</a>);</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;  uint32_t dataSize;</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;  <span class="keywordflow">if</span> (fragmentSize &gt; 0)</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;    {</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;      <a class="code" href="classns3_1_1_ptr.html">Ptr&lt;const Packet&gt;</a> fragment = Create&lt;Packet&gt; (fragmentSize);</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;      dataSize = <a class="code" href="namespacens3.html#ac78f3ac928570be14da972e15dcf5946">GetSize</a> (fragment, hdr, <a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a> &amp;&amp; <a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a>-&gt;IsAggregate ());</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;    }</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;    {</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;      dataSize = <a class="code" href="namespacens3.html#ac78f3ac928570be14da972e15dcf5946">GetSize</a> (packet, hdr, <a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a> &amp;&amp; <a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a>-&gt;IsAggregate ());</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;    }</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;  txTime += <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#aee98c7241bb4f0bb8e6d90f5771dacc7">CalculateTxDuration</a> (dataSize, <a class="code" href="classns3_1_1_mac_low.html#aeb3a8ccdb7a068b7ee69d507a66a1b60">GetDataTxVector</a> (item), <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#afca470e272ec5c3126da63c0a6102f4c">GetFrequency</a> ());</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;  <span class="keywordflow">return</span> txTime;</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;}</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160; </div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;<a class="code" href="classns3_1_1_time.html">Time</a></div>
<div class="line"><a name="l01541"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#aa2d5acb9a87a417cfa46a4e8b4a8ed01"> 1541</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#aa2d5acb9a87a417cfa46a4e8b4a8ed01">MacLow::CalculateOverheadTxTime</a> (<a class="code" href="classns3_1_1_ptr.html">Ptr&lt;const WifiMacQueueItem&gt;</a> item,</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;                                 <span class="keyword">const</span> <a class="code" href="classns3_1_1_mac_low_transmission_parameters.html">MacLowTransmissionParameters</a>&amp; <a class="code" href="namespacealoha.html#aff1381c591fdaf9d3af2b19080c9eed7">params</a>)<span class="keyword"> const</span></div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;  <a class="code" href="classns3_1_1_time.html">Time</a> txTime = <a class="code" href="group__timecivil.html#ga33c34b816f8ff6628e33d5c8e9713b9e">Seconds</a> (0);</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacealoha.html#aff1381c591fdaf9d3af2b19080c9eed7">params</a>.MustSendRts ())</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;    {</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;      <a class="code" href="classns3_1_1_wifi_tx_vector.html">WifiTxVector</a> rtsTxVector = <a class="code" href="classns3_1_1_mac_low.html#a89fbeddfe91a47f0dcc1f3d7fd5108a0">GetRtsTxVector</a> (item);</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;      txTime += <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#aee98c7241bb4f0bb8e6d90f5771dacc7">CalculateTxDuration</a> (<a class="code" href="namespacens3.html#a79e14c6d347fba61711e9857bd019372">GetRtsSize</a> (), rtsTxVector, <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#afca470e272ec5c3126da63c0a6102f4c">GetFrequency</a> ());</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;      txTime += <a class="code" href="classns3_1_1_mac_low.html#a600b2ba477578734cc4a1e3c11e5d5dd">GetCtsDuration</a> (item-&gt;GetHeader ().GetAddr1 (), rtsTxVector);</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;      txTime += <a class="code" href="namespacens3_1_1_traced_value_callback.html#ac61bd56f818d89847bff2c5923ae3fcd">Time</a> (<a class="code" href="classns3_1_1_mac_low.html#a142444428826e0a5f67265dfd7b0f4d2">GetSifs</a> () * 2);</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;    }</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;  txTime += <a class="code" href="classns3_1_1_mac_low.html#ae23ccb3c313c640daf5bd4c857eb0d7a">GetResponseDuration</a> (<a class="code" href="namespacealoha.html#aff1381c591fdaf9d3af2b19080c9eed7">params</a>, <a class="code" href="classns3_1_1_mac_low.html#aeb3a8ccdb7a068b7ee69d507a66a1b60">GetDataTxVector</a> (item), item-&gt;GetHeader ().GetAddr1 ());</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160; </div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;  <span class="keywordflow">return</span> txTime;</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;}</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160; </div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;<a class="code" href="classns3_1_1_time.html">Time</a></div>
<div class="line"><a name="l01558"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#a753fdeae4fb18b9b4d3b48c61f721686"> 1558</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#a753fdeae4fb18b9b4d3b48c61f721686">MacLow::CalculateTransmissionTime</a> (<a class="code" href="classns3_1_1_ptr.html">Ptr&lt;const Packet&gt;</a> packet,</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;                                   <span class="keyword">const</span> <a class="code" href="classns3_1_1_wifi_mac_header.html">WifiMacHeader</a>* hdr,</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;                                   <span class="keyword">const</span> <a class="code" href="classns3_1_1_mac_low_transmission_parameters.html">MacLowTransmissionParameters</a>&amp; <a class="code" href="namespacealoha.html#aff1381c591fdaf9d3af2b19080c9eed7">params</a>)<span class="keyword"> const</span></div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;  <a class="code" href="classns3_1_1_time.html">Time</a> txTime = <a class="code" href="classns3_1_1_mac_low.html#a77295a7a4b2e8787e8217f1e58b1746f">CalculateOverallTxTime</a> (packet, hdr, <a class="code" href="namespacealoha.html#aff1381c591fdaf9d3af2b19080c9eed7">params</a>);</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacealoha.html#aff1381c591fdaf9d3af2b19080c9eed7">params</a>.HasNextPacket ())</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;    {</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;      <a class="code" href="classns3_1_1_wifi_tx_vector.html">WifiTxVector</a> dataTxVector = <a class="code" href="classns3_1_1_mac_low.html#aeb3a8ccdb7a068b7ee69d507a66a1b60">GetDataTxVector</a> (Create&lt;const WifiMacQueueItem&gt; (packet, *hdr));</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;      txTime += <a class="code" href="classns3_1_1_mac_low.html#a142444428826e0a5f67265dfd7b0f4d2">GetSifs</a> ();</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;      txTime += <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#aee98c7241bb4f0bb8e6d90f5771dacc7">CalculateTxDuration</a> (<a class="code" href="namespacealoha.html#aff1381c591fdaf9d3af2b19080c9eed7">params</a>.GetNextPacketSize (), dataTxVector, <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#afca470e272ec5c3126da63c0a6102f4c">GetFrequency</a> ());</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;    }</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;  <span class="keywordflow">return</span> txTime;</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;}</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160; </div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l01573"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#a8a11f1b12b7dc41fba389b1b480c55f9"> 1573</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#a8a11f1b12b7dc41fba389b1b480c55f9">MacLow::NotifyNav</a> (<a class="code" href="classns3_1_1_ptr.html">Ptr&lt;const Packet&gt;</a> packet, <span class="keyword">const</span> <a class="code" href="classns3_1_1_wifi_mac_header.html">WifiMacHeader</a> &amp;hdr)</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;{</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;  <a class="code" href="group__assert.html#ga6dccdb0de9b252f60088ce281c49d052">NS_ASSERT</a> (<a class="code" href="classns3_1_1_mac_low.html#ad306264b6f7c07d8b222d461f2d09b29">m_lastNavStart</a> &lt;= <a class="code" href="classns3_1_1_simulator.html#ac3178fa975b419f7875e7105be122800">Simulator::Now</a> ());</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;  <span class="keywordflow">if</span> (hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a5f303b5e5e6bb7bd9f9bda3f0b20892f">GetRawDuration</a> () &gt; 32767)</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;    {</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;      <span class="comment">//All stations process Duration field values less than or equal to 32 767 from valid data frames</span></div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;      <span class="comment">//to update their NAV settings as appropriate under the coordination function rules.</span></div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;    }</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;  <span class="keywordflow">if</span> (hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a67147b01fd61827c27316473c7e19ea8">IsCfEnd</a> () &amp;&amp; hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a5d32ca3e3a34f1185df86927d4346430">GetAddr2</a> () == <a class="code" href="classns3_1_1_mac_low.html#a36761d1d6c972817b9e2361952180923">m_bssid</a>)</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;    {</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;      <span class="comment">//see section 9.3.2.2 802.11-1999</span></div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#abcc34d5e7e18f1f9df32adb248efccea">DoNavResetNow</a> (<a class="code" href="group__timecivil.html#ga33c34b816f8ff6628e33d5c8e9713b9e">Seconds</a> (0));</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;    }</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#aa1c4acbda4ace9f7a920c97d71bdd097">GetAddr1</a> () != <a class="code" href="classns3_1_1_mac_low.html#a23004ca5405c82111f5b20eec03b3d9a">m_self</a>)</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;    {</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;      <span class="comment">// see section 9.2.5.4 802.11-1999</span></div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;      <a class="code" href="classns3_1_1_time.html">Time</a> <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a> = hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a1bfde4f8ca07ee46bd0bdc1ab6597e48">GetDuration</a> ();</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;      <span class="keywordtype">bool</span> navUpdated = <a class="code" href="classns3_1_1_mac_low.html#ab35a898f608bb1103394e56a77c01343">DoNavStartNow</a> (<a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a>);</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;      <span class="keywordflow">if</span> (hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a2308af17e822e5b423c039740418f055">IsRts</a> () &amp;&amp; navUpdated)</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;        {</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;          <a class="code" href="classns3_1_1_wifi_mac_header.html">WifiMacHeader</a> cts;</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;          cts.<a class="code" href="classns3_1_1_wifi_mac_header.html#a71172371f11f1cfcb3912bb03134c285">SetType</a> (<a class="code" href="namespacens3.html#a9318472db39b35b2092de5c721e6ab0aa529299bd6c8159e0dc3f56acb749eff4">WIFI_MAC_CTL_CTS</a>);</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;          <a class="code" href="classns3_1_1_wifi_tx_vector.html">WifiTxVector</a> txVector = <a class="code" href="classns3_1_1_mac_low.html#a89fbeddfe91a47f0dcc1f3d7fd5108a0">GetRtsTxVector</a> (Create&lt;const WifiMacQueueItem&gt; (packet, hdr));</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;          <a class="code" href="classns3_1_1_time.html">Time</a> navCounterResetCtsMissedDelay =</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;            <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#aee98c7241bb4f0bb8e6d90f5771dacc7">CalculateTxDuration</a> (cts.<a class="code" href="classns3_1_1_wifi_mac_header.html#ad5ce3997a84fa55ebe60dd927c37d526">GetSerializedSize</a> (), txVector, <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#afca470e272ec5c3126da63c0a6102f4c">GetFrequency</a> ()) +</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;            <a class="code" href="namespacens3_1_1_traced_value_callback.html#ac61bd56f818d89847bff2c5923ae3fcd">Time</a> (2 * <a class="code" href="classns3_1_1_mac_low.html#a142444428826e0a5f67265dfd7b0f4d2">GetSifs</a> ()) + <a class="code" href="namespacens3_1_1_traced_value_callback.html#ac61bd56f818d89847bff2c5923ae3fcd">Time</a> (2 * <a class="code" href="classns3_1_1_mac_low.html#a6c8806c531633adc7e524eba5e2f3106">GetSlotTime</a> ()) +</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;            <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#a1793e6110ca3623131def396f487c11d">CalculatePhyPreambleAndHeaderDuration</a> (txVector);</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;          <a class="code" href="classns3_1_1_mac_low.html#a5aef4547e2a6ddad9c85d55bf77e43b1">m_navCounterResetCtsMissed</a> = <a class="code" href="classns3_1_1_simulator.html#a671882c894a08af4a5e91181bf1eec13">Simulator::Schedule</a> (navCounterResetCtsMissedDelay,</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;                                                            &amp;<a class="code" href="classns3_1_1_mac_low.html#abcc34d5e7e18f1f9df32adb248efccea">MacLow::DoNavResetNow</a>, <span class="keyword">this</span>,</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;                                                            <a class="code" href="group__timecivil.html#ga33c34b816f8ff6628e33d5c8e9713b9e">Seconds</a> (0));</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;        }</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;    }</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;}</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160; </div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l01618"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#abcc34d5e7e18f1f9df32adb248efccea"> 1618</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#abcc34d5e7e18f1f9df32adb248efccea">MacLow::DoNavResetNow</a> (<a class="code" href="classns3_1_1_time.html">Time</a> <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a>)</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;{</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;  <a class="code" href="group__logging.html#ga90b90d5bad1f39cb1b64923ea94c0761">NS_LOG_FUNCTION</a> (<span class="keyword">this</span> &lt;&lt; <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a>);</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classns3_1_1_mac_low.html#a43f07d650bbe1f30ce0801981cfdce51">ChannelAccessManagersCI</a> i = <a class="code" href="classns3_1_1_mac_low.html#ac8256ce92507eb4a5b9b957e0935d045">m_channelAccessManagers</a>.begin (); i != <a class="code" href="classns3_1_1_mac_low.html#ac8256ce92507eb4a5b9b957e0935d045">m_channelAccessManagers</a>.end (); i++)</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;    {</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;      (*i)-&gt;NotifyNavResetNow (<a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a>);</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;    }</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#ad306264b6f7c07d8b222d461f2d09b29">m_lastNavStart</a> = <a class="code" href="classns3_1_1_simulator.html#ac3178fa975b419f7875e7105be122800">Simulator::Now</a> ();</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#a939a71bf7296a87bfc5bf2eb8b026b4b">m_lastNavDuration</a> = <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a>;</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;}</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160; </div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;<span class="keywordtype">bool</span></div>
<div class="line"><a name="l01630"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#ab35a898f608bb1103394e56a77c01343"> 1630</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#ab35a898f608bb1103394e56a77c01343">MacLow::DoNavStartNow</a> (<a class="code" href="classns3_1_1_time.html">Time</a> <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a>)</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;{</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classns3_1_1_mac_low.html#a43f07d650bbe1f30ce0801981cfdce51">ChannelAccessManagersCI</a> i = <a class="code" href="classns3_1_1_mac_low.html#ac8256ce92507eb4a5b9b957e0935d045">m_channelAccessManagers</a>.begin (); i != <a class="code" href="classns3_1_1_mac_low.html#ac8256ce92507eb4a5b9b957e0935d045">m_channelAccessManagers</a>.end (); i++)</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;    {</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;      (*i)-&gt;NotifyNavStartNow (<a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a>);</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;    }</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;  <a class="code" href="classns3_1_1_time.html">Time</a> newNavEnd = <a class="code" href="classns3_1_1_simulator.html#ac3178fa975b419f7875e7105be122800">Simulator::Now</a> () + <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a>;</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;  <a class="code" href="classns3_1_1_time.html">Time</a> oldNavEnd = <a class="code" href="classns3_1_1_mac_low.html#ad306264b6f7c07d8b222d461f2d09b29">m_lastNavStart</a> + <a class="code" href="classns3_1_1_mac_low.html#a939a71bf7296a87bfc5bf2eb8b026b4b">m_lastNavDuration</a>;</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;  <span class="keywordflow">if</span> (newNavEnd &gt; oldNavEnd)</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;    {</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#ad306264b6f7c07d8b222d461f2d09b29">m_lastNavStart</a> = <a class="code" href="classns3_1_1_simulator.html#ac3178fa975b419f7875e7105be122800">Simulator::Now</a> ();</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#a939a71bf7296a87bfc5bf2eb8b026b4b">m_lastNavDuration</a> = <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a>;</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;    }</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;}</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160; </div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l01648"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#acde3a1447ef79fa1bc3456b3d0473757"> 1648</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#acde3a1447ef79fa1bc3456b3d0473757">MacLow::NotifyAckTimeoutStartNow</a> (<a class="code" href="classns3_1_1_time.html">Time</a> <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a>)</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;{</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classns3_1_1_mac_low.html#a43f07d650bbe1f30ce0801981cfdce51">ChannelAccessManagersCI</a> i = <a class="code" href="classns3_1_1_mac_low.html#ac8256ce92507eb4a5b9b957e0935d045">m_channelAccessManagers</a>.begin (); i != <a class="code" href="classns3_1_1_mac_low.html#ac8256ce92507eb4a5b9b957e0935d045">m_channelAccessManagers</a>.end (); i++)</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;    {</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;      (*i)-&gt;NotifyAckTimeoutStartNow (<a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a>);</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;    }</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;}</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160; </div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l01657"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#a3d625c27f8412d2f6b2401d46a64f040"> 1657</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#a3d625c27f8412d2f6b2401d46a64f040">MacLow::NotifyAckTimeoutResetNow</a> (<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;{</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classns3_1_1_mac_low.html#a43f07d650bbe1f30ce0801981cfdce51">ChannelAccessManagersCI</a> i = <a class="code" href="classns3_1_1_mac_low.html#ac8256ce92507eb4a5b9b957e0935d045">m_channelAccessManagers</a>.begin (); i != <a class="code" href="classns3_1_1_mac_low.html#ac8256ce92507eb4a5b9b957e0935d045">m_channelAccessManagers</a>.end (); i++)</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;    {</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;      (*i)-&gt;NotifyAckTimeoutResetNow ();</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;    }</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;}</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160; </div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l01666"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#ad4e0eee50d12b8b7e22ad6b68ffb82ef"> 1666</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#ad4e0eee50d12b8b7e22ad6b68ffb82ef">MacLow::NotifyCtsTimeoutStartNow</a> (<a class="code" href="classns3_1_1_time.html">Time</a> <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a>)</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;{</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classns3_1_1_mac_low.html#a43f07d650bbe1f30ce0801981cfdce51">ChannelAccessManagersCI</a> i = <a class="code" href="classns3_1_1_mac_low.html#ac8256ce92507eb4a5b9b957e0935d045">m_channelAccessManagers</a>.begin (); i != <a class="code" href="classns3_1_1_mac_low.html#ac8256ce92507eb4a5b9b957e0935d045">m_channelAccessManagers</a>.end (); i++)</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;    {</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;      (*i)-&gt;NotifyCtsTimeoutStartNow (<a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a>);</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;    }</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;}</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160; </div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l01675"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#a6afa0ed5c43983ab487980553000bfd7"> 1675</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#a6afa0ed5c43983ab487980553000bfd7">MacLow::NotifyCtsTimeoutResetNow</a> (<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;{</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classns3_1_1_mac_low.html#a43f07d650bbe1f30ce0801981cfdce51">ChannelAccessManagersCI</a> i = <a class="code" href="classns3_1_1_mac_low.html#ac8256ce92507eb4a5b9b957e0935d045">m_channelAccessManagers</a>.begin (); i != <a class="code" href="classns3_1_1_mac_low.html#ac8256ce92507eb4a5b9b957e0935d045">m_channelAccessManagers</a>.end (); i++)</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;    {</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;      (*i)-&gt;NotifyCtsTimeoutResetNow ();</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;    }</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;}</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160; </div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l01684"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#a9babdfa2bf38577f733c4723e6114c16"> 1684</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#a9babdfa2bf38577f733c4723e6114c16">MacLow::ForwardDown</a> (<a class="code" href="classns3_1_1_ptr.html">Ptr&lt;const WifiPsdu&gt;</a> psdu, <a class="code" href="classns3_1_1_wifi_tx_vector.html">WifiTxVector</a> txVector)</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;{</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;  <a class="code" href="group__logging.html#ga90b90d5bad1f39cb1b64923ea94c0761">NS_LOG_FUNCTION</a> (<span class="keyword">this</span> &lt;&lt; psdu &lt;&lt; txVector);</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160; </div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;  <a class="code" href="group__assert.html#ga6dccdb0de9b252f60088ce281c49d052">NS_ASSERT</a> (psdu-&gt;GetNMpdus ());</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;  <span class="keyword">const</span> <a class="code" href="classns3_1_1_wifi_mac_header.html">WifiMacHeader</a>&amp; hdr = (*psdu-&gt;begin ())-&gt;GetHeader ();</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160; </div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;  <a class="code" href="group__logging.html#ga413f1886406d49f59a6a0a89b77b4d0a">NS_LOG_DEBUG</a> (<span class="stringliteral">&quot;send &quot;</span> &lt;&lt; hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a7c2f88bdefc903df253eef1e5b7bf2af">GetTypeString</a> () &lt;&lt;</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;                <span class="stringliteral">&quot;, to=&quot;</span> &lt;&lt; hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#aa1c4acbda4ace9f7a920c97d71bdd097">GetAddr1</a> () &lt;&lt;</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;                <span class="stringliteral">&quot;, size=&quot;</span> &lt;&lt; psdu-&gt;GetSize () &lt;&lt;</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;                <span class="stringliteral">&quot;, mode=&quot;</span> &lt;&lt; txVector.<a class="code" href="classns3_1_1_wifi_tx_vector.html#aadd3ccf9d68dd8f06d4cfedc352498fb">GetMode</a>  () &lt;&lt;</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;                <span class="stringliteral">&quot;, preamble=&quot;</span> &lt;&lt; txVector.<a class="code" href="classns3_1_1_wifi_tx_vector.html#a7125591f923091b79fe4a607dfad22e4">GetPreambleType</a> () &lt;&lt;</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;                <span class="stringliteral">&quot;, duration=&quot;</span> &lt;&lt; hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a1bfde4f8ca07ee46bd0bdc1ab6597e48">GetDuration</a> () &lt;&lt;</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;                <span class="stringliteral">&quot;, seq=0x&quot;</span> &lt;&lt; std::hex &lt;&lt; hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#ad4af293cb29d73a7661a93099e363b56">GetSequenceControl</a> () &lt;&lt; std::dec);</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160; </div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;  <span class="keywordflow">if</span> (hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a8f7eb39875a921d2a1b915836f6765b2">IsCfPoll</a> () &amp;&amp; <a class="code" href="classns3_1_1_mac_low.html#a1c7f45f071f9e5eb97764f64e5cdaf1b">m_stationManager</a>-&gt;<a class="code" href="classns3_1_1_wifi_remote_station_manager.html#ac83638ac78e26f560a41fd0c09e3c98c">GetPcfSupported</a> ())</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;    {</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;      <a class="code" href="classns3_1_1_simulator.html#a671882c894a08af4a5e91181bf1eec13">Simulator::Schedule</a> (<a class="code" href="classns3_1_1_mac_low.html#afd08d9063efedbf52da3e4f7ac790749">GetPifs</a> () + <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#aee98c7241bb4f0bb8e6d90f5771dacc7">CalculateTxDuration</a> (psdu-&gt;GetSize (), txVector, <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#afca470e272ec5c3126da63c0a6102f4c">GetFrequency</a> ()), &amp;<a class="code" href="classns3_1_1_mac_low.html#af852f7a28569d2d8405052e4b4e54251">MacLow::CfPollTimeout</a>, <span class="keyword">this</span>);</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;    }</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;  <span class="keywordflow">if</span> (hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#afe7c9a624523907e0c291221e3789d21">IsBeacon</a> () &amp;&amp; <a class="code" href="classns3_1_1_mac_low.html#a1c7f45f071f9e5eb97764f64e5cdaf1b">m_stationManager</a>-&gt;<a class="code" href="classns3_1_1_wifi_remote_station_manager.html#ac83638ac78e26f560a41fd0c09e3c98c">GetPcfSupported</a> ())</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;    {</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_simulator.html#ac3178fa975b419f7875e7105be122800">Simulator::Now</a> () &gt; <a class="code" href="classns3_1_1_mac_low.html#a869dbcce46b39d8a0314c3b99f62831e">m_lastBeacon</a> + <a class="code" href="classns3_1_1_mac_low.html#a3dcd869eb3025e81c85799a1396ead65">m_beaconInterval</a>)</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;        {</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;          <a class="code" href="classns3_1_1_mac_low.html#af229071387e235021ca611b8b3c2b476">m_cfpForeshortening</a> = (<a class="code" href="classns3_1_1_simulator.html#ac3178fa975b419f7875e7105be122800">Simulator::Now</a> () - <a class="code" href="classns3_1_1_mac_low.html#a869dbcce46b39d8a0314c3b99f62831e">m_lastBeacon</a> - <a class="code" href="classns3_1_1_mac_low.html#a3dcd869eb3025e81c85799a1396ead65">m_beaconInterval</a>);</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;        }</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#a869dbcce46b39d8a0314c3b99f62831e">m_lastBeacon</a> = <a class="code" href="classns3_1_1_simulator.html#ac3178fa975b419f7875e7105be122800">Simulator::Now</a> ();</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;    }</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a67147b01fd61827c27316473c7e19ea8">IsCfEnd</a> () &amp;&amp; <a class="code" href="classns3_1_1_mac_low.html#a1c7f45f071f9e5eb97764f64e5cdaf1b">m_stationManager</a>-&gt;<a class="code" href="classns3_1_1_wifi_remote_station_manager.html#ac83638ac78e26f560a41fd0c09e3c98c">GetPcfSupported</a> ())</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;    {</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#a501a55ed9df40e8983e09cd2212b81cc">m_cfpStart</a> = <a class="code" href="group__timecivil.html#ga281d64bcb4dad96267d83c7688ec433f">NanoSeconds</a> (0);</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#af229071387e235021ca611b8b3c2b476">m_cfpForeshortening</a> = <a class="code" href="group__timecivil.html#ga281d64bcb4dad96267d83c7688ec433f">NanoSeconds</a> (0);</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#a57b40499d27ce4a39651572c1472b121">m_cfAckInfo</a>.<a class="code" href="structns3_1_1_mac_low_1_1_cf_ack_info.html#a9a90048cea029293950210cd9e7916f6">appendCfAck</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#a57b40499d27ce4a39651572c1472b121">m_cfAckInfo</a>.<a class="code" href="structns3_1_1_mac_low_1_1_cf_ack_info.html#a8c676c7b0cb72efd7f2a1cfda9c65d01">expectCfAck</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;    }</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_mac_low.html#a4e08342dc51fd123ff9db8b4061df754">IsCfPeriod</a> () &amp;&amp; hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a213177655b35a50dabb6c571f52d0e98">HasData</a> ())</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;    {</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#a57b40499d27ce4a39651572c1472b121">m_cfAckInfo</a>.<a class="code" href="structns3_1_1_mac_low_1_1_cf_ack_info.html#a8c676c7b0cb72efd7f2a1cfda9c65d01">expectCfAck</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;    }</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160; </div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;  <span class="keywordflow">if</span> (psdu-&gt;IsSingle ())</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;    {</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;      txVector.<a class="code" href="classns3_1_1_wifi_tx_vector.html#a6f11a0d5373b041c7041986a2ed3ce10">SetAggregation</a> (<span class="keyword">true</span>);</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;      <a class="code" href="group__logging.html#ga413f1886406d49f59a6a0a89b77b4d0a">NS_LOG_DEBUG</a> (<span class="stringliteral">&quot;Sending S-MPDU&quot;</span>);</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;    }</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (psdu-&gt;IsAggregate ())</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;    {</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;      txVector.<a class="code" href="classns3_1_1_wifi_tx_vector.html#a6f11a0d5373b041c7041986a2ed3ce10">SetAggregation</a> (<span class="keyword">true</span>);</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;      <a class="code" href="group__logging.html#ga413f1886406d49f59a6a0a89b77b4d0a">NS_LOG_DEBUG</a> (<span class="stringliteral">&quot;Sending A-MPDU&quot;</span>);</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;    }</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;    {</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;      <a class="code" href="group__logging.html#ga413f1886406d49f59a6a0a89b77b4d0a">NS_LOG_DEBUG</a> (<span class="stringliteral">&quot;Sending non aggregate MPDU&quot;</span>);</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;    }</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160; </div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; mpdu : *<a class="code" href="namespacens3.html#af2a7557fe9afdd98d8f6f8f6e412cf5a">PeekPointer</a> (psdu))</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;    {</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;      <span class="keywordflow">if</span> (mpdu-&gt;GetHeader ().IsQosData ())</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;        {</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;          <span class="keyword">auto</span> edcaIt = <a class="code" href="classns3_1_1_mac_low.html#a754751ba4152c9337611a5f015045a44">m_edca</a>.find (<a class="code" href="group__wifi.html#ga4e36efcff6dd83eaee42e1af0de43d48">QosUtilsMapTidToAc</a> (mpdu-&gt;GetHeader ().GetQosTid ()));</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;          edcaIt-&gt;second-&gt;CompleteMpduTx (mpdu);</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;        }</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;    }</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#a1423d40e3c21084b1e07a9360174deaa">Send</a> (psdu, txVector);</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;}</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160; </div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l01750"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#af852f7a28569d2d8405052e4b4e54251"> 1750</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#af852f7a28569d2d8405052e4b4e54251">MacLow::CfPollTimeout</a> (<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;{</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;  <a class="code" href="group__logging.html#ga90b90d5bad1f39cb1b64923ea94c0761">NS_LOG_FUNCTION</a> (<span class="keyword">this</span>);</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;  <span class="comment">//to be reworked</span></div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;  <span class="keywordtype">bool</span> busy = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classns3_1_1_mac_low.html#a43f07d650bbe1f30ce0801981cfdce51">ChannelAccessManagersCI</a> i = <a class="code" href="classns3_1_1_mac_low.html#ac8256ce92507eb4a5b9b957e0935d045">m_channelAccessManagers</a>.begin (); i != <a class="code" href="classns3_1_1_mac_low.html#ac8256ce92507eb4a5b9b957e0935d045">m_channelAccessManagers</a>.end (); i++)</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;    {</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;      busy = (*i)-&gt;IsBusy ();</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;    }</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;  <span class="keywordflow">if</span> (!busy)</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;    {</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;      <a class="code" href="group__assert.html#ga6dccdb0de9b252f60088ce281c49d052">NS_ASSERT</a> (<a class="code" href="classns3_1_1_mac_low.html#a811ffb89964a59347ee294e3d233f36c">m_currentTxop</a> != 0);</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#a811ffb89964a59347ee294e3d233f36c">m_currentTxop</a>-&gt;<a class="code" href="classns3_1_1_txop.html#a1f02217a9b2d55daad363b64e3d88ae1">MissedCfPollResponse</a> (<a class="code" href="classns3_1_1_mac_low.html#a57b40499d27ce4a39651572c1472b121">m_cfAckInfo</a>.<a class="code" href="structns3_1_1_mac_low_1_1_cf_ack_info.html#a8c676c7b0cb72efd7f2a1cfda9c65d01">expectCfAck</a>);</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#a57b40499d27ce4a39651572c1472b121">m_cfAckInfo</a>.<a class="code" href="structns3_1_1_mac_low_1_1_cf_ack_info.html#a8c676c7b0cb72efd7f2a1cfda9c65d01">expectCfAck</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;    }</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;}</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160; </div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l01768"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#a35adb9b4c7f1035da2cb080289ba9cf7"> 1768</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#a35adb9b4c7f1035da2cb080289ba9cf7">MacLow::CtsTimeout</a> (<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;{</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;  <a class="code" href="group__logging.html#ga90b90d5bad1f39cb1b64923ea94c0761">NS_LOG_FUNCTION</a> (<span class="keyword">this</span>);</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;  <a class="code" href="group__logging.html#ga413f1886406d49f59a6a0a89b77b4d0a">NS_LOG_DEBUG</a> (<span class="stringliteral">&quot;cts timeout&quot;</span>);</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#a1c7f45f071f9e5eb97764f64e5cdaf1b">m_stationManager</a>-&gt;<a class="code" href="classns3_1_1_wifi_remote_station_manager.html#ad3844da681fd76f907293f5ff45187ec">ReportRtsFailed</a> (<a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a>-&gt;GetAddr1 (), &amp;<a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a>-&gt;GetHeader (0));</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160; </div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;  <a class="code" href="classns3_1_1_ptr.html">Ptr&lt;QosTxop&gt;</a> qosTxop = DynamicCast&lt;QosTxop&gt; (<a class="code" href="classns3_1_1_mac_low.html#a811ffb89964a59347ee294e3d233f36c">m_currentTxop</a>);</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;  <span class="keywordflow">if</span> (qosTxop != 0)</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;    {</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;      qosTxop-&gt;<a class="code" href="classns3_1_1_qos_txop.html#a0b82aec30711d3b4fb94d164388ecf9c">NotifyMissedCts</a> (<a class="code" href="openflow-interface_8h.html#afd9bcfa176617760671b67580f536fa7">std::list</a>&lt;<a class="code" href="classns3_1_1_ptr.html">Ptr&lt;WifiMacQueueItem&gt;</a>&gt; (<a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a>-&gt;begin (), <a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a>-&gt;end ()));</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;    }</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;    {</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#a811ffb89964a59347ee294e3d233f36c">m_currentTxop</a>-&gt;<a class="code" href="classns3_1_1_txop.html#ae969e1203237fc063ed27d2a23a1e773">MissedCts</a> ();</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;    }</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#a811ffb89964a59347ee294e3d233f36c">m_currentTxop</a> = 0;</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;}</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160; </div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l01790"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#a4d730ac2acea66982b4d257e06e22387"> 1790</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#a4d730ac2acea66982b4d257e06e22387">MacLow::NormalAckTimeout</a> (<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;{</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;  <a class="code" href="group__logging.html#ga90b90d5bad1f39cb1b64923ea94c0761">NS_LOG_FUNCTION</a> (<span class="keyword">this</span>);</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;  <a class="code" href="group__logging.html#ga413f1886406d49f59a6a0a89b77b4d0a">NS_LOG_DEBUG</a> (<span class="stringliteral">&quot;normal ack timeout&quot;</span>);</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;  <a class="code" href="classns3_1_1_ptr.html">Ptr&lt;Txop&gt;</a> txop = <a class="code" href="classns3_1_1_mac_low.html#a811ffb89964a59347ee294e3d233f36c">m_currentTxop</a>;</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#a811ffb89964a59347ee294e3d233f36c">m_currentTxop</a> = 0;</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;  txop-&gt;<a class="code" href="classns3_1_1_txop.html#a76ed6b61366d7c6797a6910d8ad4eaa5">MissedAck</a> ();</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;}</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160; </div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l01803"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#ace1131b4f6ea4f1d74a7c0ba470c84ac"> 1803</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#ace1131b4f6ea4f1d74a7c0ba470c84ac">MacLow::BlockAckTimeout</a> (<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;{</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;  <a class="code" href="group__logging.html#ga90b90d5bad1f39cb1b64923ea94c0761">NS_LOG_FUNCTION</a> (<span class="keyword">this</span>);</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;  <a class="code" href="group__logging.html#ga413f1886406d49f59a6a0a89b77b4d0a">NS_LOG_DEBUG</a> (<span class="stringliteral">&quot;block ack timeout&quot;</span>);</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;  <a class="code" href="classns3_1_1_ptr.html">Ptr&lt;Txop&gt;</a> txop = <a class="code" href="classns3_1_1_mac_low.html#a811ffb89964a59347ee294e3d233f36c">m_currentTxop</a>;</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#a811ffb89964a59347ee294e3d233f36c">m_currentTxop</a> = 0;</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;  txop-&gt;<a class="code" href="classns3_1_1_txop.html#adbf75c84735f6faff692d9e63e3c2e5d">MissedBlockAck</a> (<a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a>-&gt;GetNMpdus ());</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;}</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160; </div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l01813"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#ac472702b866a51ea2dfb7637381897aa"> 1813</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#ac472702b866a51ea2dfb7637381897aa">MacLow::SendRtsForPacket</a> (<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;{</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;  <a class="code" href="group__logging.html#ga90b90d5bad1f39cb1b64923ea94c0761">NS_LOG_FUNCTION</a> (<span class="keyword">this</span>);</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;  <span class="comment">/* send an RTS for this packet. */</span></div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;  <a class="code" href="classns3_1_1_wifi_mac_header.html">WifiMacHeader</a> rts;</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;  rts.<a class="code" href="classns3_1_1_wifi_mac_header.html#a71172371f11f1cfcb3912bb03134c285">SetType</a> (<a class="code" href="namespacens3.html#a9318472db39b35b2092de5c721e6ab0aa43ed89d21958665f84711a6b6d0fb75f">WIFI_MAC_CTL_RTS</a>);</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;  rts.<a class="code" href="classns3_1_1_wifi_mac_header.html#a02edeb349da4aacc6b376fcf76ff99cc">SetDsNotFrom</a> ();</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;  rts.<a class="code" href="classns3_1_1_wifi_mac_header.html#a977cd5a09062bfc3660a23acdebd75ec">SetDsNotTo</a> ();</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;  rts.<a class="code" href="classns3_1_1_wifi_mac_header.html#a2dbe5e569e783f6d975c13daf3015f12">SetNoRetry</a> ();</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;  rts.<a class="code" href="classns3_1_1_wifi_mac_header.html#a3898df5358df4247926b74175f2789c3">SetNoMoreFragments</a> ();</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;  rts.<a class="code" href="classns3_1_1_wifi_mac_header.html#a6478a02b80d5c01657714c5c7a0ae1cb">SetAddr1</a> (<a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a>-&gt;GetAddr1 ());</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;  rts.<a class="code" href="classns3_1_1_wifi_mac_header.html#ab6a0efdc43d39b5da5d17eae9665271d">SetAddr2</a> (<a class="code" href="classns3_1_1_mac_low.html#a23004ca5405c82111f5b20eec03b3d9a">m_self</a>);</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;  <a class="code" href="classns3_1_1_wifi_tx_vector.html">WifiTxVector</a> rtsTxVector = <a class="code" href="classns3_1_1_mac_low.html#a89fbeddfe91a47f0dcc1f3d7fd5108a0">GetRtsTxVector</a> (*<a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a>-&gt;begin ());</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;  <a class="code" href="classns3_1_1_time.html">Time</a> <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a> = <a class="code" href="group__timecivil.html#ga33c34b816f8ff6628e33d5c8e9713b9e">Seconds</a> (0);</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160; </div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;  <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a> += <a class="code" href="classns3_1_1_mac_low.html#a142444428826e0a5f67265dfd7b0f4d2">GetSifs</a> ();</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;  <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a> += <a class="code" href="classns3_1_1_mac_low.html#a600b2ba477578734cc4a1e3c11e5d5dd">GetCtsDuration</a> (<a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a>-&gt;GetAddr1 (), rtsTxVector);</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;  <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a> += <a class="code" href="classns3_1_1_mac_low.html#a142444428826e0a5f67265dfd7b0f4d2">GetSifs</a> ();</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;  <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a> += <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#aee98c7241bb4f0bb8e6d90f5771dacc7">CalculateTxDuration</a> (<a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a>-&gt;GetSize (),</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;                                          <a class="code" href="classns3_1_1_mac_low.html#af87bd81ded4d362f9f1dc89dbbee65a3">m_currentTxVector</a>, <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#afca470e272ec5c3126da63c0a6102f4c">GetFrequency</a> ());</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;  <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a> += <a class="code" href="classns3_1_1_mac_low.html#ae23ccb3c313c640daf5bd4c857eb0d7a">GetResponseDuration</a> (<a class="code" href="classns3_1_1_mac_low.html#a1c5ce6a0415d4a6d394bc9fc8f78327d">m_txParams</a>, <a class="code" href="classns3_1_1_mac_low.html#af87bd81ded4d362f9f1dc89dbbee65a3">m_currentTxVector</a>, <a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a>-&gt;GetAddr1 ());</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_mac_low.html#a1c5ce6a0415d4a6d394bc9fc8f78327d">m_txParams</a>.<a class="code" href="classns3_1_1_mac_low_transmission_parameters.html#a2832d2778353fbdd8cb92fbe3ea9da9d">HasNextPacket</a> ())</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;    {</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;      <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a> += <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#aee98c7241bb4f0bb8e6d90f5771dacc7">CalculateTxDuration</a> (<a class="code" href="classns3_1_1_mac_low.html#a1c5ce6a0415d4a6d394bc9fc8f78327d">m_txParams</a>.<a class="code" href="classns3_1_1_mac_low_transmission_parameters.html#abbe0a559eea37bf8d11162a7c88f3816">GetNextPacketSize</a> (),</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;                                              <a class="code" href="classns3_1_1_mac_low.html#af87bd81ded4d362f9f1dc89dbbee65a3">m_currentTxVector</a>, <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#afca470e272ec5c3126da63c0a6102f4c">GetFrequency</a> ());</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;      <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a> += <a class="code" href="classns3_1_1_mac_low.html#ae23ccb3c313c640daf5bd4c857eb0d7a">GetResponseDuration</a> (<a class="code" href="classns3_1_1_mac_low.html#a1c5ce6a0415d4a6d394bc9fc8f78327d">m_txParams</a>, <a class="code" href="classns3_1_1_mac_low.html#af87bd81ded4d362f9f1dc89dbbee65a3">m_currentTxVector</a>, <a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a>-&gt;GetAddr1 ());</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;    }</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;  rts.<a class="code" href="classns3_1_1_wifi_mac_header.html#a8c0936e7d1a0d1e43ccfcd21f43830fb">SetDuration</a> (<a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a>);</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160; </div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;  <a class="code" href="classns3_1_1_time.html">Time</a> txDuration = <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#aee98c7241bb4f0bb8e6d90f5771dacc7">CalculateTxDuration</a> (<a class="code" href="namespacens3.html#a79e14c6d347fba61711e9857bd019372">GetRtsSize</a> (), rtsTxVector, <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#afca470e272ec5c3126da63c0a6102f4c">GetFrequency</a> ());</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;  <span class="comment">// After transmitting an RTS frame, the STA shall wait for a CTSTimeout interval with</span></div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;  <span class="comment">// a value of aSIFSTime + aSlotTime + aRxPHYStartDelay (IEEE 802.11-2016 sec. 10.3.2.7).</span></div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;  <span class="comment">// aRxPHYStartDelay equals the time to transmit the PHY header.</span></div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;  <a class="code" href="classns3_1_1_time.html">Time</a> timerDelay = txDuration + <a class="code" href="classns3_1_1_mac_low.html#a142444428826e0a5f67265dfd7b0f4d2">GetSifs</a> () + <a class="code" href="classns3_1_1_mac_low.html#a6c8806c531633adc7e524eba5e2f3106">GetSlotTime</a> ()</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;                    + <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#a1793e6110ca3623131def396f487c11d">CalculatePhyPreambleAndHeaderDuration</a> (rtsTxVector);</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;  <a class="code" href="group__assert.html#ga6dccdb0de9b252f60088ce281c49d052">NS_ASSERT</a> (<a class="code" href="classns3_1_1_mac_low.html#a1de3cc66dcaa9f318fb1b2cffb108b01">m_ctsTimeoutEvent</a>.<a class="code" href="classns3_1_1_event_id.html#acc25141054209b1a286a5471a51bd0c0">IsExpired</a> ());</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#ad4e0eee50d12b8b7e22ad6b68ffb82ef">NotifyCtsTimeoutStartNow</a> (timerDelay);</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#a1de3cc66dcaa9f318fb1b2cffb108b01">m_ctsTimeoutEvent</a> = <a class="code" href="classns3_1_1_simulator.html#a671882c894a08af4a5e91181bf1eec13">Simulator::Schedule</a> (timerDelay, &amp;<a class="code" href="classns3_1_1_mac_low.html#a35adb9b4c7f1035da2cb080289ba9cf7">MacLow::CtsTimeout</a>, <span class="keyword">this</span>);</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160; </div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#a9babdfa2bf38577f733c4723e6114c16">ForwardDown</a> (Create&lt;const WifiPsdu&gt; (Create&lt;Packet&gt; (), rts), rtsTxVector);</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;}</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160; </div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l01856"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#ae7e8072b7d1f8b775000f6f07ee5a3c1"> 1856</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#ae7e8072b7d1f8b775000f6f07ee5a3c1">MacLow::StartDataTxTimers</a> (<a class="code" href="classns3_1_1_wifi_tx_vector.html">WifiTxVector</a> dataTxVector)</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;{</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;  <a class="code" href="classns3_1_1_time.html">Time</a> txDuration = <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#aee98c7241bb4f0bb8e6d90f5771dacc7">CalculateTxDuration</a> (<a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a>-&gt;GetSize (), dataTxVector, <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#afca470e272ec5c3126da63c0a6102f4c">GetFrequency</a> ());</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_mac_low.html#a1c5ce6a0415d4a6d394bc9fc8f78327d">m_txParams</a>.<a class="code" href="classns3_1_1_mac_low_transmission_parameters.html#af58f30e2df98d7dda69086436a03f5b2">MustWaitNormalAck</a> () &amp;&amp; !<a class="code" href="classns3_1_1_mac_low.html#a4e08342dc51fd123ff9db8b4061df754">IsCfPeriod</a> ())</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;    {</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;      <span class="comment">// the timeout duration is &quot;aSIFSTime + aSlotTime + aRxPHYStartDelay, starting</span></div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;      <span class="comment">// at the PHY-TXEND.confirm primitive&quot; (section 10.3.2.9 or 10.22.2.2 of 802.11-2016).</span></div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;      <span class="comment">// aRxPHYStartDelay equals the time to transmit the PHY header.</span></div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;      <a class="code" href="classns3_1_1_wifi_tx_vector.html">WifiTxVector</a> ackTxVector = <a class="code" href="classns3_1_1_mac_low.html#aae813ebc059b7e6aa1c88607e2969936">GetAckTxVector</a> (<a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a>-&gt;GetAddr1 (),</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;                                                 dataTxVector.<a class="code" href="classns3_1_1_wifi_tx_vector.html#aadd3ccf9d68dd8f06d4cfedc352498fb">GetMode</a> ());</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;      <a class="code" href="classns3_1_1_time.html">Time</a> timerDelay = txDuration + <a class="code" href="classns3_1_1_mac_low.html#a142444428826e0a5f67265dfd7b0f4d2">GetSifs</a> () + <a class="code" href="classns3_1_1_mac_low.html#a6c8806c531633adc7e524eba5e2f3106">GetSlotTime</a> ()</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;                        + <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#a1793e6110ca3623131def396f487c11d">CalculatePhyPreambleAndHeaderDuration</a> (ackTxVector);</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;      <a class="code" href="group__assert.html#ga6dccdb0de9b252f60088ce281c49d052">NS_ASSERT</a> (<a class="code" href="classns3_1_1_mac_low.html#a4376c10e5dc680bcdb50628540c8b412">m_normalAckTimeoutEvent</a>.<a class="code" href="classns3_1_1_event_id.html#acc25141054209b1a286a5471a51bd0c0">IsExpired</a> ());</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#acde3a1447ef79fa1bc3456b3d0473757">NotifyAckTimeoutStartNow</a> (timerDelay);</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#a4376c10e5dc680bcdb50628540c8b412">m_normalAckTimeoutEvent</a> = <a class="code" href="classns3_1_1_simulator.html#a671882c894a08af4a5e91181bf1eec13">Simulator::Schedule</a> (timerDelay, &amp;<a class="code" href="classns3_1_1_mac_low.html#a4d730ac2acea66982b4d257e06e22387">MacLow::NormalAckTimeout</a>, <span class="keyword">this</span>);</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;    }</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_mac_low.html#a1c5ce6a0415d4a6d394bc9fc8f78327d">m_txParams</a>.<a class="code" href="classns3_1_1_mac_low_transmission_parameters.html#ad3a33e30c1a8db4825172b79c18baaa9">MustWaitBlockAck</a> ())</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;    {</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;      <span class="comment">// the timeout duration is &quot;aSIFSTime + aSlotTime + aRxPHYStartDelay, starting</span></div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;      <span class="comment">// at the PHY-TXEND.confirm primitive&quot; (section 10.3.2.9 or 10.22.2.2 of 802.11-2016).</span></div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;      <span class="comment">// aRxPHYStartDelay equals the time to transmit the PHY header.</span></div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;      <a class="code" href="classns3_1_1_wifi_tx_vector.html">WifiTxVector</a> blockAckTxVector = <a class="code" href="classns3_1_1_mac_low.html#a227f7cf96af4e059f660cd6668869e69">GetBlockAckTxVector</a> (<a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a>-&gt;GetAddr1 (),</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;                                                           dataTxVector.<a class="code" href="classns3_1_1_wifi_tx_vector.html#aadd3ccf9d68dd8f06d4cfedc352498fb">GetMode</a> ());</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;      <a class="code" href="classns3_1_1_time.html">Time</a> timerDelay = txDuration + <a class="code" href="classns3_1_1_mac_low.html#a142444428826e0a5f67265dfd7b0f4d2">GetSifs</a> () + <a class="code" href="classns3_1_1_mac_low.html#a6c8806c531633adc7e524eba5e2f3106">GetSlotTime</a> ()</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;                        + <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#a1793e6110ca3623131def396f487c11d">CalculatePhyPreambleAndHeaderDuration</a> (blockAckTxVector);</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;      <a class="code" href="group__assert.html#ga6dccdb0de9b252f60088ce281c49d052">NS_ASSERT</a> (<a class="code" href="classns3_1_1_mac_low.html#ab45f8207ce750633a91b40aa3227f436">m_blockAckTimeoutEvent</a>.<a class="code" href="classns3_1_1_event_id.html#acc25141054209b1a286a5471a51bd0c0">IsExpired</a> ());</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#acde3a1447ef79fa1bc3456b3d0473757">NotifyAckTimeoutStartNow</a> (timerDelay);</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#ab45f8207ce750633a91b40aa3227f436">m_blockAckTimeoutEvent</a> = <a class="code" href="classns3_1_1_simulator.html#a671882c894a08af4a5e91181bf1eec13">Simulator::Schedule</a> (timerDelay, &amp;<a class="code" href="classns3_1_1_mac_low.html#ace1131b4f6ea4f1d74a7c0ba470c84ac">MacLow::BlockAckTimeout</a>, <span class="keyword">this</span>);</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;    }</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_mac_low.html#a1c5ce6a0415d4a6d394bc9fc8f78327d">m_txParams</a>.<a class="code" href="classns3_1_1_mac_low_transmission_parameters.html#a2832d2778353fbdd8cb92fbe3ea9da9d">HasNextPacket</a> ())</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;    {</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;      <a class="code" href="group__assert.html#ga6dccdb0de9b252f60088ce281c49d052">NS_ASSERT</a> (<a class="code" href="classns3_1_1_mac_low.html#abdfe679a569b3b5b3262b08ccc8f5df8">m_waitIfsEvent</a>.<a class="code" href="classns3_1_1_event_id.html#acc25141054209b1a286a5471a51bd0c0">IsExpired</a> ());</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;      <a class="code" href="classns3_1_1_time.html">Time</a> delay = txDuration;</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_mac_low.html#a1c7f45f071f9e5eb97764f64e5cdaf1b">m_stationManager</a>-&gt;<a class="code" href="classns3_1_1_wifi_remote_station_manager.html#a68dc3eb191060d3f98f265b9013d7e4a">GetRifsPermitted</a> ())</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;        {</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;          delay += <a class="code" href="classns3_1_1_mac_low.html#a42324a6a9affe03004a854dc0daa5f27">GetRifs</a> ();</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;        }</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;        {</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;          delay += <a class="code" href="classns3_1_1_mac_low.html#a142444428826e0a5f67265dfd7b0f4d2">GetSifs</a> ();</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;        }</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#abdfe679a569b3b5b3262b08ccc8f5df8">m_waitIfsEvent</a> = <a class="code" href="classns3_1_1_simulator.html#a671882c894a08af4a5e91181bf1eec13">Simulator::Schedule</a> (delay, &amp;<a class="code" href="classns3_1_1_mac_low.html#a3087bf08c1005df5654ede7311173e4f">MacLow::WaitIfsAfterEndTxFragment</a>, <span class="keyword">this</span>);</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;    }</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a>-&gt;GetHeader (0).IsQosData () &amp;&amp; <a class="code" href="classns3_1_1_mac_low.html#a811ffb89964a59347ee294e3d233f36c">m_currentTxop</a>-&gt;<a class="code" href="classns3_1_1_txop.html#a7ad3a446bf34065eef10bc9659a0607a">IsQosTxop</a> () &amp;&amp;</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;           <a class="code" href="classns3_1_1_mac_low.html#a811ffb89964a59347ee294e3d233f36c">m_currentTxop</a>-&gt;<a class="code" href="classns3_1_1_txop.html#a4c3271887c9fb5dcb2ef61651a3a60de">GetTxopLimit</a> ().<a class="code" href="classns3_1_1_time.html#a0d01aeab2308df799ea2f340d816d4c5">IsStrictlyPositive</a> () &amp;&amp; <a class="code" href="classns3_1_1_mac_low.html#a811ffb89964a59347ee294e3d233f36c">m_currentTxop</a>-&gt;<a class="code" href="classns3_1_1_txop.html#a728794caac9a10954c087382fa5e52e3">GetTxopRemaining</a> () &gt; <a class="code" href="classns3_1_1_mac_low.html#a142444428826e0a5f67265dfd7b0f4d2">GetSifs</a> ())</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;   {</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;      <a class="code" href="classns3_1_1_time.html">Time</a> delay = txDuration;</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_mac_low.html#a1c7f45f071f9e5eb97764f64e5cdaf1b">m_stationManager</a>-&gt;<a class="code" href="classns3_1_1_wifi_remote_station_manager.html#a68dc3eb191060d3f98f265b9013d7e4a">GetRifsPermitted</a> ())</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;        {</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;          delay += <a class="code" href="classns3_1_1_mac_low.html#a42324a6a9affe03004a854dc0daa5f27">GetRifs</a> ();</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;        }</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;        {</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;          delay += <a class="code" href="classns3_1_1_mac_low.html#a142444428826e0a5f67265dfd7b0f4d2">GetSifs</a> ();</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;        }</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#abdfe679a569b3b5b3262b08ccc8f5df8">m_waitIfsEvent</a> = <a class="code" href="classns3_1_1_simulator.html#a671882c894a08af4a5e91181bf1eec13">Simulator::Schedule</a> (delay, &amp;<a class="code" href="classns3_1_1_mac_low.html#a17e509f5f61f862d9a49d01d7cf3a821">MacLow::WaitIfsAfterEndTxPacket</a>, <span class="keyword">this</span>);</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;    }</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;    {</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;      <span class="comment">// since we do not expect any timer to be triggered.</span></div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#a25990734c06d4df0d75276f52e103f8a">m_endTxNoAckEvent</a> = <a class="code" href="classns3_1_1_simulator.html#a671882c894a08af4a5e91181bf1eec13">Simulator::Schedule</a> (txDuration, &amp;<a class="code" href="classns3_1_1_mac_low.html#ab27ec174aebeec55b0fd44e872c0e777">MacLow::EndTxNoAck</a>, <span class="keyword">this</span>);</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;    }</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;}</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160; </div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l01921"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#ab177d7c7ba53c56f91612114412914bf"> 1921</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#ab177d7c7ba53c56f91612114412914bf">MacLow::SendDataPacket</a> (<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;{</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;  <a class="code" href="group__logging.html#ga90b90d5bad1f39cb1b64923ea94c0761">NS_LOG_FUNCTION</a> (<span class="keyword">this</span>);</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;  <span class="comment">/* send this packet directly. No RTS is needed. */</span></div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#ae7e8072b7d1f8b775000f6f07ee5a3c1">StartDataTxTimers</a> (<a class="code" href="classns3_1_1_mac_low.html#af87bd81ded4d362f9f1dc89dbbee65a3">m_currentTxVector</a>);</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160; </div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classns3_1_1_mac_low.html#a4e08342dc51fd123ff9db8b4061df754">IsCfPeriod</a> ())</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;    {</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;      <a class="code" href="classns3_1_1_time.html">Time</a> <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a> = <a class="code" href="classns3_1_1_mac_low.html#ae23ccb3c313c640daf5bd4c857eb0d7a">GetResponseDuration</a> (<a class="code" href="classns3_1_1_mac_low.html#a1c5ce6a0415d4a6d394bc9fc8f78327d">m_txParams</a>, <a class="code" href="classns3_1_1_mac_low.html#af87bd81ded4d362f9f1dc89dbbee65a3">m_currentTxVector</a>, <a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a>-&gt;GetAddr1 ());</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_mac_low.html#a1c5ce6a0415d4a6d394bc9fc8f78327d">m_txParams</a>.<a class="code" href="classns3_1_1_mac_low_transmission_parameters.html#a2832d2778353fbdd8cb92fbe3ea9da9d">HasNextPacket</a> ())</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;        {</div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_mac_low.html#a1c7f45f071f9e5eb97764f64e5cdaf1b">m_stationManager</a>-&gt;<a class="code" href="classns3_1_1_wifi_remote_station_manager.html#a68dc3eb191060d3f98f265b9013d7e4a">GetRifsPermitted</a> ())</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;            {</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;              <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a> += <a class="code" href="classns3_1_1_mac_low.html#a42324a6a9affe03004a854dc0daa5f27">GetRifs</a> ();</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;            }</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;          <span class="keywordflow">else</span></div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;            {</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;              <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a> += <a class="code" href="classns3_1_1_mac_low.html#a142444428826e0a5f67265dfd7b0f4d2">GetSifs</a> ();</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;            }</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;          <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a> += <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#aee98c7241bb4f0bb8e6d90f5771dacc7">CalculateTxDuration</a> (<a class="code" href="classns3_1_1_mac_low.html#a1c5ce6a0415d4a6d394bc9fc8f78327d">m_txParams</a>.<a class="code" href="classns3_1_1_mac_low_transmission_parameters.html#abbe0a559eea37bf8d11162a7c88f3816">GetNextPacketSize</a> (),</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;                                                  <a class="code" href="classns3_1_1_mac_low.html#af87bd81ded4d362f9f1dc89dbbee65a3">m_currentTxVector</a>, <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#afca470e272ec5c3126da63c0a6102f4c">GetFrequency</a> ());</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;          <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a> += <a class="code" href="classns3_1_1_mac_low.html#ae23ccb3c313c640daf5bd4c857eb0d7a">GetResponseDuration</a> (<a class="code" href="classns3_1_1_mac_low.html#a1c5ce6a0415d4a6d394bc9fc8f78327d">m_txParams</a>, <a class="code" href="classns3_1_1_mac_low.html#af87bd81ded4d362f9f1dc89dbbee65a3">m_currentTxVector</a>, <a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a>-&gt;GetAddr1 ());</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;        }</div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a>-&gt;SetDuration (<a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a>);</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;    }</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;    {</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a>-&gt;GetHeader (0).IsCfEnd ())</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;        {</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;          <a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a>-&gt;GetHeader (0).SetRawDuration (0);</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;        }</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;        {</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;          <a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a>-&gt;GetHeader (0).SetRawDuration (32768);</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;        }</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;    }</div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160; </div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a>-&gt;IsAggregate ())</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;    {</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_mac_low.html#a57b40499d27ce4a39651572c1472b121">m_cfAckInfo</a>.<a class="code" href="structns3_1_1_mac_low_1_1_cf_ack_info.html#a9a90048cea029293950210cd9e7916f6">appendCfAck</a>)</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;        {</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;          <span class="keywordflow">switch</span> (<a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a>-&gt;GetHeader (0).GetType ())</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;            {</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespacens3.html#a9318472db39b35b2092de5c721e6ab0aaf7067a476d424f297c26441fa1a515df">WIFI_MAC_DATA</a>:</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;              <a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a>-&gt;GetHeader (0).SetType (<a class="code" href="namespacens3.html#a9318472db39b35b2092de5c721e6ab0aa1943fa8d38763e1bced10dd28f7e6b38">WIFI_MAC_DATA_CFACK</a>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespacens3.html#a9318472db39b35b2092de5c721e6ab0aab7872ae6681b4b39e265f6ab85d3e9ca">WIFI_MAC_DATA_CFPOLL</a>:</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;              <a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a>-&gt;GetHeader (0).SetType (<a class="code" href="namespacens3.html#a9318472db39b35b2092de5c721e6ab0aaafad3f2fa07671f676c0b60a6d3712b3">WIFI_MAC_DATA_CFACK_CFPOLL</a>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespacens3.html#a9318472db39b35b2092de5c721e6ab0aa276147ffa7d0998e81df2a93bc0e3916">WIFI_MAC_DATA_NULL</a>:</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;              <a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a>-&gt;GetHeader (0).SetType (<a class="code" href="namespacens3.html#a9318472db39b35b2092de5c721e6ab0aabc959e2ce5603c048b6df4c9eef31827">WIFI_MAC_DATA_NULL_CFACK</a>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespacens3.html#a9318472db39b35b2092de5c721e6ab0aadf0bf3167056a3aea0cab8e7aaf1f63f">WIFI_MAC_DATA_NULL_CFPOLL</a>:</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;              <a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a>-&gt;GetHeader (0).SetType (<a class="code" href="namespacens3.html#a9318472db39b35b2092de5c721e6ab0aaa54cbe56295bf20231940217681f710c">WIFI_MAC_DATA_NULL_CFACK_CFPOLL</a>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespacens3.html#a9318472db39b35b2092de5c721e6ab0aabc19f0507960f8cc3dbffa0a4a959502">WIFI_MAC_CTL_END</a>:</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;              <a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a>-&gt;GetHeader (0).SetType (<a class="code" href="namespacens3.html#a9318472db39b35b2092de5c721e6ab0aa174e4ecc4062de8f0be8e22e3bf0a55c">WIFI_MAC_CTL_END_ACK</a>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;              <a class="code" href="group__assert.html#ga6dccdb0de9b252f60088ce281c49d052">NS_ASSERT</a> (<span class="keyword">false</span>);</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;            }</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;          <a class="code" href="group__assert.html#ga6dccdb0de9b252f60088ce281c49d052">NS_ASSERT</a> (<a class="code" href="classns3_1_1_mac_low.html#a57b40499d27ce4a39651572c1472b121">m_cfAckInfo</a>.<a class="code" href="structns3_1_1_mac_low_1_1_cf_ack_info.html#a2c6eef8471b382b88bcba6cc26fa4668">address</a> != <a class="code" href="classns3_1_1_mac48_address.html">Mac48Address</a> ());</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;          <span class="comment">//Standard says that, for frames of type Data+CF-Ack, Data+CF-Poll+CF-Ack, and CF-Poll+CF-Ack,</span></div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;          <span class="comment">//the rate chosen to transmit the frame must be supported by both the addressed recipient STA and the STA to which the Ack is intended.</span></div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;          <span class="comment">//This ideally requires the rate manager to handle this case, but this requires to update all rate manager classes.</span></div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;          <span class="comment">//Instead, we simply fetch two TxVector and we select the one with the lowest data rate.</span></div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;          <span class="comment">//This should be later changed, at the latest once HCCA is implemented for HT/VHT/HE stations.</span></div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;          <a class="code" href="classns3_1_1_wifi_mac_header.html">WifiMacHeader</a> tmpHdr = <a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a>-&gt;GetHeader (0);</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;          tmpHdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a6478a02b80d5c01657714c5c7a0ae1cb">SetAddr1</a> (<a class="code" href="classns3_1_1_mac_low.html#a57b40499d27ce4a39651572c1472b121">m_cfAckInfo</a>.<a class="code" href="structns3_1_1_mac_low_1_1_cf_ack_info.html#a2c6eef8471b382b88bcba6cc26fa4668">address</a>);</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;          <a class="code" href="classns3_1_1_wifi_tx_vector.html">WifiTxVector</a> tmpTxVector = <a class="code" href="classns3_1_1_mac_low.html#aeb3a8ccdb7a068b7ee69d507a66a1b60">GetDataTxVector</a> (Create&lt;const WifiMacQueueItem&gt; (<a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a>-&gt;GetPayload (0), tmpHdr));</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;          <span class="keywordflow">if</span> (tmpTxVector.<a class="code" href="classns3_1_1_wifi_tx_vector.html#aadd3ccf9d68dd8f06d4cfedc352498fb">GetMode</a> ().<a class="code" href="classns3_1_1_wifi_mode.html#ad90f36e733ceaf8c5771cfbda437e14f">GetDataRate</a> (tmpTxVector) &lt; <a class="code" href="classns3_1_1_mac_low.html#af87bd81ded4d362f9f1dc89dbbee65a3">m_currentTxVector</a>.<a class="code" href="classns3_1_1_wifi_tx_vector.html#aadd3ccf9d68dd8f06d4cfedc352498fb">GetMode</a> ().<a class="code" href="classns3_1_1_wifi_mode.html#ad90f36e733ceaf8c5771cfbda437e14f">GetDataRate</a> (<a class="code" href="classns3_1_1_mac_low.html#af87bd81ded4d362f9f1dc89dbbee65a3">m_currentTxVector</a>))</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;            {</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;              <a class="code" href="classns3_1_1_mac_low.html#af87bd81ded4d362f9f1dc89dbbee65a3">m_currentTxVector</a> = tmpTxVector;</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;            }</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;          <a class="code" href="classns3_1_1_mac_low.html#a57b40499d27ce4a39651572c1472b121">m_cfAckInfo</a>.<a class="code" href="structns3_1_1_mac_low_1_1_cf_ack_info.html#a9a90048cea029293950210cd9e7916f6">appendCfAck</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;          <a class="code" href="classns3_1_1_mac_low.html#a57b40499d27ce4a39651572c1472b121">m_cfAckInfo</a>.<a class="code" href="structns3_1_1_mac_low_1_1_cf_ack_info.html#a2c6eef8471b382b88bcba6cc26fa4668">address</a> = <a class="code" href="classns3_1_1_mac48_address.html">Mac48Address</a> ();</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;        }</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;    }</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_mac_low.html#a1c5ce6a0415d4a6d394bc9fc8f78327d">m_txParams</a>.<a class="code" href="classns3_1_1_mac_low_transmission_parameters.html#a07cb0cef8eb1fdd3c3646f4665a2fcac">MustSendBlockAckRequest</a> ())</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;    {</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;      <a class="code" href="classns3_1_1_ptr.html">Ptr&lt;QosTxop&gt;</a> qosTxop = DynamicCast&lt;QosTxop&gt; (<a class="code" href="classns3_1_1_mac_low.html#a811ffb89964a59347ee294e3d233f36c">m_currentTxop</a>);</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;      <a class="code" href="group__assert.html#ga6dccdb0de9b252f60088ce281c49d052">NS_ASSERT</a> (qosTxop != 0);</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;      <span class="keyword">auto</span> bar = qosTxop-&gt;<a class="code" href="classns3_1_1_qos_txop.html#a9054cd15fbc2a253d7f0d416d8ec815b">PrepareBlockAckRequest</a> (<a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a>-&gt;GetAddr1 (), *<a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a>-&gt;GetTids ().begin ());</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;      qosTxop-&gt;<a class="code" href="classns3_1_1_qos_txop.html#afe1e7c03a692364275e50664592d6278">ScheduleBar</a> (bar);</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;    }</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#a9babdfa2bf38577f733c4723e6114c16">ForwardDown</a> (<a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a>, <a class="code" href="classns3_1_1_mac_low.html#af87bd81ded4d362f9f1dc89dbbee65a3">m_currentTxVector</a>);</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;}</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160; </div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;<span class="keywordtype">bool</span></div>
<div class="line"><a name="l02011"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#ace17475855332c9260bbe2a1df29fc05"> 2011</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#ace17475855332c9260bbe2a1df29fc05">MacLow::IsNavZero</a> (<span class="keywordtype">void</span>)<span class="keyword"> const</span></div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;  <span class="keywordflow">return</span> (<a class="code" href="classns3_1_1_mac_low.html#ad306264b6f7c07d8b222d461f2d09b29">m_lastNavStart</a> + <a class="code" href="classns3_1_1_mac_low.html#a939a71bf7296a87bfc5bf2eb8b026b4b">m_lastNavDuration</a> &lt; <a class="code" href="classns3_1_1_simulator.html#ac3178fa975b419f7875e7105be122800">Simulator::Now</a> ());</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;}</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160; </div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l02017"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#a209c346576d367ef16cfa1cfdefff909"> 2017</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#a209c346576d367ef16cfa1cfdefff909">MacLow::SendCtsToSelf</a> (<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;{</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;  <a class="code" href="classns3_1_1_wifi_mac_header.html">WifiMacHeader</a> cts;</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;  cts.<a class="code" href="classns3_1_1_wifi_mac_header.html#a71172371f11f1cfcb3912bb03134c285">SetType</a> (<a class="code" href="namespacens3.html#a9318472db39b35b2092de5c721e6ab0aa529299bd6c8159e0dc3f56acb749eff4">WIFI_MAC_CTL_CTS</a>);</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;  cts.<a class="code" href="classns3_1_1_wifi_mac_header.html#a02edeb349da4aacc6b376fcf76ff99cc">SetDsNotFrom</a> ();</div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;  cts.<a class="code" href="classns3_1_1_wifi_mac_header.html#a977cd5a09062bfc3660a23acdebd75ec">SetDsNotTo</a> ();</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;  cts.<a class="code" href="classns3_1_1_wifi_mac_header.html#a3898df5358df4247926b74175f2789c3">SetNoMoreFragments</a> ();</div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;  cts.<a class="code" href="classns3_1_1_wifi_mac_header.html#a2dbe5e569e783f6d975c13daf3015f12">SetNoRetry</a> ();</div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;  cts.<a class="code" href="classns3_1_1_wifi_mac_header.html#a6478a02b80d5c01657714c5c7a0ae1cb">SetAddr1</a> (<a class="code" href="classns3_1_1_mac_low.html#a23004ca5405c82111f5b20eec03b3d9a">m_self</a>);</div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160; </div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;  <a class="code" href="classns3_1_1_wifi_tx_vector.html">WifiTxVector</a> ctsTxVector = <a class="code" href="classns3_1_1_mac_low.html#a89fbeddfe91a47f0dcc1f3d7fd5108a0">GetRtsTxVector</a> (*<a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a>-&gt;begin ());</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;  <a class="code" href="classns3_1_1_time.html">Time</a> <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a> = <a class="code" href="group__timecivil.html#ga33c34b816f8ff6628e33d5c8e9713b9e">Seconds</a> (0);</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160; </div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;  <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a> += <a class="code" href="classns3_1_1_mac_low.html#a142444428826e0a5f67265dfd7b0f4d2">GetSifs</a> ();</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;  <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a> += <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#aee98c7241bb4f0bb8e6d90f5771dacc7">CalculateTxDuration</a> (<a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a>-&gt;GetSize (),</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;                                          <a class="code" href="classns3_1_1_mac_low.html#af87bd81ded4d362f9f1dc89dbbee65a3">m_currentTxVector</a>, <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#afca470e272ec5c3126da63c0a6102f4c">GetFrequency</a> ());</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;  <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a> += <a class="code" href="classns3_1_1_mac_low.html#ae23ccb3c313c640daf5bd4c857eb0d7a">GetResponseDuration</a> (<a class="code" href="classns3_1_1_mac_low.html#a1c5ce6a0415d4a6d394bc9fc8f78327d">m_txParams</a>, <a class="code" href="classns3_1_1_mac_low.html#af87bd81ded4d362f9f1dc89dbbee65a3">m_currentTxVector</a>, <a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a>-&gt;GetAddr1 ());</div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_mac_low.html#a1c5ce6a0415d4a6d394bc9fc8f78327d">m_txParams</a>.<a class="code" href="classns3_1_1_mac_low_transmission_parameters.html#a2832d2778353fbdd8cb92fbe3ea9da9d">HasNextPacket</a> ())</div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;    {</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;      <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a> += <a class="code" href="classns3_1_1_mac_low.html#a142444428826e0a5f67265dfd7b0f4d2">GetSifs</a> ();</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;      <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a> += <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#aee98c7241bb4f0bb8e6d90f5771dacc7">CalculateTxDuration</a> (<a class="code" href="classns3_1_1_mac_low.html#a1c5ce6a0415d4a6d394bc9fc8f78327d">m_txParams</a>.<a class="code" href="classns3_1_1_mac_low_transmission_parameters.html#abbe0a559eea37bf8d11162a7c88f3816">GetNextPacketSize</a> (),</div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;                                              <a class="code" href="classns3_1_1_mac_low.html#af87bd81ded4d362f9f1dc89dbbee65a3">m_currentTxVector</a>, <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#afca470e272ec5c3126da63c0a6102f4c">GetFrequency</a> ());</div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;      <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a> += <a class="code" href="classns3_1_1_mac_low.html#ae23ccb3c313c640daf5bd4c857eb0d7a">GetResponseDuration</a> (<a class="code" href="classns3_1_1_mac_low.html#a1c5ce6a0415d4a6d394bc9fc8f78327d">m_txParams</a>, <a class="code" href="classns3_1_1_mac_low.html#af87bd81ded4d362f9f1dc89dbbee65a3">m_currentTxVector</a>, <a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a>-&gt;GetAddr1 ());</div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;    }</div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160; </div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;  cts.<a class="code" href="classns3_1_1_wifi_mac_header.html#a8c0936e7d1a0d1e43ccfcd21f43830fb">SetDuration</a> (<a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a>);</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160; </div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#a9babdfa2bf38577f733c4723e6114c16">ForwardDown</a> (Create&lt;const WifiPsdu&gt; (Create&lt;Packet&gt; (), cts), ctsTxVector);</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160; </div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;  <a class="code" href="classns3_1_1_time.html">Time</a> txDuration = <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#aee98c7241bb4f0bb8e6d90f5771dacc7">CalculateTxDuration</a> (<a class="code" href="namespacens3.html#a8f21e8e26a4717e746be854a41df7b0d">GetCtsSize</a> (), ctsTxVector, <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#afca470e272ec5c3126da63c0a6102f4c">GetFrequency</a> ());</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;  txDuration += <a class="code" href="classns3_1_1_mac_low.html#a142444428826e0a5f67265dfd7b0f4d2">GetSifs</a> ();</div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;  <a class="code" href="group__assert.html#ga6dccdb0de9b252f60088ce281c49d052">NS_ASSERT</a> (<a class="code" href="classns3_1_1_mac_low.html#a3f6b0135f1179dd4cd5d2002f7355423">m_sendDataEvent</a>.<a class="code" href="classns3_1_1_event_id.html#acc25141054209b1a286a5471a51bd0c0">IsExpired</a> ());</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160; </div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#a3f6b0135f1179dd4cd5d2002f7355423">m_sendDataEvent</a> = <a class="code" href="classns3_1_1_simulator.html#a671882c894a08af4a5e91181bf1eec13">Simulator::Schedule</a> (txDuration,</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;                                         &amp;<a class="code" href="classns3_1_1_mac_low.html#a68c30ffb5ff64c0fa1defcfe6d751907">MacLow::SendDataAfterCts</a>, <span class="keyword">this</span>,</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;                                         <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a>);</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;}</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160; </div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l02056"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#aebcd4c3e8d64fb53af1f8a862c766e33"> 2056</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#aebcd4c3e8d64fb53af1f8a862c766e33">MacLow::SendCtsAfterRts</a> (<a class="code" href="classns3_1_1_mac48_address.html">Mac48Address</a> source, <a class="code" href="classns3_1_1_time.html">Time</a> <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a>, <a class="code" href="classns3_1_1_wifi_tx_vector.html">WifiTxVector</a> rtsTxVector, <span class="keywordtype">double</span> rtsSnr)</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;{</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;  <a class="code" href="group__logging.html#ga90b90d5bad1f39cb1b64923ea94c0761">NS_LOG_FUNCTION</a> (<span class="keyword">this</span> &lt;&lt; source &lt;&lt; <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a> &lt;&lt; rtsTxVector.<a class="code" href="classns3_1_1_wifi_tx_vector.html#aadd3ccf9d68dd8f06d4cfedc352498fb">GetMode</a> () &lt;&lt; rtsSnr);</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;  <span class="comment">/* send a CTS when you receive a RTS</span></div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;<span class="comment">   * right after SIFS.</span></div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;  <a class="code" href="classns3_1_1_wifi_tx_vector.html">WifiTxVector</a> ctsTxVector = <a class="code" href="classns3_1_1_mac_low.html#abe2810a59020adbcf64abbef2bcf319f">GetCtsTxVector</a> (source, rtsTxVector.<a class="code" href="classns3_1_1_wifi_tx_vector.html#aadd3ccf9d68dd8f06d4cfedc352498fb">GetMode</a> ());</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;  <a class="code" href="classns3_1_1_wifi_mac_header.html">WifiMacHeader</a> cts;</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;  cts.<a class="code" href="classns3_1_1_wifi_mac_header.html#a71172371f11f1cfcb3912bb03134c285">SetType</a> (<a class="code" href="namespacens3.html#a9318472db39b35b2092de5c721e6ab0aa529299bd6c8159e0dc3f56acb749eff4">WIFI_MAC_CTL_CTS</a>);</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;  cts.<a class="code" href="classns3_1_1_wifi_mac_header.html#a02edeb349da4aacc6b376fcf76ff99cc">SetDsNotFrom</a> ();</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;  cts.<a class="code" href="classns3_1_1_wifi_mac_header.html#a977cd5a09062bfc3660a23acdebd75ec">SetDsNotTo</a> ();</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;  cts.<a class="code" href="classns3_1_1_wifi_mac_header.html#a3898df5358df4247926b74175f2789c3">SetNoMoreFragments</a> ();</div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;  cts.<a class="code" href="classns3_1_1_wifi_mac_header.html#a2dbe5e569e783f6d975c13daf3015f12">SetNoRetry</a> ();</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;  cts.<a class="code" href="classns3_1_1_wifi_mac_header.html#a6478a02b80d5c01657714c5c7a0ae1cb">SetAddr1</a> (source);</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;  <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a> -= <a class="code" href="classns3_1_1_mac_low.html#a600b2ba477578734cc4a1e3c11e5d5dd">GetCtsDuration</a> (source, rtsTxVector);</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;  <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a> -= <a class="code" href="classns3_1_1_mac_low.html#a142444428826e0a5f67265dfd7b0f4d2">GetSifs</a> ();</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;  <a class="code" href="group__assert.html#ga6dccdb0de9b252f60088ce281c49d052">NS_ASSERT</a> (<a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a>.IsPositive ());</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;  cts.<a class="code" href="classns3_1_1_wifi_mac_header.html#a8c0936e7d1a0d1e43ccfcd21f43830fb">SetDuration</a> (<a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a>);</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160; </div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;  <a class="code" href="classns3_1_1_ptr.html">Ptr&lt;Packet&gt;</a> packet = Create&lt;Packet&gt; ();</div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160; </div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;  <a class="code" href="classns3_1_1_snr_tag.html">SnrTag</a> tag;</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;  tag.<a class="code" href="classns3_1_1_snr_tag.html#a2f9d363bfdd81cf96b90e270eb2fc479">Set</a> (rtsSnr);</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;  packet-&gt;<a class="code" href="classns3_1_1_packet.html#ac4a6bcd77e58bdc14c42a7d572d66cc9">AddPacketTag</a> (tag);</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160; </div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;  <span class="comment">//CTS should always use non-HT PPDU (HT PPDU cases not supported yet)</span></div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#a9babdfa2bf38577f733c4723e6114c16">ForwardDown</a> (Create&lt;const WifiPsdu&gt; (packet, cts), ctsTxVector);</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;}</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160; </div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l02086"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#a68c30ffb5ff64c0fa1defcfe6d751907"> 2086</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#a68c30ffb5ff64c0fa1defcfe6d751907">MacLow::SendDataAfterCts</a> (<a class="code" href="classns3_1_1_time.html">Time</a> <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a>)</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;{</div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;  <a class="code" href="group__logging.html#ga90b90d5bad1f39cb1b64923ea94c0761">NS_LOG_FUNCTION</a> (<span class="keyword">this</span>);</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;  <span class="comment">/* send the third step in a</span></div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;<span class="comment">   * RTS/CTS/Data/Ack handshake</span></div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;  <a class="code" href="group__assert.html#ga6dccdb0de9b252f60088ce281c49d052">NS_ASSERT</a> (<a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a> != 0);</div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160; </div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#ae7e8072b7d1f8b775000f6f07ee5a3c1">StartDataTxTimers</a> (<a class="code" href="classns3_1_1_mac_low.html#af87bd81ded4d362f9f1dc89dbbee65a3">m_currentTxVector</a>);</div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;  <a class="code" href="classns3_1_1_time.html">Time</a> newDuration = <a class="code" href="classns3_1_1_mac_low.html#ae23ccb3c313c640daf5bd4c857eb0d7a">GetResponseDuration</a> (<a class="code" href="classns3_1_1_mac_low.html#a1c5ce6a0415d4a6d394bc9fc8f78327d">m_txParams</a>, <a class="code" href="classns3_1_1_mac_low.html#af87bd81ded4d362f9f1dc89dbbee65a3">m_currentTxVector</a>, <a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a>-&gt;GetAddr1 ());</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_mac_low.html#a1c5ce6a0415d4a6d394bc9fc8f78327d">m_txParams</a>.<a class="code" href="classns3_1_1_mac_low_transmission_parameters.html#a2832d2778353fbdd8cb92fbe3ea9da9d">HasNextPacket</a> ())</div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;    {</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_mac_low.html#a1c7f45f071f9e5eb97764f64e5cdaf1b">m_stationManager</a>-&gt;<a class="code" href="classns3_1_1_wifi_remote_station_manager.html#a68dc3eb191060d3f98f265b9013d7e4a">GetRifsPermitted</a> ())</div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;        {</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;          newDuration += <a class="code" href="classns3_1_1_mac_low.html#a42324a6a9affe03004a854dc0daa5f27">GetRifs</a> ();</div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;        }</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;        {</div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;          newDuration += <a class="code" href="classns3_1_1_mac_low.html#a142444428826e0a5f67265dfd7b0f4d2">GetSifs</a> ();</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;        }</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;      newDuration += <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#aee98c7241bb4f0bb8e6d90f5771dacc7">CalculateTxDuration</a> (<a class="code" href="classns3_1_1_mac_low.html#a1c5ce6a0415d4a6d394bc9fc8f78327d">m_txParams</a>.<a class="code" href="classns3_1_1_mac_low_transmission_parameters.html#abbe0a559eea37bf8d11162a7c88f3816">GetNextPacketSize</a> (), <a class="code" href="classns3_1_1_mac_low.html#af87bd81ded4d362f9f1dc89dbbee65a3">m_currentTxVector</a>, <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#afca470e272ec5c3126da63c0a6102f4c">GetFrequency</a> ());</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;      newDuration += <a class="code" href="classns3_1_1_mac_low.html#ae23ccb3c313c640daf5bd4c857eb0d7a">GetResponseDuration</a> (<a class="code" href="classns3_1_1_mac_low.html#a1c5ce6a0415d4a6d394bc9fc8f78327d">m_txParams</a>, <a class="code" href="classns3_1_1_mac_low.html#af87bd81ded4d362f9f1dc89dbbee65a3">m_currentTxVector</a>, <a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a>-&gt;GetAddr1 ());</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;    }</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160; </div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;  <a class="code" href="classns3_1_1_time.html">Time</a> txDuration = <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#aee98c7241bb4f0bb8e6d90f5771dacc7">CalculateTxDuration</a> (<a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a>-&gt;GetSize (), <a class="code" href="classns3_1_1_mac_low.html#af87bd81ded4d362f9f1dc89dbbee65a3">m_currentTxVector</a>, <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#afca470e272ec5c3126da63c0a6102f4c">GetFrequency</a> ());</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;  <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a> -= txDuration;</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;  <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a> -= <a class="code" href="classns3_1_1_mac_low.html#a142444428826e0a5f67265dfd7b0f4d2">GetSifs</a> ();</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160; </div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;  <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a> = <a class="code" href="80211b_8c.html#affe776513b24d84b39af8ab0930fef7f">std::max</a> (<a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a>, newDuration);</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;  <a class="code" href="group__assert.html#ga6dccdb0de9b252f60088ce281c49d052">NS_ASSERT</a> (<a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a>.IsPositive ());</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a>-&gt;SetDuration (<a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a>);</div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_mac_low.html#a1c5ce6a0415d4a6d394bc9fc8f78327d">m_txParams</a>.<a class="code" href="classns3_1_1_mac_low_transmission_parameters.html#a07cb0cef8eb1fdd3c3646f4665a2fcac">MustSendBlockAckRequest</a> ())</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;    {</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;      <a class="code" href="classns3_1_1_ptr.html">Ptr&lt;QosTxop&gt;</a> qosTxop = DynamicCast&lt;QosTxop&gt; (<a class="code" href="classns3_1_1_mac_low.html#a811ffb89964a59347ee294e3d233f36c">m_currentTxop</a>);</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;      <a class="code" href="group__assert.html#ga6dccdb0de9b252f60088ce281c49d052">NS_ASSERT</a> (qosTxop != 0);</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;      <span class="keyword">auto</span> bar = qosTxop-&gt;<a class="code" href="classns3_1_1_qos_txop.html#a9054cd15fbc2a253d7f0d416d8ec815b">PrepareBlockAckRequest</a> (<a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a>-&gt;GetAddr1 (), *<a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a>-&gt;GetTids ().begin ());</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;      qosTxop-&gt;<a class="code" href="classns3_1_1_qos_txop.html#afe1e7c03a692364275e50664592d6278">ScheduleBar</a> (bar);</div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;    }</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#a9babdfa2bf38577f733c4723e6114c16">ForwardDown</a> (<a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a>, <a class="code" href="classns3_1_1_mac_low.html#af87bd81ded4d362f9f1dc89dbbee65a3">m_currentTxVector</a>);</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;}</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160; </div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l02128"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#a3087bf08c1005df5654ede7311173e4f"> 2128</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#a3087bf08c1005df5654ede7311173e4f">MacLow::WaitIfsAfterEndTxFragment</a> (<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;{</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;  <a class="code" href="group__logging.html#ga90b90d5bad1f39cb1b64923ea94c0761">NS_LOG_FUNCTION</a> (<span class="keyword">this</span>);</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#a811ffb89964a59347ee294e3d233f36c">m_currentTxop</a>-&gt;<a class="code" href="classns3_1_1_txop.html#aecada58e9b31c3e42f143978567acac8">StartNextFragment</a> ();</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;}</div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160; </div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l02135"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#a17e509f5f61f862d9a49d01d7cf3a821"> 2135</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#a17e509f5f61f862d9a49d01d7cf3a821">MacLow::WaitIfsAfterEndTxPacket</a> (<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;{</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;  <a class="code" href="group__logging.html#ga90b90d5bad1f39cb1b64923ea94c0761">NS_LOG_FUNCTION</a> (<span class="keyword">this</span>);</div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#a811ffb89964a59347ee294e3d233f36c">m_currentTxop</a>-&gt;<a class="code" href="classns3_1_1_txop.html#ad17c1cd0826782cdd25838fcf8f546da">StartNextPacket</a> ();</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;}</div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160; </div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l02142"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#ab27ec174aebeec55b0fd44e872c0e777"> 2142</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#ab27ec174aebeec55b0fd44e872c0e777">MacLow::EndTxNoAck</a> (<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;{</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;  <a class="code" href="group__logging.html#ga90b90d5bad1f39cb1b64923ea94c0761">NS_LOG_FUNCTION</a> (<span class="keyword">this</span>);</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">m_currentPacket</a>-&gt;GetHeader (0).IsBeacon () &amp;&amp; <a class="code" href="classns3_1_1_mac_low.html#a1c7f45f071f9e5eb97764f64e5cdaf1b">m_stationManager</a>-&gt;<a class="code" href="classns3_1_1_wifi_remote_station_manager.html#ac83638ac78e26f560a41fd0c09e3c98c">GetPcfSupported</a> ())</div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;    {</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#a501a55ed9df40e8983e09cd2212b81cc">m_cfpStart</a> = <a class="code" href="classns3_1_1_simulator.html#ac3178fa975b419f7875e7105be122800">Simulator::Now</a> ();</div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;    }</div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classns3_1_1_mac_low.html#a57b40499d27ce4a39651572c1472b121">m_cfAckInfo</a>.<a class="code" href="structns3_1_1_mac_low_1_1_cf_ack_info.html#a8c676c7b0cb72efd7f2a1cfda9c65d01">expectCfAck</a>)</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;    {</div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;      <a class="code" href="classns3_1_1_ptr.html">Ptr&lt;Txop&gt;</a> txop = <a class="code" href="classns3_1_1_mac_low.html#a811ffb89964a59347ee294e3d233f36c">m_currentTxop</a>;</div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;      txop-&gt;<a class="code" href="classns3_1_1_txop.html#a21fbf608df4c1b90a2004e916c0665e5">EndTxNoAck</a> ();</div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;    }</div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classns3_1_1_mac_low.html#a4e08342dc51fd123ff9db8b4061df754">IsCfPeriod</a> ())</div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;    {</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#a811ffb89964a59347ee294e3d233f36c">m_currentTxop</a> = 0;</div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;    }</div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;}</div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160; </div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l02161"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#a8db1635644b89072dfcb5fbc2330031b"> 2161</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#a8db1635644b89072dfcb5fbc2330031b">MacLow::SendAckAfterData</a> (<a class="code" href="classns3_1_1_mac48_address.html">Mac48Address</a> source, <a class="code" href="classns3_1_1_time.html">Time</a> <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a>, <a class="code" href="classns3_1_1_wifi_mode.html">WifiMode</a> dataTxMode, <span class="keywordtype">double</span> dataSnr)</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;{</div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;  <a class="code" href="group__logging.html#ga90b90d5bad1f39cb1b64923ea94c0761">NS_LOG_FUNCTION</a> (<span class="keyword">this</span>);</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;  <span class="comment">// send an Ack, after SIFS, when you receive a packet</span></div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;  <a class="code" href="classns3_1_1_wifi_tx_vector.html">WifiTxVector</a> ackTxVector = <a class="code" href="classns3_1_1_mac_low.html#aae813ebc059b7e6aa1c88607e2969936">GetAckTxVector</a> (source, dataTxMode);</div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;  <a class="code" href="classns3_1_1_wifi_mac_header.html">WifiMacHeader</a> ack;</div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;  ack.<a class="code" href="classns3_1_1_wifi_mac_header.html#a71172371f11f1cfcb3912bb03134c285">SetType</a> (<a class="code" href="namespacens3.html#a9318472db39b35b2092de5c721e6ab0aa94b81d2741a3a2ab30de5df6e04fc850">WIFI_MAC_CTL_ACK</a>);</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;  ack.<a class="code" href="classns3_1_1_wifi_mac_header.html#a02edeb349da4aacc6b376fcf76ff99cc">SetDsNotFrom</a> ();</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;  ack.<a class="code" href="classns3_1_1_wifi_mac_header.html#a977cd5a09062bfc3660a23acdebd75ec">SetDsNotTo</a> ();</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;  ack.<a class="code" href="classns3_1_1_wifi_mac_header.html#a2dbe5e569e783f6d975c13daf3015f12">SetNoRetry</a> ();</div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;  ack.<a class="code" href="classns3_1_1_wifi_mac_header.html#a3898df5358df4247926b74175f2789c3">SetNoMoreFragments</a> ();</div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;  ack.<a class="code" href="classns3_1_1_wifi_mac_header.html#a6478a02b80d5c01657714c5c7a0ae1cb">SetAddr1</a> (source);</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;  <span class="comment">// 802.11-2012, Section 8.3.1.4:  Duration/ID is received duration value</span></div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;  <span class="comment">// minus the time to transmit the Ack frame and its SIFS interval</span></div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;  <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a> -= <a class="code" href="classns3_1_1_mac_low.html#a66918702d4803f26e27bf173b4766d16">GetAckDuration</a> (ackTxVector);</div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;  <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a> -= <a class="code" href="classns3_1_1_mac_low.html#a142444428826e0a5f67265dfd7b0f4d2">GetSifs</a> ();</div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;  <a class="code" href="ipv4-address-generator_8cc.html#aaf5aa23b804d2e5e334106f207e8a6cc">NS_ASSERT_MSG</a> (<a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a>.IsPositive (), <span class="stringliteral">&quot;Please provide test case to maintainers if this assert is hit.&quot;</span>);</div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;  ack.<a class="code" href="classns3_1_1_wifi_mac_header.html#a8c0936e7d1a0d1e43ccfcd21f43830fb">SetDuration</a> (<a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a>);</div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160; </div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;  <a class="code" href="classns3_1_1_ptr.html">Ptr&lt;Packet&gt;</a> packet = Create&lt;Packet&gt; ();</div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160; </div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;  <a class="code" href="classns3_1_1_snr_tag.html">SnrTag</a> tag;</div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;  tag.<a class="code" href="classns3_1_1_snr_tag.html#a2f9d363bfdd81cf96b90e270eb2fc479">Set</a> (dataSnr);</div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;  packet-&gt;<a class="code" href="classns3_1_1_packet.html#ac4a6bcd77e58bdc14c42a7d572d66cc9">AddPacketTag</a> (tag);</div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160; </div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;  <span class="comment">//Ack should always use non-HT PPDU (HT PPDU cases not supported yet)</span></div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#a9babdfa2bf38577f733c4723e6114c16">ForwardDown</a> (Create&lt;const WifiPsdu&gt; (packet, ack), ackTxVector);</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;}</div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160; </div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;<span class="keywordtype">bool</span></div>
<div class="line"><a name="l02191"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#af3d3e6e892e33bfb97bf65199c3aafd6"> 2191</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#af3d3e6e892e33bfb97bf65199c3aafd6">MacLow::ReceiveMpdu</a> (<a class="code" href="classns3_1_1_ptr.html">Ptr&lt;WifiMacQueueItem&gt;</a> mpdu)</div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;{</div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;  <span class="keyword">const</span> <a class="code" href="classns3_1_1_wifi_mac_header.html">WifiMacHeader</a>&amp; hdr = mpdu-&gt;<a class="code" href="classns3_1_1_wifi_mac_queue_item.html#aeb59c1e3b526361838d5d3a6f3035039">GetHeader</a> ();</div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160; </div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classns3_1_1_mac_low.html#a1c7f45f071f9e5eb97764f64e5cdaf1b">m_stationManager</a>-&gt;<a class="code" href="classns3_1_1_wifi_remote_station_manager.html#ae2d1200da0ec74745ef9b496f9c0251f">GetHtSupported</a> ()</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;      || <a class="code" href="classns3_1_1_mac_low.html#a1c7f45f071f9e5eb97764f64e5cdaf1b">m_stationManager</a>-&gt;<a class="code" href="classns3_1_1_wifi_remote_station_manager.html#a378e951feaf5fefbe0f32e0cfc0ce765">GetVhtSupported</a> ()</div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;      || <a class="code" href="classns3_1_1_mac_low.html#a1c7f45f071f9e5eb97764f64e5cdaf1b">m_stationManager</a>-&gt;<a class="code" href="classns3_1_1_wifi_remote_station_manager.html#abf94bd5d22ad632148777a6c7e39bae0">GetHeSupported</a> ())</div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;    {</div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;      <a class="code" href="classns3_1_1_mac48_address.html">Mac48Address</a> originator = hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a5d32ca3e3a34f1185df86927d4346430">GetAddr2</a> ();</div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;      uint8_t tid = 0;</div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;      <span class="keywordflow">if</span> (hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a368b97ef91b953af76794112fd3681c2">IsQosData</a> ())</div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;        {</div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;          tid = hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a07391fd5b12f7a90fe55325fcccc8e3a">GetQosTid</a> ();</div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;        }</div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;      uint16_t seqNumber = hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a3d393ad4f9cfaca5ce0ac239a27f2763">GetSequenceNumber</a> ();</div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#a7876cc9b328cdb0508f2a7b7647eab10">AgreementsI</a> it = <a class="code" href="classns3_1_1_mac_low.html#a53482df1a7e6f136cfa8ce50fa10adc2">m_bAckAgreements</a>.find (std::make_pair (originator, tid));</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;      <span class="keywordflow">if</span> (it != <a class="code" href="classns3_1_1_mac_low.html#a53482df1a7e6f136cfa8ce50fa10adc2">m_bAckAgreements</a>.end ())</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;        {</div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;          <span class="comment">//Implement HT immediate BlockAck support for HT Delayed BlockAck is not added yet</span></div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;          <span class="keywordflow">if</span> (!<a class="code" href="group__wifi.html#ga5cb9ea723837c5a036e622612f2d0bb0">QosUtilsIsOldPacket</a> ((*it).second.first.GetStartingSequence (), seqNumber))</div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;            {</div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;              <a class="code" href="classns3_1_1_mac_low.html#a9a1f45d86dee98b8b769052d0e6a678e">StoreMpduIfNeeded</a> (mpdu);</div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;              <span class="keywordflow">if</span> (!<a class="code" href="namespacens3.html#afba55479deec541244248815e1a33924">IsInWindow</a> (hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a3d393ad4f9cfaca5ce0ac239a27f2763">GetSequenceNumber</a> (), (*it).second.first.GetStartingSequence (), (*it).second.first.GetBufferSize ()))</div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;                {</div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;                  uint16_t delta = (seqNumber - (*it).second.first.GetWinEnd () + 4096) % 4096;</div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;                  <a class="code" href="group__assert.html#ga6dccdb0de9b252f60088ce281c49d052">NS_ASSERT</a> (delta &gt; 0);</div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;                  uint16_t bufferSize = (*it).second.first.GetBufferSize ();</div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;                  uint16_t startingSeq = (seqNumber - bufferSize + 1 + 4096) % 4096;</div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;                  (*it).second.first.SetStartingSequence (startingSeq);</div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;                  <a class="code" href="classns3_1_1_mac_low.html#aaed81a6cbf94baf2b2f17b9f96b8474d">RxCompleteBufferedPacketsWithSmallerSequence</a> ((*it).second.first.GetStartingSequenceControl (), originator, tid);</div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;                }</div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;              <a class="code" href="classns3_1_1_mac_low.html#aeadf392d37d323fb81f0ef0766f2359a">RxCompleteBufferedPacketsUntilFirstLost</a> (originator, tid); <span class="comment">//forwards up packets starting from winstart and set winstart to last +1</span></div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;            }</div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;        }</div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;    }</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classns3_1_1_mac_low.html#a9a1f45d86dee98b8b769052d0e6a678e">StoreMpduIfNeeded</a> (mpdu);</div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;}</div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160; </div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;<span class="keywordtype">bool</span></div>
<div class="line"><a name="l02232"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#a9a1f45d86dee98b8b769052d0e6a678e"> 2232</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#a9a1f45d86dee98b8b769052d0e6a678e">MacLow::StoreMpduIfNeeded</a> (<a class="code" href="classns3_1_1_ptr.html">Ptr&lt;WifiMacQueueItem&gt;</a> mpdu)</div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;{</div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;  <span class="keyword">const</span> <a class="code" href="classns3_1_1_wifi_mac_header.html">WifiMacHeader</a>&amp; hdr = mpdu-&gt;<a class="code" href="classns3_1_1_wifi_mac_queue_item.html#aeb59c1e3b526361838d5d3a6f3035039">GetHeader</a> ();</div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160; </div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#a7876cc9b328cdb0508f2a7b7647eab10">AgreementsI</a> it = <a class="code" href="classns3_1_1_mac_low.html#a53482df1a7e6f136cfa8ce50fa10adc2">m_bAckAgreements</a>.find (std::make_pair (hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a5d32ca3e3a34f1185df86927d4346430">GetAddr2</a> (), hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a07391fd5b12f7a90fe55325fcccc8e3a">GetQosTid</a> ()));</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;  <span class="keywordflow">if</span> (it != <a class="code" href="classns3_1_1_mac_low.html#a53482df1a7e6f136cfa8ce50fa10adc2">m_bAckAgreements</a>.end ())</div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;    {</div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;      uint16_t endSequence = ((*it).second.first.GetStartingSequence () + 2047) % 4096;</div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;      uint32_t mappedSeqControl = <a class="code" href="group__wifi.html#ga841296fae895cac77a0e14183b8134e0">QosUtilsMapSeqControlToUniqueInteger</a> (hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#ad4af293cb29d73a7661a93099e363b56">GetSequenceControl</a> (), endSequence);</div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160; </div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#a8c2bedd89702dea0ecefab31d3b8826d">BufferedPacketI</a> i = (*it).second.second.begin ();</div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;      <span class="keywordflow">for</span> (; i != (*it).second.second.end ()</div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;           &amp;&amp; <a class="code" href="group__wifi.html#ga841296fae895cac77a0e14183b8134e0">QosUtilsMapSeqControlToUniqueInteger</a> ((*i)-&gt;GetHeader ().GetSequenceControl (), endSequence) &lt; mappedSeqControl; i++)</div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;        {</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;        }</div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;      (*it).second.second.insert (i, mpdu);</div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160; </div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;      <span class="comment">//Update block ack cache</span></div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#ae0b0abf84b6078031fabd4e85e1cb1bf">BlockAckCachesI</a> j = <a class="code" href="classns3_1_1_mac_low.html#a1a2b5d95cae95e9b99e6508d7d350b47">m_bAckCaches</a>.find (std::make_pair (hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a5d32ca3e3a34f1185df86927d4346430">GetAddr2</a> (), hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a07391fd5b12f7a90fe55325fcccc8e3a">GetQosTid</a> ()));</div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;      <a class="code" href="group__assert.html#ga6dccdb0de9b252f60088ce281c49d052">NS_ASSERT</a> (j != <a class="code" href="classns3_1_1_mac_low.html#a1a2b5d95cae95e9b99e6508d7d350b47">m_bAckCaches</a>.end ());</div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;      (*j).second.UpdateWithMpdu (&amp;hdr);</div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;    }</div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;}</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160; </div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l02259"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#ab70f7f727b5f9e1e1357a73e29ba7f82"> 2259</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#ab70f7f727b5f9e1e1357a73e29ba7f82">MacLow::CreateBlockAckAgreement</a> (<span class="keyword">const</span> <a class="code" href="classns3_1_1_mgt_add_ba_response_header.html">MgtAddBaResponseHeader</a> *respHdr, <a class="code" href="classns3_1_1_mac48_address.html">Mac48Address</a> originator,</div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;                                 uint16_t startingSeq)</div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;{</div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;  <a class="code" href="group__logging.html#ga90b90d5bad1f39cb1b64923ea94c0761">NS_LOG_FUNCTION</a> (<span class="keyword">this</span>);</div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;  uint8_t tid = respHdr-&gt;<a class="code" href="classns3_1_1_mgt_add_ba_response_header.html#ac6a22733d007a7f6d46b7d247d72999a">GetTid</a> ();</div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;  <a class="code" href="classns3_1_1_block_ack_agreement.html">BlockAckAgreement</a> agreement (originator, tid);</div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;  <span class="keywordflow">if</span> (respHdr-&gt;<a class="code" href="classns3_1_1_mgt_add_ba_response_header.html#a37240968bb2f2856d72d691dd1b74809">IsImmediateBlockAck</a> ())</div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;    {</div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;      agreement.<a class="code" href="classns3_1_1_block_ack_agreement.html#a10cc1c1547def33759fd958ff5cfe8b2">SetImmediateBlockAck</a> ();</div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;    }</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;    {</div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;      agreement.<a class="code" href="classns3_1_1_block_ack_agreement.html#a306b340b9e9f05cbd5fedd3a412aa6ca">SetDelayedBlockAck</a> ();</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;    }</div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;  agreement.<a class="code" href="classns3_1_1_block_ack_agreement.html#a8597f6b15616bc0faac1e35966cda24f">SetAmsduSupport</a> (respHdr-&gt;<a class="code" href="classns3_1_1_mgt_add_ba_response_header.html#a39ae5439848b0eceb4e5635664921257">IsAmsduSupported</a> ());</div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;  agreement.<a class="code" href="classns3_1_1_block_ack_agreement.html#a78071664adb9207a45124d882b1860c8">SetBufferSize</a> (respHdr-&gt;<a class="code" href="classns3_1_1_mgt_add_ba_response_header.html#a486d93958d3e9c512fbcd84b78923b34">GetBufferSize</a> () + 1);</div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;  agreement.<a class="code" href="classns3_1_1_block_ack_agreement.html#aad0a85e49e6e939a2d23094acf871c7b">SetTimeout</a> (respHdr-&gt;<a class="code" href="classns3_1_1_mgt_add_ba_response_header.html#a6ab3150c36814d89f363c5f0f5dff219">GetTimeout</a> ());</div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;  agreement.<a class="code" href="classns3_1_1_block_ack_agreement.html#a2845733071e12a0f049bb7a90e174d61">SetStartingSequence</a> (startingSeq);</div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160; </div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;  std::list&lt;Ptr&lt;WifiMacQueueItem&gt;&gt; buffer (0);</div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#a8d666357756bbc5ea2d1b7fac3a5e938">AgreementKey</a> key (originator, respHdr-&gt;<a class="code" href="classns3_1_1_mgt_add_ba_response_header.html#ac6a22733d007a7f6d46b7d247d72999a">GetTid</a> ());</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#aa668bde03d2eaedd0e4883bc02424b21">AgreementValue</a> value (agreement, buffer);</div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#a53482df1a7e6f136cfa8ce50fa10adc2">m_bAckAgreements</a>.insert (std::make_pair (key, value));</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160; </div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;  <a class="code" href="classns3_1_1_block_ack_cache.html">BlockAckCache</a> cache;</div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;  cache.<a class="code" href="classns3_1_1_block_ack_cache.html#a38bbf9991bacc70374daf9b9f59731e1">Init</a> (startingSeq, respHdr-&gt;<a class="code" href="classns3_1_1_mgt_add_ba_response_header.html#a486d93958d3e9c512fbcd84b78923b34">GetBufferSize</a> () + 1);</div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#a1a2b5d95cae95e9b99e6508d7d350b47">m_bAckCaches</a>.insert (std::make_pair (key, cache));</div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160; </div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;  <span class="keywordflow">if</span> (respHdr-&gt;<a class="code" href="classns3_1_1_mgt_add_ba_response_header.html#a6ab3150c36814d89f363c5f0f5dff219">GetTimeout</a> () != 0)</div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;    {</div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#a7876cc9b328cdb0508f2a7b7647eab10">AgreementsI</a> it = <a class="code" href="classns3_1_1_mac_low.html#a53482df1a7e6f136cfa8ce50fa10adc2">m_bAckAgreements</a>.find (std::make_pair (originator, respHdr-&gt;<a class="code" href="classns3_1_1_mgt_add_ba_response_header.html#ac6a22733d007a7f6d46b7d247d72999a">GetTid</a> ()));</div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;      <a class="code" href="classns3_1_1_time.html">Time</a> <a class="code" href="openflow-switch_8cc.html#a386d174ae121d1cfa279074b7e209714">timeout</a> = <a class="code" href="group__timecivil.html#ga17465a639c8d1464e76538afdd78a9f0">MicroSeconds</a> (1024 * agreement.<a class="code" href="classns3_1_1_block_ack_agreement.html#a3bb6c5de52f721d50b59d9299094f85c">GetTimeout</a> ());</div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160; </div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;      <a class="code" href="group__wifi.html#gab422b4562ba272b39a9b6bca3513f3ac">AcIndex</a> ac = <a class="code" href="group__wifi.html#ga4e36efcff6dd83eaee42e1af0de43d48">QosUtilsMapTidToAc</a> (agreement.<a class="code" href="classns3_1_1_block_ack_agreement.html#a92cf01f31ffd2a7dadb2c46e94ee6f2c">GetTid</a> ());</div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160; </div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;      it-&gt;second.first.m_inactivityEvent = <a class="code" href="classns3_1_1_simulator.html#a671882c894a08af4a5e91181bf1eec13">Simulator::Schedule</a> (<a class="code" href="openflow-switch_8cc.html#a386d174ae121d1cfa279074b7e209714">timeout</a>,</div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;                                                                &amp;<a class="code" href="classns3_1_1_qos_txop.html#aa05a8b97a1b5f7bb4589ad12ac2c08c5">QosTxop::SendDelbaFrame</a>,</div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;                                                                <a class="code" href="classns3_1_1_mac_low.html#a754751ba4152c9337611a5f015045a44">m_edca</a>[ac], originator, tid, <span class="keyword">false</span>);</div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;    }</div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;}</div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160; </div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l02301"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#ada8f9b5da9cbfb2a63b1d740ab88216d"> 2301</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#ada8f9b5da9cbfb2a63b1d740ab88216d">MacLow::DestroyBlockAckAgreement</a> (<a class="code" href="classns3_1_1_mac48_address.html">Mac48Address</a> originator, uint8_t tid)</div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;{</div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;  <a class="code" href="group__logging.html#ga90b90d5bad1f39cb1b64923ea94c0761">NS_LOG_FUNCTION</a> (<span class="keyword">this</span>);</div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#a7876cc9b328cdb0508f2a7b7647eab10">AgreementsI</a> it = <a class="code" href="classns3_1_1_mac_low.html#a53482df1a7e6f136cfa8ce50fa10adc2">m_bAckAgreements</a>.find (std::make_pair (originator, tid));</div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;  <span class="keywordflow">if</span> (it != <a class="code" href="classns3_1_1_mac_low.html#a53482df1a7e6f136cfa8ce50fa10adc2">m_bAckAgreements</a>.end ())</div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;    {</div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#aaed81a6cbf94baf2b2f17b9f96b8474d">RxCompleteBufferedPacketsWithSmallerSequence</a> (it-&gt;second.first.GetStartingSequenceControl (), originator, tid);</div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#aeadf392d37d323fb81f0ef0766f2359a">RxCompleteBufferedPacketsUntilFirstLost</a> (originator, tid);</div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#a53482df1a7e6f136cfa8ce50fa10adc2">m_bAckAgreements</a>.erase (it);</div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#ae0b0abf84b6078031fabd4e85e1cb1bf">BlockAckCachesI</a> i = <a class="code" href="classns3_1_1_mac_low.html#a1a2b5d95cae95e9b99e6508d7d350b47">m_bAckCaches</a>.find (std::make_pair (originator, tid));</div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;      <a class="code" href="group__assert.html#ga6dccdb0de9b252f60088ce281c49d052">NS_ASSERT</a> (i != <a class="code" href="classns3_1_1_mac_low.html#a1a2b5d95cae95e9b99e6508d7d350b47">m_bAckCaches</a>.end ());</div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#a1a2b5d95cae95e9b99e6508d7d350b47">m_bAckCaches</a>.erase (i);</div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;    }</div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;}</div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160; </div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l02317"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#aaed81a6cbf94baf2b2f17b9f96b8474d"> 2317</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#aaed81a6cbf94baf2b2f17b9f96b8474d">MacLow::RxCompleteBufferedPacketsWithSmallerSequence</a> (uint16_t seq, <a class="code" href="classns3_1_1_mac48_address.html">Mac48Address</a> originator, uint8_t tid)</div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;{</div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#a7876cc9b328cdb0508f2a7b7647eab10">AgreementsI</a> it = <a class="code" href="classns3_1_1_mac_low.html#a53482df1a7e6f136cfa8ce50fa10adc2">m_bAckAgreements</a>.find (std::make_pair (originator, tid));</div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;  <span class="keywordflow">if</span> (it != <a class="code" href="classns3_1_1_mac_low.html#a53482df1a7e6f136cfa8ce50fa10adc2">m_bAckAgreements</a>.end ())</div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;    {</div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;      uint16_t endSequence = ((*it).second.first.GetStartingSequence () + 2047) % 4096;</div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;      uint32_t mappedStart = <a class="code" href="group__wifi.html#ga841296fae895cac77a0e14183b8134e0">QosUtilsMapSeqControlToUniqueInteger</a> (seq, endSequence);</div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#a8c2bedd89702dea0ecefab31d3b8826d">BufferedPacketI</a> last = (*it).second.second.begin ();</div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;      uint16_t guard = 0;</div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;      <span class="keywordflow">if</span> (last != (*it).second.second.end ())</div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;        {</div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;          guard = (*(*it).second.second.begin ())-&gt;GetHeader ().GetSequenceControl ();</div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;        }</div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#a8c2bedd89702dea0ecefab31d3b8826d">BufferedPacketI</a> i = (*it).second.second.begin ();</div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;      <span class="keywordflow">for</span> (; i != (*it).second.second.end ()</div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;           &amp;&amp; <a class="code" href="group__wifi.html#ga841296fae895cac77a0e14183b8134e0">QosUtilsMapSeqControlToUniqueInteger</a> ((*i)-&gt;GetHeader ().GetSequenceControl (), endSequence) &lt; mappedStart; )</div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;        {</div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;          <span class="keywordflow">if</span> (guard == (*i)-&gt;GetHeader ().GetSequenceControl ())</div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;            {</div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;              <span class="keywordflow">if</span> (!(*i)-&gt;GetHeader ().IsMoreFragments ())</div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;                {</div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;                  <span class="keywordflow">while</span> (last != i)</div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;                    {</div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;                      <a class="code" href="classns3_1_1_mac_low.html#ac5f2b06b6151c99816c66b7bf946a4d8">m_rxCallback</a> (*last);</div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;                      last++;</div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;                    }</div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;                  <a class="code" href="classns3_1_1_mac_low.html#ac5f2b06b6151c99816c66b7bf946a4d8">m_rxCallback</a> (*last);</div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;                  last++;</div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;                  <span class="comment">/* go to next packet */</span></div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;                  <span class="keywordflow">while</span> (i != (*it).second.second.end () &amp;&amp; guard == (*i)-&gt;GetHeader ().GetSequenceControl ())</div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;                    {</div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;                      i++;</div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;                    }</div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;                  <span class="keywordflow">if</span> (i != (*it).second.second.end ())</div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;                    {</div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;                      guard = (*i)-&gt;GetHeader ().GetSequenceControl ();</div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;                      last = i;</div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;                    }</div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;                }</div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;              <span class="keywordflow">else</span></div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;                {</div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;                  guard++;</div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;                }</div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;            }</div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;          <span class="keywordflow">else</span></div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;            {</div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;              <span class="comment">/* go to next packet */</span></div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;              <span class="keywordflow">while</span> (i != (*it).second.second.end () &amp;&amp; guard == (*i)-&gt;GetHeader ().GetSequenceControl ())</div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;                {</div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;                  i++;</div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;                }</div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;              <span class="keywordflow">if</span> (i != (*it).second.second.end ())</div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;                {</div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;                  guard = (*i)-&gt;GetHeader ().GetSequenceControl ();</div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;                  last = i;</div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;                }</div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;            }</div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;        }</div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;      (*it).second.second.erase ((*it).second.second.begin (), i);</div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;    }</div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;}</div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160; </div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l02380"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#aeadf392d37d323fb81f0ef0766f2359a"> 2380</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#aeadf392d37d323fb81f0ef0766f2359a">MacLow::RxCompleteBufferedPacketsUntilFirstLost</a> (<a class="code" href="classns3_1_1_mac48_address.html">Mac48Address</a> originator, uint8_t tid)</div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;{</div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#a7876cc9b328cdb0508f2a7b7647eab10">AgreementsI</a> it = <a class="code" href="classns3_1_1_mac_low.html#a53482df1a7e6f136cfa8ce50fa10adc2">m_bAckAgreements</a>.find (std::make_pair (originator, tid));</div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;  <span class="keywordflow">if</span> (it != <a class="code" href="classns3_1_1_mac_low.html#a53482df1a7e6f136cfa8ce50fa10adc2">m_bAckAgreements</a>.end ())</div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;    {</div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;      uint16_t guard = (*it).second.first.GetStartingSequenceControl ();</div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#a8c2bedd89702dea0ecefab31d3b8826d">BufferedPacketI</a> lastComplete = (*it).second.second.begin ();</div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#a8c2bedd89702dea0ecefab31d3b8826d">BufferedPacketI</a> i = (*it).second.second.begin ();</div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;      <span class="keywordflow">for</span> (; i != (*it).second.second.end () &amp;&amp; guard == (*i)-&gt;GetHeader ().GetSequenceControl (); i++)</div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;        {</div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;          <span class="keywordflow">if</span> (!(*i)-&gt;GetHeader ().IsMoreFragments ())</div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;            {</div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;              <span class="keywordflow">while</span> (lastComplete != i)</div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;                {</div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;                  <a class="code" href="classns3_1_1_mac_low.html#ac5f2b06b6151c99816c66b7bf946a4d8">m_rxCallback</a> (*lastComplete);</div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;                  lastComplete++;</div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;                }</div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;              <a class="code" href="classns3_1_1_mac_low.html#ac5f2b06b6151c99816c66b7bf946a4d8">m_rxCallback</a> (*lastComplete);</div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;              lastComplete++;</div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;            }</div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;          guard = (*i)-&gt;GetHeader ().IsMoreFragments () ? (guard + 1) : ((guard + 16) &amp; 0xfff0);</div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;        }</div>
<div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;      (*it).second.first.SetStartingSequenceControl (guard);</div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;      <span class="comment">/* All packets already forwarded to WifiMac must be removed from buffer:</span></div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;<span class="comment">      [begin (), lastComplete) */</span></div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;      (*it).second.second.erase ((*it).second.second.begin (), lastComplete);</div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;    }</div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;}</div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160; </div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l02410"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#a85c374be43ba3bd52fd1ad6efdfef6c6"> 2410</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#a85c374be43ba3bd52fd1ad6efdfef6c6">MacLow::SendBlockAckResponse</a> (<span class="keyword">const</span> <a class="code" href="classns3_1_1_ctrl_b_ack_response_header.html">CtrlBAckResponseHeader</a>* blockAck, <a class="code" href="classns3_1_1_mac48_address.html">Mac48Address</a> originator, <span class="keywordtype">bool</span> immediate,</div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;                              <a class="code" href="classns3_1_1_time.html">Time</a> <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a>, <a class="code" href="classns3_1_1_wifi_mode.html">WifiMode</a> blockAckReqTxMode, <span class="keywordtype">double</span> rxSnr)</div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;{</div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;  <a class="code" href="group__logging.html#ga90b90d5bad1f39cb1b64923ea94c0761">NS_LOG_FUNCTION</a> (<span class="keyword">this</span>);</div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;  <a class="code" href="classns3_1_1_ptr.html">Ptr&lt;Packet&gt;</a> packet = Create&lt;Packet&gt; ();</div>
<div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;  packet-&gt;<a class="code" href="classns3_1_1_packet.html#a465108c595a0bc592095cbcab1832ed8">AddHeader</a> (*blockAck);</div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160; </div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;  <a class="code" href="classns3_1_1_wifi_mac_header.html">WifiMacHeader</a> hdr;</div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;  hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a71172371f11f1cfcb3912bb03134c285">SetType</a> (<a class="code" href="namespacens3.html#a9318472db39b35b2092de5c721e6ab0aaabd6e2bca4aa9279211a5e7d0c5c5afa">WIFI_MAC_CTL_BACKRESP</a>);</div>
<div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;  hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a6478a02b80d5c01657714c5c7a0ae1cb">SetAddr1</a> (originator);</div>
<div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;  hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#ab6a0efdc43d39b5da5d17eae9665271d">SetAddr2</a> (<a class="code" href="classns3_1_1_mac_low.html#a35d51772cdcda1846a7777f09c81888e">GetAddress</a> ());</div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;  hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a02edeb349da4aacc6b376fcf76ff99cc">SetDsNotFrom</a> ();</div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;  hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a977cd5a09062bfc3660a23acdebd75ec">SetDsNotTo</a> ();</div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;  hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a2dbe5e569e783f6d975c13daf3015f12">SetNoRetry</a> ();</div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;  hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a3898df5358df4247926b74175f2789c3">SetNoMoreFragments</a> ();</div>
<div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160; </div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;  <a class="code" href="classns3_1_1_wifi_tx_vector.html">WifiTxVector</a> blockAckReqTxVector = <a class="code" href="classns3_1_1_mac_low.html#a227f7cf96af4e059f660cd6668869e69">GetBlockAckTxVector</a> (originator, blockAckReqTxMode);</div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160; </div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;  <span class="keywordflow">if</span> (immediate)</div>
<div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;    {</div>
<div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#a1c5ce6a0415d4a6d394bc9fc8f78327d">m_txParams</a>.<a class="code" href="classns3_1_1_mac_low_transmission_parameters.html#ae09e5316ed859ddca19bfbaec3b07704">DisableAck</a> ();</div>
<div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;      <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a> -= <a class="code" href="classns3_1_1_mac_low.html#a142444428826e0a5f67265dfd7b0f4d2">GetSifs</a> ();</div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;      <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a> -= <a class="code" href="classns3_1_1_mac_low.html#a43f501698b2688e1803a648065d59018">GetBlockAckDuration</a> (blockAckReqTxVector, blockAck-&gt;<a class="code" href="classns3_1_1_ctrl_b_ack_response_header.html#aab1ddbfd3cf08b139678f14f19a497b0">GetType</a> ());</div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;    }</div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;    {</div>
<div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#a1c5ce6a0415d4a6d394bc9fc8f78327d">m_txParams</a>.<a class="code" href="classns3_1_1_mac_low_transmission_parameters.html#aa2db70f6786b7d0b9d9cc453b2292f2b">EnableAck</a> ();</div>
<div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;      <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a> += <a class="code" href="classns3_1_1_mac_low.html#a142444428826e0a5f67265dfd7b0f4d2">GetSifs</a> ();</div>
<div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;      <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a> += <a class="code" href="classns3_1_1_mac_low.html#a66918702d4803f26e27bf173b4766d16">GetAckDuration</a> (originator, blockAckReqTxVector);</div>
<div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;    }</div>
<div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#a1c5ce6a0415d4a6d394bc9fc8f78327d">m_txParams</a>.<a class="code" href="classns3_1_1_mac_low_transmission_parameters.html#a6944fa0c62fd004c94b845ba1b474b87">DisableNextData</a> ();</div>
<div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160; </div>
<div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;  <span class="keywordflow">if</span> (!immediate)</div>
<div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;    {</div>
<div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#ae7e8072b7d1f8b775000f6f07ee5a3c1">StartDataTxTimers</a> (blockAckReqTxVector);</div>
<div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;    }</div>
<div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160; </div>
<div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;  <a class="code" href="group__assert.html#ga6dccdb0de9b252f60088ce281c49d052">NS_ASSERT</a> (<a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a>.IsPositive ());</div>
<div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;  hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a8c0936e7d1a0d1e43ccfcd21f43830fb">SetDuration</a> (<a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a>);</div>
<div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;  <span class="comment">//here should be present a control about immediate or delayed BlockAck</span></div>
<div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;  <span class="comment">//for now we assume immediate</span></div>
<div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;  <a class="code" href="classns3_1_1_snr_tag.html">SnrTag</a> tag;</div>
<div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;  tag.<a class="code" href="classns3_1_1_snr_tag.html#a2f9d363bfdd81cf96b90e270eb2fc479">Set</a> (rxSnr);</div>
<div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;  packet-&gt;<a class="code" href="classns3_1_1_packet.html#ac4a6bcd77e58bdc14c42a7d572d66cc9">AddPacketTag</a> (tag);</div>
<div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#a9babdfa2bf38577f733c4723e6114c16">ForwardDown</a> (Create&lt;const WifiPsdu&gt; (packet, hdr), blockAckReqTxVector);</div>
<div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;}</div>
<div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160; </div>
<div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l02458"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#af6e2acc771d188c0959871f142912296"> 2458</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#af6e2acc771d188c0959871f142912296">MacLow::SendBlockAckAfterAmpdu</a> (uint8_t tid, <a class="code" href="classns3_1_1_mac48_address.html">Mac48Address</a> originator, <a class="code" href="classns3_1_1_time.html">Time</a> <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a>, <a class="code" href="classns3_1_1_wifi_tx_vector.html">WifiTxVector</a> blockAckReqTxVector, <span class="keywordtype">double</span> rxSnr)</div>
<div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;{</div>
<div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;  <a class="code" href="group__logging.html#ga90b90d5bad1f39cb1b64923ea94c0761">NS_LOG_FUNCTION</a> (<span class="keyword">this</span>);</div>
<div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#a0f6d4a763fceaf0df59ddf67628c8d99">IsStateTx</a> () &amp;&amp; !<a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#a29aa15b5cdc210971bd92b562f2d955b">IsStateRx</a> ())</div>
<div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;    {</div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;      <a class="code" href="group__logging.html#ga90b90d5bad1f39cb1b64923ea94c0761">NS_LOG_FUNCTION</a> (<span class="keyword">this</span> &lt;&lt; +tid &lt;&lt; originator &lt;&lt; <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a>.As (<a class="code" href="classns3_1_1_time.html#a87a7f4d29c68b047a72d291ad660295aade8622b06524a328cd3a59db6ccf76af">Time::S</a>) &lt;&lt; blockAckReqTxVector &lt;&lt; rxSnr);</div>
<div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;      <a class="code" href="classns3_1_1_ctrl_b_ack_response_header.html">CtrlBAckResponseHeader</a> blockAck;</div>
<div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;      uint16_t seqNumber = 0;</div>
<div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#ae0b0abf84b6078031fabd4e85e1cb1bf">BlockAckCachesI</a> i = <a class="code" href="classns3_1_1_mac_low.html#a1a2b5d95cae95e9b99e6508d7d350b47">m_bAckCaches</a>.find (std::make_pair (originator, tid));</div>
<div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;      <a class="code" href="group__assert.html#ga6dccdb0de9b252f60088ce281c49d052">NS_ASSERT</a> (i != <a class="code" href="classns3_1_1_mac_low.html#a1a2b5d95cae95e9b99e6508d7d350b47">m_bAckCaches</a>.end ());</div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;      seqNumber = (*i).second.GetWinStart ();</div>
<div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160; </div>
<div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;      <span class="keywordtype">bool</span> immediate = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#a7876cc9b328cdb0508f2a7b7647eab10">AgreementsI</a> it = <a class="code" href="classns3_1_1_mac_low.html#a53482df1a7e6f136cfa8ce50fa10adc2">m_bAckAgreements</a>.find (std::make_pair (originator, tid));</div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;      blockAck.<a class="code" href="classns3_1_1_ctrl_b_ack_response_header.html#a7dade9f09cdfab9f438e8dd7ca72cbb0">SetStartingSequence</a> (seqNumber);</div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;      blockAck.<a class="code" href="classns3_1_1_ctrl_b_ack_response_header.html#a4dae02f2802abe5a0b1546fa7ca99065">SetTidInfo</a> (tid);</div>
<div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;      immediate = (*it).second.first.IsImmediateBlockAck ();</div>
<div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;      <span class="keywordflow">if</span> ((*it).second.first.GetBufferSize () &gt; 64)</div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;        {</div>
<div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;          blockAck.<a class="code" href="classns3_1_1_ctrl_b_ack_response_header.html#aa726aabb711b481d35703f1bf5fe59d9">SetType</a> (<a class="code" href="group__wifi.html#gga90f436472d19d7d7f37cbf0b8c288ff7a6dfd3acd537ce39969be436b779bd724">EXTENDED_COMPRESSED_BLOCK_ACK</a>);</div>
<div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;        }</div>
<div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;        {</div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;          blockAck.<a class="code" href="classns3_1_1_ctrl_b_ack_response_header.html#aa726aabb711b481d35703f1bf5fe59d9">SetType</a> (<a class="code" href="group__wifi.html#gga90f436472d19d7d7f37cbf0b8c288ff7ad325114ff6e0d84c1d4cea5bd810a48c">COMPRESSED_BLOCK_ACK</a>);</div>
<div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;        }</div>
<div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;      <a class="code" href="group__logging.html#ga413f1886406d49f59a6a0a89b77b4d0a">NS_LOG_DEBUG</a> (<span class="stringliteral">&quot;Got Implicit block Ack Req with seq &quot;</span> &lt;&lt; seqNumber);</div>
<div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;      (*i).second.FillBlockAckBitmap (&amp;blockAck);</div>
<div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160; </div>
<div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;      <a class="code" href="classns3_1_1_wifi_tx_vector.html">WifiTxVector</a> blockAckTxVector = <a class="code" href="classns3_1_1_mac_low.html#a227f7cf96af4e059f660cd6668869e69">GetBlockAckTxVector</a> (originator, blockAckReqTxVector.<a class="code" href="classns3_1_1_wifi_tx_vector.html#aadd3ccf9d68dd8f06d4cfedc352498fb">GetMode</a> ());</div>
<div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160; </div>
<div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#a85c374be43ba3bd52fd1ad6efdfef6c6">SendBlockAckResponse</a> (&amp;blockAck, originator, immediate, <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a>, blockAckTxVector.<a class="code" href="classns3_1_1_wifi_tx_vector.html#aadd3ccf9d68dd8f06d4cfedc352498fb">GetMode</a> (), rxSnr);</div>
<div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;    }</div>
<div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;    {</div>
<div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;      <a class="code" href="group__logging.html#ga413f1886406d49f59a6a0a89b77b4d0a">NS_LOG_DEBUG</a> (<span class="stringliteral">&quot;Skip block ack response!&quot;</span>);</div>
<div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;    }</div>
<div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;}</div>
<div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160; </div>
<div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l02497"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#a84b96c0cc6f32fca28576ec4df6a0853"> 2497</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#a84b96c0cc6f32fca28576ec4df6a0853">MacLow::SendBlockAckAfterBlockAckRequest</a> (<span class="keyword">const</span> <a class="code" href="classns3_1_1_ctrl_b_ack_request_header.html">CtrlBAckRequestHeader</a> reqHdr, <a class="code" href="classns3_1_1_mac48_address.html">Mac48Address</a> originator,</div>
<div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;                                          <a class="code" href="classns3_1_1_time.html">Time</a> <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a>, <a class="code" href="classns3_1_1_wifi_mode.html">WifiMode</a> blockAckReqTxMode, <span class="keywordtype">double</span> rxSnr)</div>
<div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;{</div>
<div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;  <a class="code" href="group__logging.html#ga90b90d5bad1f39cb1b64923ea94c0761">NS_LOG_FUNCTION</a> (<span class="keyword">this</span>);</div>
<div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;  <a class="code" href="classns3_1_1_ctrl_b_ack_response_header.html">CtrlBAckResponseHeader</a> blockAck;</div>
<div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;  uint8_t tid = 0;</div>
<div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;  <span class="keywordtype">bool</span> immediate = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;  <span class="keywordflow">if</span> (!reqHdr.<a class="code" href="classns3_1_1_ctrl_b_ack_request_header.html#a1c011b4f1b24c83cf596b07904ec1328">IsMultiTid</a> ())</div>
<div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;    {</div>
<div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;      tid = reqHdr.<a class="code" href="classns3_1_1_ctrl_b_ack_request_header.html#a884fbe9f6ba028fb3dde88fe31ba6bab">GetTidInfo</a> ();</div>
<div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#a7876cc9b328cdb0508f2a7b7647eab10">AgreementsI</a> it = <a class="code" href="classns3_1_1_mac_low.html#a53482df1a7e6f136cfa8ce50fa10adc2">m_bAckAgreements</a>.find (std::make_pair (originator, tid));</div>
<div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;      <span class="keywordflow">if</span> (it != <a class="code" href="classns3_1_1_mac_low.html#a53482df1a7e6f136cfa8ce50fa10adc2">m_bAckAgreements</a>.end ())</div>
<div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;        {</div>
<div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;          blockAck.<a class="code" href="classns3_1_1_ctrl_b_ack_response_header.html#a7dade9f09cdfab9f438e8dd7ca72cbb0">SetStartingSequence</a> (reqHdr.<a class="code" href="classns3_1_1_ctrl_b_ack_request_header.html#a8ca10bacb9cc50ae0f849044769ca88d">GetStartingSequence</a> ());</div>
<div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;          blockAck.<a class="code" href="classns3_1_1_ctrl_b_ack_response_header.html#a4dae02f2802abe5a0b1546fa7ca99065">SetTidInfo</a> (tid);</div>
<div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;          immediate = (*it).second.first.IsImmediateBlockAck ();</div>
<div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;          <span class="keywordflow">if</span> (reqHdr.<a class="code" href="classns3_1_1_ctrl_b_ack_request_header.html#ace7013bb7086a17a8dd3e8b3820174f0">IsBasic</a> ())</div>
<div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;            {</div>
<div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;              blockAck.<a class="code" href="classns3_1_1_ctrl_b_ack_response_header.html#aa726aabb711b481d35703f1bf5fe59d9">SetType</a> (<a class="code" href="group__wifi.html#gga90f436472d19d7d7f37cbf0b8c288ff7a118b16b614e89a911b77a167632f89bf">BASIC_BLOCK_ACK</a>);</div>
<div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;            }</div>
<div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;          <span class="keywordflow">else</span> <span class="keywordflow">if</span> (reqHdr.<a class="code" href="classns3_1_1_ctrl_b_ack_request_header.html#a858b7852315773c514d5bf6d420f0f22">IsCompressed</a> ())</div>
<div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;            {</div>
<div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;              blockAck.<a class="code" href="classns3_1_1_ctrl_b_ack_response_header.html#aa726aabb711b481d35703f1bf5fe59d9">SetType</a> (<a class="code" href="group__wifi.html#gga90f436472d19d7d7f37cbf0b8c288ff7ad325114ff6e0d84c1d4cea5bd810a48c">COMPRESSED_BLOCK_ACK</a>);</div>
<div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;            }</div>
<div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;          <span class="keywordflow">else</span> <span class="keywordflow">if</span> (reqHdr.<a class="code" href="classns3_1_1_ctrl_b_ack_request_header.html#ad0a904c23c0bbaf413f48e4f2b8786b6">IsExtendedCompressed</a> ())</div>
<div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;            {</div>
<div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;              blockAck.<a class="code" href="classns3_1_1_ctrl_b_ack_response_header.html#aa726aabb711b481d35703f1bf5fe59d9">SetType</a> (<a class="code" href="group__wifi.html#gga90f436472d19d7d7f37cbf0b8c288ff7a6dfd3acd537ce39969be436b779bd724">EXTENDED_COMPRESSED_BLOCK_ACK</a>);</div>
<div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;            }</div>
<div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;          <a class="code" href="classns3_1_1_mac_low.html#ae0b0abf84b6078031fabd4e85e1cb1bf">BlockAckCachesI</a> i = <a class="code" href="classns3_1_1_mac_low.html#a1a2b5d95cae95e9b99e6508d7d350b47">m_bAckCaches</a>.find (std::make_pair (originator, tid));</div>
<div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;          <a class="code" href="group__assert.html#ga6dccdb0de9b252f60088ce281c49d052">NS_ASSERT</a> (i != <a class="code" href="classns3_1_1_mac_low.html#a1a2b5d95cae95e9b99e6508d7d350b47">m_bAckCaches</a>.end ());</div>
<div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;          (*i).second.FillBlockAckBitmap (&amp;blockAck);</div>
<div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;          <a class="code" href="group__logging.html#ga413f1886406d49f59a6a0a89b77b4d0a">NS_LOG_DEBUG</a> (<span class="stringliteral">&quot;Got block Ack Req with seq &quot;</span> &lt;&lt; reqHdr.<a class="code" href="classns3_1_1_ctrl_b_ack_request_header.html#a8ca10bacb9cc50ae0f849044769ca88d">GetStartingSequence</a> ());</div>
<div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160; </div>
<div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;          <span class="keywordflow">if</span> (!<a class="code" href="classns3_1_1_mac_low.html#a1c7f45f071f9e5eb97764f64e5cdaf1b">m_stationManager</a>-&gt;<a class="code" href="classns3_1_1_wifi_remote_station_manager.html#ae2d1200da0ec74745ef9b496f9c0251f">GetHtSupported</a> ()</div>
<div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;              &amp;&amp; !<a class="code" href="classns3_1_1_mac_low.html#a1c7f45f071f9e5eb97764f64e5cdaf1b">m_stationManager</a>-&gt;<a class="code" href="classns3_1_1_wifi_remote_station_manager.html#a378e951feaf5fefbe0f32e0cfc0ce765">GetVhtSupported</a> ()</div>
<div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;              &amp;&amp; !<a class="code" href="classns3_1_1_mac_low.html#a1c7f45f071f9e5eb97764f64e5cdaf1b">m_stationManager</a>-&gt;<a class="code" href="classns3_1_1_wifi_remote_station_manager.html#abf94bd5d22ad632148777a6c7e39bae0">GetHeSupported</a> ())</div>
<div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;            {</div>
<div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;              <span class="comment">/* All packets with smaller sequence than starting sequence control must be passed up to WifiMac</span></div>
<div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;<span class="comment">               * See 9.10.3 in IEEE 802.11e standard.</span></div>
<div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;<span class="comment">               */</span></div>
<div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;              <a class="code" href="classns3_1_1_mac_low.html#aaed81a6cbf94baf2b2f17b9f96b8474d">RxCompleteBufferedPacketsWithSmallerSequence</a> (reqHdr.<a class="code" href="classns3_1_1_ctrl_b_ack_request_header.html#ab7699f44e6fd48f1795a1671cd5ef994">GetStartingSequenceControl</a> (), originator, tid);</div>
<div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;              <a class="code" href="classns3_1_1_mac_low.html#aeadf392d37d323fb81f0ef0766f2359a">RxCompleteBufferedPacketsUntilFirstLost</a> (originator, tid);</div>
<div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;            }</div>
<div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;          <span class="keywordflow">else</span></div>
<div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;            {</div>
<div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;              <span class="keywordflow">if</span> (!<a class="code" href="group__wifi.html#ga5cb9ea723837c5a036e622612f2d0bb0">QosUtilsIsOldPacket</a> ((*it).second.first.GetStartingSequence (), reqHdr.<a class="code" href="classns3_1_1_ctrl_b_ack_request_header.html#a8ca10bacb9cc50ae0f849044769ca88d">GetStartingSequence</a> ()))</div>
<div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;                {</div>
<div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;                  (*it).second.first.SetStartingSequence (reqHdr.<a class="code" href="classns3_1_1_ctrl_b_ack_request_header.html#a8ca10bacb9cc50ae0f849044769ca88d">GetStartingSequence</a> ());</div>
<div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;                  <a class="code" href="classns3_1_1_mac_low.html#aaed81a6cbf94baf2b2f17b9f96b8474d">RxCompleteBufferedPacketsWithSmallerSequence</a> (reqHdr.<a class="code" href="classns3_1_1_ctrl_b_ack_request_header.html#ab7699f44e6fd48f1795a1671cd5ef994">GetStartingSequenceControl</a> (), originator, tid);</div>
<div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;                  <a class="code" href="classns3_1_1_mac_low.html#aeadf392d37d323fb81f0ef0766f2359a">RxCompleteBufferedPacketsUntilFirstLost</a> (originator, tid);</div>
<div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;                }</div>
<div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;            }</div>
<div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;        }</div>
<div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;        {</div>
<div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;          <a class="code" href="group__logging.html#ga413f1886406d49f59a6a0a89b77b4d0a">NS_LOG_DEBUG</a> (<span class="stringliteral">&quot;there&#39;s not a valid block ack agreement with &quot;</span> &lt;&lt; originator);</div>
<div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;        }</div>
<div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;    }</div>
<div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;    {</div>
<div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;      <a class="code" href="group__fatal.html#ga5131d5e3f75d7d4cbfd706ac456fdc85">NS_FATAL_ERROR</a> (<span class="stringliteral">&quot;Multi-tid block ack is not supported.&quot;</span>);</div>
<div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;    }</div>
<div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#a85c374be43ba3bd52fd1ad6efdfef6c6">SendBlockAckResponse</a> (&amp;blockAck, originator, immediate, <a class="code" href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">duration</a>, blockAckReqTxMode, rxSnr);</div>
<div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;}</div>
<div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160; </div>
<div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l02563"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#aafa012c5d2dde80484d6546c802f02f8"> 2563</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#aafa012c5d2dde80484d6546c802f02f8">MacLow::ResetBlockAckInactivityTimerIfNeeded</a> (<a class="code" href="classns3_1_1_block_ack_agreement.html">BlockAckAgreement</a> &amp;agreement)</div>
<div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;{</div>
<div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;  <span class="keywordflow">if</span> (agreement.<a class="code" href="classns3_1_1_block_ack_agreement.html#a3bb6c5de52f721d50b59d9299094f85c">GetTimeout</a> () != 0)</div>
<div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;    {</div>
<div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;      <a class="code" href="group__assert.html#ga6dccdb0de9b252f60088ce281c49d052">NS_ASSERT</a> (agreement.<a class="code" href="classns3_1_1_block_ack_agreement.html#a74bb7967b40a43fad114a73af35dcabc">m_inactivityEvent</a>.<a class="code" href="classns3_1_1_event_id.html#a8b41e6f8c54db6bede8a7dcaf917074a">IsRunning</a> ());</div>
<div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;      agreement.<a class="code" href="classns3_1_1_block_ack_agreement.html#a74bb7967b40a43fad114a73af35dcabc">m_inactivityEvent</a>.<a class="code" href="classns3_1_1_event_id.html#a993ae94e48e014e1afd47edb16db7a11">Cancel</a> ();</div>
<div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;      <a class="code" href="classns3_1_1_time.html">Time</a> <a class="code" href="openflow-switch_8cc.html#a386d174ae121d1cfa279074b7e209714">timeout</a> = <a class="code" href="group__timecivil.html#ga17465a639c8d1464e76538afdd78a9f0">MicroSeconds</a> (1024 * agreement.<a class="code" href="classns3_1_1_block_ack_agreement.html#a3bb6c5de52f721d50b59d9299094f85c">GetTimeout</a> ());</div>
<div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;      <a class="code" href="group__wifi.html#gab422b4562ba272b39a9b6bca3513f3ac">AcIndex</a> ac = <a class="code" href="group__wifi.html#ga4e36efcff6dd83eaee42e1af0de43d48">QosUtilsMapTidToAc</a> (agreement.<a class="code" href="classns3_1_1_block_ack_agreement.html#a92cf01f31ffd2a7dadb2c46e94ee6f2c">GetTid</a> ());</div>
<div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;      agreement.<a class="code" href="classns3_1_1_block_ack_agreement.html#a74bb7967b40a43fad114a73af35dcabc">m_inactivityEvent</a> = <a class="code" href="classns3_1_1_simulator.html#a671882c894a08af4a5e91181bf1eec13">Simulator::Schedule</a> (<a class="code" href="openflow-switch_8cc.html#a386d174ae121d1cfa279074b7e209714">timeout</a>,</div>
<div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;                                                         &amp;<a class="code" href="classns3_1_1_qos_txop.html#aa05a8b97a1b5f7bb4589ad12ac2c08c5">QosTxop::SendDelbaFrame</a>,</div>
<div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;                                                         <a class="code" href="classns3_1_1_mac_low.html#a754751ba4152c9337611a5f015045a44">m_edca</a>[ac], agreement.<a class="code" href="classns3_1_1_block_ack_agreement.html#a2f56c7e0bdb3bcd0f3aea53b61347374">GetPeer</a> (),</div>
<div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;                                                         agreement.<a class="code" href="classns3_1_1_block_ack_agreement.html#a92cf01f31ffd2a7dadb2c46e94ee6f2c">GetTid</a> (), <span class="keyword">false</span>);</div>
<div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;    }</div>
<div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;}</div>
<div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160; </div>
<div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l02579"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#a9340717e9dc5a7416314f5cc2e7dccbc"> 2579</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#a9340717e9dc5a7416314f5cc2e7dccbc">MacLow::RegisterEdcaForAc</a> (<a class="code" href="group__wifi.html#gab422b4562ba272b39a9b6bca3513f3ac">AcIndex</a> ac, <a class="code" href="classns3_1_1_ptr.html">Ptr&lt;QosTxop&gt;</a> edca)</div>
<div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;{</div>
<div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;  <a class="code" href="classns3_1_1_mac_low.html#a754751ba4152c9337611a5f015045a44">m_edca</a>.insert (std::make_pair (ac, edca));</div>
<div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;}</div>
<div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160; </div>
<div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l02585"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#abac7baed9f0aaeb684e84f44819bce30"> 2585</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#abac7baed9f0aaeb684e84f44819bce30">MacLow::DeaggregateAmpduAndReceive</a> (<a class="code" href="classns3_1_1_ptr.html">Ptr&lt;WifiPsdu&gt;</a> psdu, <span class="keywordtype">double</span> rxSnr, <a class="code" href="classns3_1_1_wifi_tx_vector.html">WifiTxVector</a> txVector, std::vector&lt;bool&gt; statusPerMpdu)</div>
<div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;{</div>
<div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;  <a class="code" href="group__logging.html#ga90b90d5bad1f39cb1b64923ea94c0761">NS_LOG_FUNCTION</a> (<span class="keyword">this</span>);</div>
<div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;  <span class="keywordtype">bool</span> normalAck = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;  <span class="keywordtype">bool</span> ampduSubframe = <span class="keyword">false</span>; <span class="comment">//flag indicating the packet belongs to an A-MPDU and is not a VHT/HE single MPDU</span></div>
<div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;  <span class="keywordflow">if</span> (txVector.<a class="code" href="classns3_1_1_wifi_tx_vector.html#aae65c13f3633fbf99f95084a49d4b39e">IsAggregation</a> ())</div>
<div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;    {</div>
<div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;      <a class="code" href="group__assert.html#ga6dccdb0de9b252f60088ce281c49d052">NS_ASSERT</a> (psdu-&gt;IsAggregate ());</div>
<div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;      ampduSubframe = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;      <span class="keyword">auto</span> <a class="code" href="namespacesample-rng-plot.html#aeb5ee5c431e338ef39b7ac5431242e1d">n</a> = psdu-&gt;begin ();</div>
<div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;      <span class="keyword">auto</span> status = statusPerMpdu.begin ();</div>
<div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;      <a class="code" href="group__fatal.html#ga6653324225bc139e46deea177614ceee">NS_ABORT_MSG_IF</a> (psdu-&gt;GetNMpdus () != statusPerMpdu.size (), <span class="stringliteral">&quot;Should have one receive status per MPDU&quot;</span>);</div>
<div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160; </div>
<div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;      <a class="code" href="classns3_1_1_wifi_mac_header.html">WifiMacHeader</a> firsthdr = (*n)-&gt;GetHeader ();</div>
<div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;      <a class="code" href="group__logging.html#ga413f1886406d49f59a6a0a89b77b4d0a">NS_LOG_DEBUG</a> (<span class="stringliteral">&quot;duration/id=&quot;</span> &lt;&lt; firsthdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a1bfde4f8ca07ee46bd0bdc1ab6597e48">GetDuration</a> ());</div>
<div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#a8a11f1b12b7dc41fba389b1b480c55f9">NotifyNav</a> ((*n)-&gt;GetPacket (), firsthdr);</div>
<div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160; </div>
<div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;      <span class="keywordflow">if</span> (firsthdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#aa1c4acbda4ace9f7a920c97d71bdd097">GetAddr1</a> () == <a class="code" href="classns3_1_1_mac_low.html#a23004ca5405c82111f5b20eec03b3d9a">m_self</a>)</div>
<div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;        {</div>
<div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;          <span class="comment">//Iterate over all MPDUs and notify reception only if status OK</span></div>
<div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;          <span class="keywordflow">for</span> (; <a class="code" href="namespacesample-rng-plot.html#aeb5ee5c431e338ef39b7ac5431242e1d">n</a> != psdu-&gt;end (); ++<a class="code" href="namespacesample-rng-plot.html#aeb5ee5c431e338ef39b7ac5431242e1d">n</a>, ++status)</div>
<div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;            {</div>
<div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;              firsthdr = (*n)-&gt;GetHeader ();</div>
<div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;              <a class="code" href="group__fatal.html#ga6653324225bc139e46deea177614ceee">NS_ABORT_MSG_IF</a> (firsthdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#aa1c4acbda4ace9f7a920c97d71bdd097">GetAddr1</a> () != <a class="code" href="classns3_1_1_mac_low.html#a23004ca5405c82111f5b20eec03b3d9a">m_self</a>, <span class="stringliteral">&quot;All MPDUs of A-MPDU should have the same destination address&quot;</span>);</div>
<div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;              <span class="keywordflow">if</span> (*status) <span class="comment">//PER and thus CRC check succeeded</span></div>
<div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;                {</div>
<div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;                  <span class="keywordflow">if</span> (psdu-&gt;IsSingle ())</div>
<div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;                    {</div>
<div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;                      <span class="comment">//If the MPDU is sent as a VHT/HE single MPDU (EOF=1 in A-MPDU subframe header), then the responder sends an Ack.</span></div>
<div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;                      <a class="code" href="group__logging.html#ga413f1886406d49f59a6a0a89b77b4d0a">NS_LOG_DEBUG</a> (<span class="stringliteral">&quot;Receive S-MPDU&quot;</span>);</div>
<div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;                      ampduSubframe = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;                    }</div>
<div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;                  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="classns3_1_1_mac_low.html#a35ee7cfc983896c26c514bade14b3197">m_sendAckEvent</a>.<a class="code" href="classns3_1_1_event_id.html#a8b41e6f8c54db6bede8a7dcaf917074a">IsRunning</a> () &amp;&amp; firsthdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a08a4aa07029641c46820044c7e51bf2e">IsQosAck</a> ()) <span class="comment">// Implicit BAR Ack Policy</span></div>
<div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;                    {</div>
<div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;                      <a class="code" href="classns3_1_1_mac_low.html#a35ee7cfc983896c26c514bade14b3197">m_sendAckEvent</a> = <a class="code" href="classns3_1_1_simulator.html#a671882c894a08af4a5e91181bf1eec13">Simulator::Schedule</a> (<a class="code" href="classns3_1_1_mac_low.html#a142444428826e0a5f67265dfd7b0f4d2">GetSifs</a> (),</div>
<div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;                                                            &amp;<a class="code" href="classns3_1_1_mac_low.html#af6e2acc771d188c0959871f142912296">MacLow::SendBlockAckAfterAmpdu</a>, <span class="keyword">this</span>,</div>
<div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;                                                            firsthdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a07391fd5b12f7a90fe55325fcccc8e3a">GetQosTid</a> (),</div>
<div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;                                                            firsthdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a5d32ca3e3a34f1185df86927d4346430">GetAddr2</a> (),</div>
<div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;                                                            firsthdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a1bfde4f8ca07ee46bd0bdc1ab6597e48">GetDuration</a> (),</div>
<div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;                                                            txVector, rxSnr);</div>
<div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;                    }</div>
<div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160; </div>
<div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;                  <span class="keywordflow">if</span> (firsthdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a140dc7acdb206bfb5b929325d92967b5">IsAck</a> () || firsthdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a16f7fffa3791bb30ab760a98ec54afba">IsBlockAck</a> () || firsthdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a97830b03ca05944b92bff4defed50716">IsBlockAckReq</a> ())</div>
<div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;                    {</div>
<div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;                      <a class="code" href="classns3_1_1_mac_low.html#a2fffa82ad11ebe0e113232813a816eff">ReceiveOk</a> ((*<a class="code" href="namespacesample-rng-plot.html#aeb5ee5c431e338ef39b7ac5431242e1d">n</a>), rxSnr, txVector, ampduSubframe);</div>
<div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;                    }</div>
<div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;                  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (firsthdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#ab7141548a921f63a084720b3b022de79">IsData</a> () || firsthdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a368b97ef91b953af76794112fd3681c2">IsQosData</a> ())</div>
<div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;                    {</div>
<div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;                      <a class="code" href="group__logging.html#ga413f1886406d49f59a6a0a89b77b4d0a">NS_LOG_DEBUG</a> (<span class="stringliteral">&quot;Deaggregate packet from &quot;</span> &lt;&lt; firsthdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a5d32ca3e3a34f1185df86927d4346430">GetAddr2</a> () &lt;&lt; <span class="stringliteral">&quot; with sequence=&quot;</span> &lt;&lt; firsthdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a3d393ad4f9cfaca5ce0ac239a27f2763">GetSequenceNumber</a> ());</div>
<div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;                      <a class="code" href="classns3_1_1_mac_low.html#a2fffa82ad11ebe0e113232813a816eff">ReceiveOk</a> ((*<a class="code" href="namespacesample-rng-plot.html#aeb5ee5c431e338ef39b7ac5431242e1d">n</a>), rxSnr, txVector, ampduSubframe);</div>
<div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;                      <span class="keywordflow">if</span> (firsthdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a08a4aa07029641c46820044c7e51bf2e">IsQosAck</a> ())</div>
<div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;                        {</div>
<div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;                          <a class="code" href="group__logging.html#ga413f1886406d49f59a6a0a89b77b4d0a">NS_LOG_DEBUG</a> (<span class="stringliteral">&quot;Normal Ack&quot;</span>);</div>
<div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;                          normalAck = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;                        }</div>
<div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;                    }</div>
<div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;                  <span class="keywordflow">else</span></div>
<div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;                    {</div>
<div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;                      <a class="code" href="group__fatal.html#ga5131d5e3f75d7d4cbfd706ac456fdc85">NS_FATAL_ERROR</a> (<span class="stringliteral">&quot;Received A-MPDU with invalid first MPDU type&quot;</span>);</div>
<div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;                    }</div>
<div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160; </div>
<div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;                  <span class="keywordflow">if</span> (!psdu-&gt;IsSingle ())</div>
<div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;                    {</div>
<div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;                      <span class="keywordflow">if</span> (normalAck)</div>
<div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;                        {</div>
<div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;                          <span class="comment">//send BlockAck</span></div>
<div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;                          <span class="keywordflow">if</span> (firsthdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a97830b03ca05944b92bff4defed50716">IsBlockAckReq</a> ())</div>
<div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;                            {</div>
<div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;                              <a class="code" href="group__fatal.html#ga5131d5e3f75d7d4cbfd706ac456fdc85">NS_FATAL_ERROR</a> (<span class="stringliteral">&quot;Sending a BlockAckReq with QosPolicy equal to Normal Ack&quot;</span>);</div>
<div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;                            }</div>
<div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;                          uint8_t tid = firsthdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a07391fd5b12f7a90fe55325fcccc8e3a">GetQosTid</a> ();</div>
<div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;                          <a class="code" href="classns3_1_1_mac_low.html#a7876cc9b328cdb0508f2a7b7647eab10">AgreementsI</a> it = <a class="code" href="classns3_1_1_mac_low.html#a53482df1a7e6f136cfa8ce50fa10adc2">m_bAckAgreements</a>.find (std::make_pair (firsthdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a5d32ca3e3a34f1185df86927d4346430">GetAddr2</a> (), tid));</div>
<div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;                          <span class="keywordflow">if</span> (it != <a class="code" href="classns3_1_1_mac_low.html#a53482df1a7e6f136cfa8ce50fa10adc2">m_bAckAgreements</a>.end ())</div>
<div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;                            {</div>
<div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;                              <span class="comment">/* See section 11.5.3 in IEEE 802.11 for the definition of this timer */</span></div>
<div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;                              <a class="code" href="classns3_1_1_mac_low.html#aafa012c5d2dde80484d6546c802f02f8">ResetBlockAckInactivityTimerIfNeeded</a> (it-&gt;second.first);</div>
<div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;                              <a class="code" href="group__logging.html#ga413f1886406d49f59a6a0a89b77b4d0a">NS_LOG_DEBUG</a> (<span class="stringliteral">&quot;rx A-MPDU/sendImmediateBlockAck from=&quot;</span> &lt;&lt; firsthdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a5d32ca3e3a34f1185df86927d4346430">GetAddr2</a> ());</div>
<div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;                              <a class="code" href="group__assert.html#ga6dccdb0de9b252f60088ce281c49d052">NS_ASSERT</a> (<a class="code" href="classns3_1_1_mac_low.html#a35ee7cfc983896c26c514bade14b3197">m_sendAckEvent</a>.<a class="code" href="classns3_1_1_event_id.html#a8b41e6f8c54db6bede8a7dcaf917074a">IsRunning</a> ());</div>
<div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;                            }</div>
<div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;                          <span class="keywordflow">else</span></div>
<div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;                            {</div>
<div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;                              <a class="code" href="group__logging.html#ga413f1886406d49f59a6a0a89b77b4d0a">NS_LOG_DEBUG</a> (<span class="stringliteral">&quot;There&#39;s not a valid agreement for this block ack request.&quot;</span>);</div>
<div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;                            }</div>
<div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;                        }</div>
<div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;                    }</div>
<div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;                }</div>
<div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;            }</div>
<div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;        }</div>
<div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;    }</div>
<div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;    {</div>
<div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;      <span class="comment">/* Simple MPDU */</span></div>
<div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;      <a class="code" href="group__assert.html#ga6dccdb0de9b252f60088ce281c49d052">NS_ASSERT</a> (!psdu-&gt;IsAggregate ());</div>
<div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;      <a class="code" href="classns3_1_1_mac_low.html#a2fffa82ad11ebe0e113232813a816eff">ReceiveOk</a> ((*psdu-&gt;begin ()), rxSnr, txVector, ampduSubframe);</div>
<div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;    }</div>
<div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;}</div>
<div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160; </div>
<div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;<a class="code" href="classns3_1_1_time.html">Time</a></div>
<div class="line"><a name="l02683"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#a3856b671501c47dc27ec99b8fec24d45"> 2683</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#a3856b671501c47dc27ec99b8fec24d45">MacLow::GetRemainingCfpDuration</a> (<span class="keywordtype">void</span>)<span class="keyword"> const</span></div>
<div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;  <a class="code" href="group__logging.html#ga90b90d5bad1f39cb1b64923ea94c0761">NS_LOG_FUNCTION</a> (<span class="keyword">this</span>);</div>
<div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;  <a class="code" href="classns3_1_1_time.html">Time</a> remainingCfpDuration = <a class="code" href="80211b_8c.html#ac6afabdc09a49a433ee19d8a9486056d">std::min</a> (<a class="code" href="classns3_1_1_mac_low.html#a501a55ed9df40e8983e09cd2212b81cc">m_cfpStart</a>, <a class="code" href="classns3_1_1_mac_low.html#a501a55ed9df40e8983e09cd2212b81cc">m_cfpStart</a> + <a class="code" href="classns3_1_1_mac_low.html#aae92b06e39370714db8e6275ccc71e7f">m_cfpMaxDuration</a> - <a class="code" href="classns3_1_1_simulator.html#ac3178fa975b419f7875e7105be122800">Simulator::Now</a> () - <a class="code" href="classns3_1_1_mac_low.html#af229071387e235021ca611b8b3c2b476">m_cfpForeshortening</a>);</div>
<div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;  <a class="code" href="group__assert.html#ga6dccdb0de9b252f60088ce281c49d052">NS_ASSERT</a> (remainingCfpDuration.<a class="code" href="classns3_1_1_time.html#a4f51b65effdc06da17175290bbaca766">IsPositive</a> ());</div>
<div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;  <span class="keywordflow">return</span> remainingCfpDuration;</div>
<div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;}</div>
<div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160; </div>
<div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;<span class="keywordtype">bool</span></div>
<div class="line"><a name="l02692"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#a4e08342dc51fd123ff9db8b4061df754"> 2692</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#a4e08342dc51fd123ff9db8b4061df754">MacLow::IsCfPeriod</a> (<span class="keywordtype">void</span>)<span class="keyword"> const</span></div>
<div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;  <span class="keywordflow">return</span> (<a class="code" href="classns3_1_1_mac_low.html#a1c7f45f071f9e5eb97764f64e5cdaf1b">m_stationManager</a>-&gt;<a class="code" href="classns3_1_1_wifi_remote_station_manager.html#ac83638ac78e26f560a41fd0c09e3c98c">GetPcfSupported</a> () &amp;&amp; <a class="code" href="classns3_1_1_mac_low.html#a501a55ed9df40e8983e09cd2212b81cc">m_cfpStart</a>.<a class="code" href="classns3_1_1_time.html#a0d01aeab2308df799ea2f340d816d4c5">IsStrictlyPositive</a> ());</div>
<div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;}</div>
<div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160; </div>
<div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;<span class="keywordtype">bool</span></div>
<div class="line"><a name="l02698"></a><span class="lineno"><a class="line" href="classns3_1_1_mac_low.html#ae4268e4023afc9b701c40832f57e8459"> 2698</a></span>&#160;<a class="code" href="classns3_1_1_mac_low.html#ae4268e4023afc9b701c40832f57e8459">MacLow::CanTransmitNextCfFrame</a> (<span class="keywordtype">void</span>)<span class="keyword"> const</span></div>
<div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;  <a class="code" href="group__logging.html#ga90b90d5bad1f39cb1b64923ea94c0761">NS_LOG_FUNCTION</a> (<span class="keyword">this</span>);</div>
<div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classns3_1_1_mac_low.html#a4e08342dc51fd123ff9db8b4061df754">IsCfPeriod</a> ())</div>
<div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;    {</div>
<div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;    }</div>
<div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;  <a class="code" href="group__assert.html#ga6dccdb0de9b252f60088ce281c49d052">NS_ASSERT</a> (<a class="code" href="classns3_1_1_mac_low.html#a3856b671501c47dc27ec99b8fec24d45">GetRemainingCfpDuration</a> ().IsPositive ());</div>
<div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;  <a class="code" href="classns3_1_1_wifi_mac_header.html">WifiMacHeader</a> hdr;</div>
<div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;  hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#a71172371f11f1cfcb3912bb03134c285">SetType</a> (<a class="code" href="namespacens3.html#a9318472db39b35b2092de5c721e6ab0aaf7067a476d424f297c26441fa1a515df">WIFI_MAC_DATA</a>);</div>
<div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;  <a class="code" href="classns3_1_1_wifi_mac_trailer.html">WifiMacTrailer</a> fcs;</div>
<div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;  uint32_t maxMacFrameSize = <a class="code" href="namespacens3.html#aca0bd78e033e4b11a17fdecc0ff9320b">MAX_MSDU_SIZE</a> + hdr.<a class="code" href="classns3_1_1_wifi_mac_header.html#ad5ce3997a84fa55ebe60dd927c37d526">GetSerializedSize</a> () + fcs.<a class="code" href="classns3_1_1_wifi_mac_trailer.html#a8a3daec73a290310de86f9d3165c5146">GetSerializedSize</a> ();</div>
<div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;  <a class="code" href="classns3_1_1_time.html">Time</a> nextTransmission = 2 * <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#aee98c7241bb4f0bb8e6d90f5771dacc7">CalculateTxDuration</a> (maxMacFrameSize, <a class="code" href="classns3_1_1_mac_low.html#af87bd81ded4d362f9f1dc89dbbee65a3">m_currentTxVector</a>, <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#afca470e272ec5c3126da63c0a6102f4c">GetFrequency</a> ()) + 3 * <a class="code" href="classns3_1_1_mac_low.html#a142444428826e0a5f67265dfd7b0f4d2">GetSifs</a> () + <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#aee98c7241bb4f0bb8e6d90f5771dacc7">CalculateTxDuration</a> (<a class="code" href="classns3_1_1_mac_low.html#aa1cafaeac339f19e26e817224889202f">GetCfEndSize</a> (), <a class="code" href="classns3_1_1_mac_low.html#af87bd81ded4d362f9f1dc89dbbee65a3">m_currentTxVector</a>, <a class="code" href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">m_phy</a>-&gt;<a class="code" href="classns3_1_1_wifi_phy.html#afca470e272ec5c3126da63c0a6102f4c">GetFrequency</a> ());</div>
<div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;  <span class="keywordflow">return</span> ((<a class="code" href="classns3_1_1_mac_low.html#a3856b671501c47dc27ec99b8fec24d45">GetRemainingCfpDuration</a> () - nextTransmission).IsPositive ());</div>
<div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;}</div>
<div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160; </div>
<div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;} <span class="comment">//namespace ns3</span></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="aclassns3_1_1_mac_low_html_a1c5ce6a0415d4a6d394bc9fc8f78327d"><div class="ttname"><a href="classns3_1_1_mac_low.html#a1c5ce6a0415d4a6d394bc9fc8f78327d">ns3::MacLow::m_txParams</a></div><div class="ttdeci">MacLowTransmissionParameters m_txParams</div><div class="ttdoc">Transmission parameters of the current packet.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8h_source.html#l00933">mac-low.h:933</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a35d51772cdcda1846a7777f09c81888e"><div class="ttname"><a href="classns3_1_1_mac_low.html#a35d51772cdcda1846a7777f09c81888e">ns3::MacLow::GetAddress</a></div><div class="ttdeci">Mac48Address GetAddress(void) const</div><div class="ttdoc">Return the MAC address of this MacLow.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00409">mac-low.cc:409</a></div></div>
<div class="ttc" id="anamespacens3_html_a9c30b51d3ef2d1e671ae4c8d57d44321"><div class="ttname"><a href="namespacens3.html#a9c30b51d3ef2d1e671ae4c8d57d44321">ns3::GetBlockAckSize</a></div><div class="ttdeci">uint32_t GetBlockAckSize(BlockAckType type)</div><div class="ttdoc">Return the total BlockAck size (including FCS trailer).</div><div class="ttdef"><b>Definition:</b> <a href="wifi-utils_8cc_source.html#l00189">wifi-utils.cc:189</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_af3d3e6e892e33bfb97bf65199c3aafd6"><div class="ttname"><a href="classns3_1_1_mac_low.html#af3d3e6e892e33bfb97bf65199c3aafd6">ns3::MacLow::ReceiveMpdu</a></div><div class="ttdeci">bool ReceiveMpdu(Ptr&lt; WifiMacQueueItem &gt; mpdu)</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l02191">mac-low.cc:2191</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_ae23bafb9b86cc84f1fe0f1478df8074d"><div class="ttname"><a href="classns3_1_1_mac_low.html#ae23bafb9b86cc84f1fe0f1478df8074d">ns3::MacLow::GetMsduAggregator</a></div><div class="ttdeci">Ptr&lt; MsduAggregator &gt; GetMsduAggregator(void) const</div><div class="ttdoc">Returns the aggregator used to construct A-MSDU subframes.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00299">mac-low.cc:299</a></div></div>
<div class="ttc" id="aclassns3_1_1_type_id_html"><div class="ttname"><a href="classns3_1_1_type_id.html">ns3::TypeId</a></div><div class="ttdoc">a unique identifier for an interface.</div><div class="ttdef"><b>Definition:</b> <a href="type-id_8h_source.html#l00058">type-id.h:59</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_ae7e8072b7d1f8b775000f6f07ee5a3c1"><div class="ttname"><a href="classns3_1_1_mac_low.html#ae7e8072b7d1f8b775000f6f07ee5a3c1">ns3::MacLow::StartDataTxTimers</a></div><div class="ttdeci">void StartDataTxTimers(WifiTxVector dataTxVector)</div><div class="ttdoc">Start a Data timer by scheduling appropriate Ack timeout.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l01856">mac-low.cc:1856</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_remote_station_manager_html_aa8712084939846a0c39de0d9c618a0ec"><div class="ttname"><a href="classns3_1_1_wifi_remote_station_manager.html#aa8712084939846a0c39de0d9c618a0ec">ns3::WifiRemoteStationManager::GetDefaultTxPowerLevel</a></div><div class="ttdeci">uint8_t GetDefaultTxPowerLevel(void) const</div><div class="ttdef"><b>Definition:</b> <a href="wifi-remote-station-manager_8cc_source.html#l01083">wifi-remote-station-manager.cc:1083</a></div></div>
<div class="ttc" id="agroup__logging_html_ga225a95395fa117b7309aa3c43518d02e"><div class="ttname"><a href="group__logging.html#ga225a95395fa117b7309aa3c43518d02e">NS_LOG_COMPONENT_DEFINE</a></div><div class="ttdeci">#define NS_LOG_COMPONENT_DEFINE(name)</div><div class="ttdoc">Define a Log component with a specific name.</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00206">log.h:205</a></div></div>
<div class="ttc" id="aclassns3_1_1_block_ack_agreement_html_a92cf01f31ffd2a7dadb2c46e94ee6f2c"><div class="ttname"><a href="classns3_1_1_block_ack_agreement.html#a92cf01f31ffd2a7dadb2c46e94ee6f2c">ns3::BlockAckAgreement::GetTid</a></div><div class="ttdeci">uint8_t GetTid(void) const</div><div class="ttdoc">Return the Traffic ID (TID).</div><div class="ttdef"><b>Definition:</b> <a href="block-ack-agreement_8cc_source.html#l00100">block-ack-agreement.cc:100</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a25990734c06d4df0d75276f52e103f8a"><div class="ttname"><a href="classns3_1_1_mac_low.html#a25990734c06d4df0d75276f52e103f8a">ns3::MacLow::m_endTxNoAckEvent</a></div><div class="ttdeci">EventId m_endTxNoAckEvent</div><div class="ttdoc">Event for finishing transmission that does not require Ack.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8h_source.html#l00928">mac-low.h:928</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_ad8abf26b1e85563b8e9b2cfd1849226c"><div class="ttname"><a href="classns3_1_1_mac_low.html#ad8abf26b1e85563b8e9b2cfd1849226c">ns3::MacLow::m_sifs</a></div><div class="ttdeci">Time m_sifs</div><div class="ttdoc">Short Interframe Space (SIFS) duration.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8h_source.html#l00939">mac-low.h:939</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_transmission_parameters_html_a07cb0cef8eb1fdd3c3646f4665a2fcac"><div class="ttname"><a href="classns3_1_1_mac_low_transmission_parameters.html#a07cb0cef8eb1fdd3c3646f4665a2fcac">ns3::MacLowTransmissionParameters::MustSendBlockAckRequest</a></div><div class="ttdeci">bool MustSendBlockAckRequest(void) const</div><div class="ttdef"><b>Definition:</b> <a href="mac-low-transmission-parameters_8cc_source.html#l00182">mac-low-transmission-parameters.cc:182</a></div></div>
<div class="ttc" id="aclassns3_1_1_phy_mac_low_listener_html_ad9effa3f5cf5f01b9d96679d3ec0c8b0"><div class="ttname"><a href="classns3_1_1_phy_mac_low_listener.html#ad9effa3f5cf5f01b9d96679d3ec0c8b0">ns3::PhyMacLowListener::NotifySleep</a></div><div class="ttdeci">void NotifySleep(void)</div><div class="ttdoc">Notify listeners that we went to sleep.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00096">mac-low.cc:96</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_mac_header_html_a2308af17e822e5b423c039740418f055"><div class="ttname"><a href="classns3_1_1_wifi_mac_header.html#a2308af17e822e5b423c039740418f055">ns3::WifiMacHeader::IsRts</a></div><div class="ttdeci">bool IsRts(void) const</div><div class="ttdoc">Return true if the header is a RTS header.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-mac-header_8cc_source.html#l00620">wifi-mac-header.cc:620</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a811ffb89964a59347ee294e3d233f36c"><div class="ttname"><a href="classns3_1_1_mac_low.html#a811ffb89964a59347ee294e3d233f36c">ns3::MacLow::m_currentTxop</a></div><div class="ttdeci">Ptr&lt; Txop &gt; m_currentTxop</div><div class="ttdoc">Current TXOP.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8h_source.html#l00932">mac-low.h:932</a></div></div>
<div class="ttc" id="aclassns3_1_1_txop_html_ad17c1cd0826782cdd25838fcf8f546da"><div class="ttname"><a href="classns3_1_1_txop.html#ad17c1cd0826782cdd25838fcf8f546da">ns3::Txop::StartNextPacket</a></div><div class="ttdeci">virtual void StartNextPacket(void)</div><div class="ttdoc">Start transmission for the next packet if allowed by the TxopLimit.</div><div class="ttdef"><b>Definition:</b> <a href="txop_8cc_source.html#l00866">txop.cc:866</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_remote_station_manager_html_a6dd25291b44464baee92c2ef9ae739d6"><div class="ttname"><a href="classns3_1_1_wifi_remote_station_manager.html#a6dd25291b44464baee92c2ef9ae739d6">ns3::WifiRemoteStationManager::ReportDataOk</a></div><div class="ttdeci">void ReportDataOk(Mac48Address address, const WifiMacHeader *header, double ackSnr, WifiMode ackMode, double dataSnr, uint32_t packetSize)</div><div class="ttdoc">Should be invoked whenever we receive the ACK associated to a data packet we just sent.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-remote-station-manager_8cc_source.html#l00727">wifi-remote-station-manager.cc:727</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_aae813ebc059b7e6aa1c88607e2969936"><div class="ttname"><a href="classns3_1_1_mac_low.html#aae813ebc059b7e6aa1c88607e2969936">ns3::MacLow::GetAckTxVector</a></div><div class="ttdeci">WifiTxVector GetAckTxVector(Mac48Address to, WifiMode dataTxMode) const</div><div class="ttdoc">Return a TXVECTOR for the Ack frame given the destination and the mode of the Data used by the sender...</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l01475">mac-low.cc:1475</a></div></div>
<div class="ttc" id="aclassns3_1_1_mgt_add_ba_response_header_html_a37240968bb2f2856d72d691dd1b74809"><div class="ttname"><a href="classns3_1_1_mgt_add_ba_response_header.html#a37240968bb2f2856d72d691dd1b74809">ns3::MgtAddBaResponseHeader::IsImmediateBlockAck</a></div><div class="ttdeci">bool IsImmediateBlockAck(void) const</div><div class="ttdoc">Return whether the Block Ack policy is immediate Block Ack.</div><div class="ttdef"><b>Definition:</b> <a href="mgt-headers_8cc_source.html#l01747">mgt-headers.cc:1747</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_remote_station_manager_html_a379edeb466e614e126d7e8ecd45ee856"><div class="ttname"><a href="classns3_1_1_wifi_remote_station_manager.html#a379edeb466e614e126d7e8ecd45ee856">ns3::WifiRemoteStationManager::GetNBasicMcs</a></div><div class="ttdeci">uint8_t GetNBasicMcs(void) const</div><div class="ttdoc">Return the number of basic MCS index.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-remote-station-manager_8cc_source.html#l01422">wifi-remote-station-manager.cc:1422</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_tx_vector_html_a25743cd89a5cb95ec22a9e584fa044f3"><div class="ttname"><a href="classns3_1_1_wifi_tx_vector.html#a25743cd89a5cb95ec22a9e584fa044f3">ns3::WifiTxVector::SetTxPowerLevel</a></div><div class="ttdeci">void SetTxPowerLevel(uint8_t powerlevel)</div><div class="ttdoc">Sets the selected transmission power level.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-tx-vector_8cc_source.html#l00144">wifi-tx-vector.cc:144</a></div></div>
<div class="ttc" id="agroup__assert_html_ga6dccdb0de9b252f60088ce281c49d052"><div class="ttname"><a href="group__assert.html#ga6dccdb0de9b252f60088ce281c49d052">NS_ASSERT</a></div><div class="ttdeci">#define NS_ASSERT(condition)</div><div class="ttdef"><b>Definition:</b> <a href="assert_8h_source.html#l00068">assert.h:67</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_mac_queue_item_html_a01d29092eafa110090998f339bfabd97"><div class="ttname"><a href="classns3_1_1_wifi_mac_queue_item.html#a01d29092eafa110090998f339bfabd97">ns3::WifiMacQueueItem::GetPacket</a></div><div class="ttdeci">Ptr&lt; const Packet &gt; GetPacket(void) const</div><div class="ttdoc">Get the packet stored in this item.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-mac-queue-item_8cc_source.html#l00056">wifi-mac-queue-item.cc:56</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a8c2bedd89702dea0ecefab31d3b8826d"><div class="ttname"><a href="classns3_1_1_mac_low.html#a8c2bedd89702dea0ecefab31d3b8826d">ns3::MacLow::BufferedPacketI</a></div><div class="ttdeci">std::list&lt; Ptr&lt; WifiMacQueueItem &gt; &gt;::iterator BufferedPacketI</div><div class="ttdoc">buffered packet iterator typedef</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8h_source.html#l00961">mac-low.h:961</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_mac_header_html_a3898df5358df4247926b74175f2789c3"><div class="ttname"><a href="classns3_1_1_wifi_mac_header.html#a3898df5358df4247926b74175f2789c3">ns3::WifiMacHeader::SetNoMoreFragments</a></div><div class="ttdeci">void SetNoMoreFragments(void)</div><div class="ttdoc">Un-set the More Fragment bit in the Frame Control Field.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-mac-header_8cc_source.html#l00300">wifi-mac-header.cc:300</a></div></div>
<div class="ttc" id="anamespacealoha_html_aff1381c591fdaf9d3af2b19080c9eed7"><div class="ttname"><a href="namespacealoha.html#aff1381c591fdaf9d3af2b19080c9eed7">aloha.params</a></div><div class="ttdeci">dictionary params</div><div class="ttdef"><b>Definition:</b> <a href="aloha_8py_source.html#l00013">aloha.py:13</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_mac_header_html_a8c0936e7d1a0d1e43ccfcd21f43830fb"><div class="ttname"><a href="classns3_1_1_wifi_mac_header.html#a8c0936e7d1a0d1e43ccfcd21f43830fb">ns3::WifiMacHeader::SetDuration</a></div><div class="ttdeci">void SetDuration(Time duration)</div><div class="ttdoc">Set the Duration/ID field with the given duration (Time object).</div><div class="ttdef"><b>Definition:</b> <a href="wifi-mac-header_8cc_source.html#l00278">wifi-mac-header.cc:278</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_remote_station_manager_html_a2422db307a1cd07b938ec2d4b8442668"><div class="ttname"><a href="classns3_1_1_wifi_remote_station_manager.html#a2422db307a1cd07b938ec2d4b8442668">ns3::WifiRemoteStationManager::GetDefaultMcs</a></div><div class="ttdeci">WifiMode GetDefaultMcs(void) const</div><div class="ttdoc">Return the default Modulation and Coding Scheme (MCS) index.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-remote-station-manager_8cc_source.html#l01311">wifi-remote-station-manager.cc:1311</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_mac_header_html_a140dc7acdb206bfb5b929325d92967b5"><div class="ttname"><a href="classns3_1_1_wifi_mac_header.html#a140dc7acdb206bfb5b929325d92967b5">ns3::WifiMacHeader::IsAck</a></div><div class="ttdeci">bool IsAck(void) const</div><div class="ttdoc">Return true if the header is an Ack header.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-mac-header_8cc_source.html#l00632">wifi-mac-header.cc:632</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a5b5f194e54b33b969b9cf8a05728d9fe"><div class="ttname"><a href="classns3_1_1_mac_low.html#a5b5f194e54b33b969b9cf8a05728d9fe">ns3::MacLow::DoDispose</a></div><div class="ttdeci">void DoDispose(void)</div><div class="ttdoc">Destructor implementation.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00178">mac-low.cc:178</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_mode_html_ae0afedae9bf1e83c23c5391da28078f9"><div class="ttname"><a href="classns3_1_1_wifi_mode.html#ae0afedae9bf1e83c23c5391da28078f9">ns3::WifiMode::IsHigherCodeRate</a></div><div class="ttdeci">bool IsHigherCodeRate(WifiMode mode) const</div><div class="ttdef"><b>Definition:</b> <a href="wifi-mode_8cc_source.html#l00558">wifi-mode.cc:558</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_remote_station_manager_html_a56c0dcf2fa05e42a3fce2d2f3682f053"><div class="ttname"><a href="classns3_1_1_wifi_remote_station_manager.html#a56c0dcf2fa05e42a3fce2d2f3682f053">ns3::WifiRemoteStationManager::GetUseNonErpProtection</a></div><div class="ttdeci">bool GetUseNonErpProtection(void) const</div><div class="ttdoc">Return whether the device supports protection of non-ERP stations.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-remote-station-manager_8cc_source.html#l00904">wifi-remote-station-manager.cc:904</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_aafa012c5d2dde80484d6546c802f02f8"><div class="ttname"><a href="classns3_1_1_mac_low.html#aafa012c5d2dde80484d6546c802f02f8">ns3::MacLow::ResetBlockAckInactivityTimerIfNeeded</a></div><div class="ttdeci">void ResetBlockAckInactivityTimerIfNeeded(BlockAckAgreement &amp;agreement)</div><div class="ttdoc">Every time that a BlockAckRequest or a packet with Ack Policy equals to Block Ack are received,...</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l02563">mac-low.cc:2563</a></div></div>
<div class="ttc" id="anamespacens3_html_a79e14c6d347fba61711e9857bd019372"><div class="ttname"><a href="namespacens3.html#a79e14c6d347fba61711e9857bd019372">ns3::GetRtsSize</a></div><div class="ttdeci">uint32_t GetRtsSize(void)</div><div class="ttdoc">Return the total RTS size (including FCS trailer).</div><div class="ttdef"><b>Definition:</b> <a href="wifi-utils_8cc_source.html#l00209">wifi-utils.cc:209</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_mac_header_html_a5330ccda676bc7348bc633acc67df8fc"><div class="ttname"><a href="classns3_1_1_wifi_mac_header.html#a5330ccda676bc7348bc633acc67df8fc">ns3::WifiMacHeader::GetSize</a></div><div class="ttdeci">uint32_t GetSize(void) const</div><div class="ttdoc">Return the size of the WifiMacHeader in octets.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-mac-header_8cc_source.html#l00889">wifi-mac-header.cc:889</a></div></div>
<div class="ttc" id="a80211b_8c_html_ac6afabdc09a49a433ee19d8a9486056d"><div class="ttname"><a href="80211b_8c.html#ac6afabdc09a49a433ee19d8a9486056d">min</a></div><div class="ttdeci">#define min(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="80211b_8c_source.html#l00043">80211b.c:42</a></div></div>
<div class="ttc" id="aclassns3_1_1_mgt_add_ba_response_header_html_a486d93958d3e9c512fbcd84b78923b34"><div class="ttname"><a href="classns3_1_1_mgt_add_ba_response_header.html#a486d93958d3e9c512fbcd84b78923b34">ns3::MgtAddBaResponseHeader::GetBufferSize</a></div><div class="ttdeci">uint16_t GetBufferSize(void) const</div><div class="ttdoc">Return the buffer size.</div><div class="ttdef"><b>Definition:</b> <a href="mgt-headers_8cc_source.html#l01759">mgt-headers.cc:1759</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac48_address_html_a56fbd59ebf507db02609a1e77c7c4656"><div class="ttname"><a href="classns3_1_1_mac48_address.html#a56fbd59ebf507db02609a1e77c7c4656">ns3::Mac48Address::IsGroup</a></div><div class="ttdeci">bool IsGroup(void) const</div><div class="ttdef"><b>Definition:</b> <a href="mac48-address_8cc_source.html#l00164">mac48-address.cc:164</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_mac_header_html_afe7c9a624523907e0c291221e3789d21"><div class="ttname"><a href="classns3_1_1_wifi_mac_header.html#afe7c9a624523907e0c291221e3789d21">ns3::WifiMacHeader::IsBeacon</a></div><div class="ttdeci">bool IsBeacon(void) const</div><div class="ttdoc">Return true if the header is a Beacon header.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-mac-header_8cc_source.html#l00674">wifi-mac-header.cc:674</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_mode_html_af44627470a1d84ba3af706a7764d5cbb"><div class="ttname"><a href="classns3_1_1_wifi_mode.html#af44627470a1d84ba3af706a7764d5cbb">ns3::WifiMode::IsMandatory</a></div><div class="ttdeci">bool IsMandatory(void) const</div><div class="ttdef"><b>Definition:</b> <a href="wifi-mode_8cc_source.html#l00434">wifi-mode.cc:434</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_mac_header_html_ab7141548a921f63a084720b3b022de79"><div class="ttname"><a href="classns3_1_1_wifi_mac_header.html#ab7141548a921f63a084720b3b022de79">ns3::WifiMacHeader::IsData</a></div><div class="ttdeci">bool IsData(void) const</div><div class="ttdoc">Return true if the Type is DATA.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-mac-header_8cc_source.html#l00527">wifi-mac-header.cc:527</a></div></div>
<div class="ttc" id="awifi-ack-policy-selector_8h_html"><div class="ttname"><a href="wifi-ack-policy-selector_8h.html">wifi-ack-policy-selector.h</a></div></div>
<div class="ttc" id="aclassns3_1_1_packet_html_a465108c595a0bc592095cbcab1832ed8"><div class="ttname"><a href="classns3_1_1_packet.html#a465108c595a0bc592095cbcab1832ed8">ns3::Packet::AddHeader</a></div><div class="ttdeci">void AddHeader(const Header &amp;header)</div><div class="ttdoc">Add header to this packet.</div><div class="ttdef"><b>Definition:</b> <a href="packet_8cc_source.html#l00256">packet.cc:256</a></div></div>
<div class="ttc" id="aclassns3_1_1_callback_html"><div class="ttname"><a href="classns3_1_1_callback.html">ns3::Callback</a></div><div class="ttdoc">Callback template class.</div><div class="ttdef"><b>Definition:</b> <a href="callback_8h_source.html#l01273">callback.h:1274</a></div></div>
<div class="ttc" id="anamespacealoha_html_a2e783efd48c6e7010b99887a6daa8ac3"><div class="ttname"><a href="namespacealoha.html#a2e783efd48c6e7010b99887a6daa8ac3">aloha.duration</a></div><div class="ttdeci">float duration</div><div class="ttdef"><b>Definition:</b> <a href="aloha_8py_source.html#l00037">aloha.py:37</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a4ee65e0fe3be7f52b42ea555ac8402b3"><div class="ttname"><a href="classns3_1_1_mac_low.html#a4ee65e0fe3be7f52b42ea555ac8402b3">ns3::MacLow::SetSlotTime</a></div><div class="ttdeci">void SetSlotTime(Time slotTime)</div><div class="ttdoc">Set slot duration of this MacLow.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00367">mac-low.cc:367</a></div></div>
<div class="ttc" id="aclassns3_1_1_phy_mac_low_listener_html_a302830dc08603e98d66b5e749b35afdd"><div class="ttname"><a href="classns3_1_1_phy_mac_low_listener.html#a302830dc08603e98d66b5e749b35afdd">ns3::PhyMacLowListener::NotifyRxEndOk</a></div><div class="ttdeci">void NotifyRxEndOk(void)</div><div class="ttdoc">We have received the last bit of a packet for which NotifyRxStart was invoked first and,...</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00080">mac-low.cc:80</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a6afa0ed5c43983ab487980553000bfd7"><div class="ttname"><a href="classns3_1_1_mac_low.html#a6afa0ed5c43983ab487980553000bfd7">ns3::MacLow::NotifyCtsTimeoutResetNow</a></div><div class="ttdeci">void NotifyCtsTimeoutResetNow(void)</div><div class="ttdoc">Notify ChannelAccessManager that CTS timer should be reset.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l01675">mac-low.cc:1675</a></div></div>
<div class="ttc" id="aclassns3_1_1_time_html_af980fef08802d1ab14f0d58ed4c4eaf3"><div class="ttname"><a href="classns3_1_1_time.html#af980fef08802d1ab14f0d58ed4c4eaf3">ns3::Time::IsNegative</a></div><div class="ttdeci">bool IsNegative(void) const</div><div class="ttdef"><b>Definition:</b> <a href="nstime_8h_source.html#l00299">nstime.h:299</a></div></div>
<div class="ttc" id="aclassns3_1_1_txop_html_acd1bb8b45e7a39cfc7e1e710dc514b3e"><div class="ttname"><a href="classns3_1_1_txop.html#acd1bb8b45e7a39cfc7e1e710dc514b3e">ns3::Txop::GotAck</a></div><div class="ttdeci">virtual void GotAck(void)</div><div class="ttdoc">Event handler when an Ack is received.</div><div class="ttdef"><b>Definition:</b> <a href="txop_8cc_source.html#l00637">txop.cc:637</a></div></div>
<div class="ttc" id="aclassns3_1_1_simulator_html_a671882c894a08af4a5e91181bf1eec13"><div class="ttname"><a href="classns3_1_1_simulator.html#a671882c894a08af4a5e91181bf1eec13">ns3::Simulator::Schedule</a></div><div class="ttdeci">static EventId Schedule(Time const &amp;delay, MEM mem_ptr, OBJ obj)</div><div class="ttdoc">Schedule an event to expire after delay.</div><div class="ttdef"><b>Definition:</b> <a href="simulator_8h_source.html#l01392">simulator.h:1392</a></div></div>
<div class="ttc" id="aclassns3_1_1_simulator_html_ac3178fa975b419f7875e7105be122800"><div class="ttname"><a href="classns3_1_1_simulator.html#ac3178fa975b419f7875e7105be122800">ns3::Simulator::Now</a></div><div class="ttdeci">static Time Now(void)</div><div class="ttdoc">Return the current simulation virtual time.</div><div class="ttdef"><b>Definition:</b> <a href="simulator_8cc_source.html#l00195">simulator.cc:195</a></div></div>
<div class="ttc" id="anamespacens3_html"><div class="ttname"><a href="namespacens3.html">ns3</a></div><div class="ttdoc">Every class exported by the ns3 library is enclosed in the ns3 namespace.</div></div>
<div class="ttc" id="aclassns3_1_1_wifi_phy_html_a29aa15b5cdc210971bd92b562f2d955b"><div class="ttname"><a href="classns3_1_1_wifi_phy.html#a29aa15b5cdc210971bd92b562f2d955b">ns3::WifiPhy::IsStateRx</a></div><div class="ttdeci">bool IsStateRx(void) const</div><div class="ttdef"><b>Definition:</b> <a href="wifi-phy_8cc_source.html#l04042">wifi-phy.cc:4042</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_af756b3e62a77278698fb4fafc042b42b"><div class="ttname"><a href="classns3_1_1_mac_low.html#af756b3e62a77278698fb4fafc042b42b">ns3::MacLow::SetCompressedBlockAckTimeout</a></div><div class="ttdeci">void SetCompressedBlockAckTimeout(Time blockAckTimeout)</div><div class="ttdoc">Set Compressed BlockAck timeout of this MacLow.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00343">mac-low.cc:343</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_phy_html_aee98c7241bb4f0bb8e6d90f5771dacc7"><div class="ttname"><a href="classns3_1_1_wifi_phy.html#aee98c7241bb4f0bb8e6d90f5771dacc7">ns3::WifiPhy::CalculateTxDuration</a></div><div class="ttdeci">static Time CalculateTxDuration(uint32_t size, WifiTxVector txVector, uint16_t frequency)</div><div class="ttdef"><b>Definition:</b> <a href="wifi-phy_8cc_source.html#l02417">wifi-phy.cc:2417</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_ae4268e4023afc9b701c40832f57e8459"><div class="ttname"><a href="classns3_1_1_mac_low.html#ae4268e4023afc9b701c40832f57e8459">ns3::MacLow::CanTransmitNextCfFrame</a></div><div class="ttdeci">bool CanTransmitNextCfFrame(void) const</div><div class="ttdoc">This function decides if a CF frame can be transmitted in the current CFP.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l02698">mac-low.cc:2698</a></div></div>
<div class="ttc" id="aclassns3_1_1_block_ack_cache_html_a38bbf9991bacc70374daf9b9f59731e1"><div class="ttname"><a href="classns3_1_1_block_ack_cache.html#a38bbf9991bacc70374daf9b9f59731e1">ns3::BlockAckCache::Init</a></div><div class="ttdeci">void Init(uint16_t winStart, uint16_t winSize)</div><div class="ttdoc">Initialization function.</div><div class="ttdef"><b>Definition:</b> <a href="block-ack-cache_8cc_source.html#l00035">block-ack-cache.cc:35</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a1a2b5d95cae95e9b99e6508d7d350b47"><div class="ttname"><a href="classns3_1_1_mac_low.html#a1a2b5d95cae95e9b99e6508d7d350b47">ns3::MacLow::m_bAckCaches</a></div><div class="ttdeci">BlockAckCaches m_bAckCaches</div><div class="ttdoc">block ack caches</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8h_source.html#l00973">mac-low.h:973</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_ab27ec174aebeec55b0fd44e872c0e777"><div class="ttname"><a href="classns3_1_1_mac_low.html#ab27ec174aebeec55b0fd44e872c0e777">ns3::MacLow::EndTxNoAck</a></div><div class="ttdeci">void EndTxNoAck(void)</div><div class="ttdoc">A transmission that does not require an Ack has completed.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l02142">mac-low.cc:2142</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_mac_trailer_html"><div class="ttname"><a href="classns3_1_1_wifi_mac_trailer.html">ns3::WifiMacTrailer</a></div><div class="ttdef"><b>Definition:</b> <a href="wifi-mac-trailer_8h_source.html#l00038">wifi-mac-trailer.h:39</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a7876cc9b328cdb0508f2a7b7647eab10"><div class="ttname"><a href="classns3_1_1_mac_low.html#a7876cc9b328cdb0508f2a7b7647eab10">ns3::MacLow::AgreementsI</a></div><div class="ttdeci">std::map&lt; AgreementKey, AgreementValue &gt;::iterator AgreementsI</div><div class="ttdoc">agreements iterator</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8h_source.html#l00967">mac-low.h:967</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a600b2ba477578734cc4a1e3c11e5d5dd"><div class="ttname"><a href="classns3_1_1_mac_low.html#a600b2ba477578734cc4a1e3c11e5d5dd">ns3::MacLow::GetCtsDuration</a></div><div class="ttdeci">Time GetCtsDuration(WifiTxVector ctsTxVector) const</div><div class="ttdoc">Return the time required to transmit the CTS (including preamble and FCS).</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l01268">mac-low.cc:1268</a></div></div>
<div class="ttc" id="anamespacens3_html_aa999e1221606a2b21b1eb33c2007c217"><div class="ttname"><a href="namespacens3.html#aa999e1221606a2b21b1eb33c2007c217">ns3::WifiModulationClass</a></div><div class="ttdeci">WifiModulationClass</div><div class="ttdoc">This enumeration defines the modulation classes per (Table 9-4 &quot;Modulation classes&quot;; IEEE 802....</div><div class="ttdef"><b>Definition:</b> <a href="wifi-mode_8h_source.html#l00036">wifi-mode.h:37</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_mac_header_html_a68d394149beef04171424d90c10aea00"><div class="ttname"><a href="classns3_1_1_wifi_mac_header.html#a68d394149beef04171424d90c10aea00">ns3::WifiMacHeader::IsProbeResp</a></div><div class="ttdeci">bool IsProbeResp(void) const</div><div class="ttdoc">Return true if the header is a Probe Response header.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-mac-header_8cc_source.html#l00668">wifi-mac-header.cc:668</a></div></div>
<div class="ttc" id="anamespacens3_html_a9318472db39b35b2092de5c721e6ab0aaafad3f2fa07671f676c0b60a6d3712b3"><div class="ttname"><a href="namespacens3.html#a9318472db39b35b2092de5c721e6ab0aaafad3f2fa07671f676c0b60a6d3712b3">ns3::WIFI_MAC_DATA_CFACK_CFPOLL</a></div><div class="ttdeci">@ WIFI_MAC_DATA_CFACK_CFPOLL</div><div class="ttdef"><b>Definition:</b> <a href="wifi-mac-header_8h_source.html#l00064">wifi-mac-header.h:64</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_mode_html_a5d373f9f80a35339205259fac667593b"><div class="ttname"><a href="classns3_1_1_wifi_mode.html#a5d373f9f80a35339205259fac667593b">ns3::WifiMode::IsHigherDataRate</a></div><div class="ttdeci">bool IsHigherDataRate(WifiMode mode) const</div><div class="ttdef"><b>Definition:</b> <a href="wifi-mode_8cc_source.html#l00578">wifi-mode.cc:578</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_remote_station_manager_html_a853f412b16d537be85a70277c522dec7"><div class="ttname"><a href="classns3_1_1_wifi_remote_station_manager.html#a853f412b16d537be85a70277c522dec7">ns3::WifiRemoteStationManager::GetRtsTxVector</a></div><div class="ttdeci">WifiTxVector GetRtsTxVector(Mac48Address address, Ptr&lt; const Packet &gt; packet)</div><div class="ttdef"><b>Definition:</b> <a href="wifi-remote-station-manager_8cc_source.html#l00654">wifi-remote-station-manager.cc:654</a></div></div>
<div class="ttc" id="aclassns3_1_1_ctrl_b_ack_request_header_html"><div class="ttname"><a href="classns3_1_1_ctrl_b_ack_request_header.html">ns3::CtrlBAckRequestHeader</a></div><div class="ttdoc">Headers for BlockAckRequest.</div><div class="ttdef"><b>Definition:</b> <a href="ctrl-headers_8h_source.html#l00041">ctrl-headers.h:42</a></div></div>
<div class="ttc" id="agroup__timecivil_html_ga17465a639c8d1464e76538afdd78a9f0"><div class="ttname"><a href="group__timecivil.html#ga17465a639c8d1464e76538afdd78a9f0">ns3::MicroSeconds</a></div><div class="ttdeci">Time MicroSeconds(uint64_t value)</div><div class="ttdef"><b>Definition:</b> <a href="nstime_8h_source.html#l01086">nstime.h:1086</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_phy_listener_html"><div class="ttname"><a href="classns3_1_1_wifi_phy_listener.html">ns3::WifiPhyListener</a></div><div class="ttdoc">receive notifications about PHY events.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-phy-listener_8h_source.html#l00032">wifi-phy-listener.h:33</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_transmission_parameters_html_abbe0a559eea37bf8d11162a7c88f3816"><div class="ttname"><a href="classns3_1_1_mac_low_transmission_parameters.html#abbe0a559eea37bf8d11162a7c88f3816">ns3::MacLowTransmissionParameters::GetNextPacketSize</a></div><div class="ttdeci">uint32_t GetNextPacketSize(void) const</div><div class="ttdef"><b>Definition:</b> <a href="mac-low-transmission-parameters_8cc_source.html#l00238">mac-low-transmission-parameters.cc:238</a></div></div>
<div class="ttc" id="aclassns3_1_1_ctrl_b_ack_request_header_html_ace7013bb7086a17a8dd3e8b3820174f0"><div class="ttname"><a href="classns3_1_1_ctrl_b_ack_request_header.html#ace7013bb7086a17a8dd3e8b3820174f0">ns3::CtrlBAckRequestHeader::IsBasic</a></div><div class="ttdeci">bool IsBasic(void) const</div><div class="ttdoc">Check if the current Ack Policy is Basic Block Ack (i.e.</div><div class="ttdef"><b>Definition:</b> <a href="ctrl-headers_8cc_source.html#l00240">ctrl-headers.cc:240</a></div></div>
<div class="ttc" id="aclassns3_1_1_phy_mac_low_listener_html_a7c5688d6d66773bd20c461d4aed047aa"><div class="ttname"><a href="classns3_1_1_phy_mac_low_listener.html#a7c5688d6d66773bd20c461d4aed047aa">ns3::PhyMacLowListener::m_macLow</a></div><div class="ttdeci">ns3::MacLow * m_macLow</div><div class="ttdoc">the MAC</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00112">mac-low.cc:112</a></div></div>
<div class="ttc" id="aampdu-tag_8h_html"><div class="ttname"><a href="ampdu-tag_8h.html">ampdu-tag.h</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_ad306264b6f7c07d8b222d461f2d09b29"><div class="ttname"><a href="classns3_1_1_mac_low.html#ad306264b6f7c07d8b222d461f2d09b29">ns3::MacLow::m_lastNavStart</a></div><div class="ttdeci">Time m_lastNavStart</div><div class="ttdoc">The time when the latest NAV started.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8h_source.html#l00947">mac-low.h:947</a></div></div>
<div class="ttc" id="aclassns3_1_1_object_base_html_a460d74131ef97d9d7ba79c6d70b2f304"><div class="ttname"><a href="classns3_1_1_object_base.html#a460d74131ef97d9d7ba79c6d70b2f304">ns3::ObjectBase::TraceDisconnectWithoutContext</a></div><div class="ttdeci">bool TraceDisconnectWithoutContext(std::string name, const CallbackBase &amp;cb)</div><div class="ttdoc">Disconnect from a TraceSource a Callback previously connected without a context.</div><div class="ttdef"><b>Definition:</b> <a href="object-base_8cc_source.html#l00319">object-base.cc:319</a></div></div>
<div class="ttc" id="anamespacens3_html_a9318472db39b35b2092de5c721e6ab0aabc19f0507960f8cc3dbffa0a4a959502"><div class="ttname"><a href="namespacens3.html#a9318472db39b35b2092de5c721e6ab0aabc19f0507960f8cc3dbffa0a4a959502">ns3::WIFI_MAC_CTL_END</a></div><div class="ttdeci">@ WIFI_MAC_CTL_END</div><div class="ttdef"><b>Definition:</b> <a href="wifi-mac-header_8h_source.html#l00044">wifi-mac-header.h:44</a></div></div>
<div class="ttc" id="aclassns3_1_1_phy_mac_low_listener_html_a1bc3564abd3951a3af6b6343e2a330fb"><div class="ttname"><a href="classns3_1_1_phy_mac_low_listener.html#a1bc3564abd3951a3af6b6343e2a330fb">ns3::PhyMacLowListener::PhyMacLowListener</a></div><div class="ttdeci">PhyMacLowListener(ns3::MacLow *macLow)</div><div class="ttdoc">Create a PhyMacLowListener for the given MacLow.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00070">mac-low.cc:70</a></div></div>
<div class="ttc" id="aqos-txop_8h_html"><div class="ttname"><a href="qos-txop_8h.html">qos-txop.h</a></div></div>
<div class="ttc" id="aclassns3_1_1_phy_mac_low_listener_html_a708c891331273676e26ecf8df28fcdec"><div class="ttname"><a href="classns3_1_1_phy_mac_low_listener.html#a708c891331273676e26ecf8df28fcdec">ns3::PhyMacLowListener::NotifyWakeup</a></div><div class="ttdeci">void NotifyWakeup(void)</div><div class="ttdoc">Notify listeners that we woke up.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00104">mac-low.cc:104</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a5857e879d0297918d6d800ac6db37924"><div class="ttname"><a href="classns3_1_1_mac_low.html#a5857e879d0297918d6d800ac6db37924">ns3::MacLow::IsPromisc</a></div><div class="ttdeci">bool IsPromisc(void) const</div><div class="ttdoc">Check if MacLow is operating in promiscuous mode.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00475">mac-low.cc:475</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_tx_vector_html_a40280b31baf8d7cef1a7234715969d06"><div class="ttname"><a href="classns3_1_1_wifi_tx_vector.html#a40280b31baf8d7cef1a7234715969d06">ns3::WifiTxVector::SetGuardInterval</a></div><div class="ttdeci">void SetGuardInterval(uint16_t guardInterval)</div><div class="ttdoc">Sets the guard interval duration (in nanoseconds)</div><div class="ttdef"><b>Definition:</b> <a href="wifi-tx-vector_8cc_source.html#l00162">wifi-tx-vector.cc:162</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_acd82a8d94b49f6caea5b14839d55ce12"><div class="ttname"><a href="classns3_1_1_mac_low.html#acd82a8d94b49f6caea5b14839d55ce12">ns3::MacLow::SetWifiRemoteStationManager</a></div><div class="ttdeci">void SetWifiRemoteStationManager(const Ptr&lt; WifiRemoteStationManager &gt; manager)</div><div class="ttdoc">Set up WifiRemoteStationManager associated with this MacLow.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00293">mac-low.cc:293</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a35adb9b4c7f1035da2cb080289ba9cf7"><div class="ttname"><a href="classns3_1_1_mac_low.html#a35adb9b4c7f1035da2cb080289ba9cf7">ns3::MacLow::CtsTimeout</a></div><div class="ttdeci">void CtsTimeout(void)</div><div class="ttdoc">Event handler when CTS timeout occurs.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l01768">mac-low.cc:1768</a></div></div>
<div class="ttc" id="asnr-tag_8h_html"><div class="ttname"><a href="snr-tag_8h.html">snr-tag.h</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_mac_header_html_a6618685d561ee5df69a45636550c7234"><div class="ttname"><a href="classns3_1_1_wifi_mac_header.html#a6618685d561ee5df69a45636550c7234">ns3::WifiMacHeader::IsQosNoAck</a></div><div class="ttdeci">bool IsQosNoAck(void) const</div><div class="ttdoc">Return if the QoS Ack policy is No Ack.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-mac-header_8cc_source.html#l00771">wifi-mac-header.cc:771</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_phy_html_a978d3a554116b0654c40fc22e469ceaa"><div class="ttname"><a href="classns3_1_1_wifi_phy.html#a978d3a554116b0654c40fc22e469ceaa">ns3::WifiPhy::GetNModes</a></div><div class="ttdeci">uint8_t GetNModes(void) const</div><div class="ttdoc">The WifiPhy::GetNModes() and WifiPhy::GetMode() methods are used (e.g., by a WifiRemoteStationManager...</div><div class="ttdef"><b>Definition:</b> <a href="wifi-phy_8cc_source.html#l03976">wifi-phy.cc:3976</a></div></div>
<div class="ttc" id="anamespacens3_html_aa999e1221606a2b21b1eb33c2007c217a6ac45cac36cc4454649435d24ebf349c"><div class="ttname"><a href="namespacens3.html#aa999e1221606a2b21b1eb33c2007c217a6ac45cac36cc4454649435d24ebf349c">ns3::WIFI_MOD_CLASS_HT</a></div><div class="ttdeci">@ WIFI_MOD_CLASS_HT</div><div class="ttdoc">HT PHY (Clause 20)</div><div class="ttdef"><b>Definition:</b> <a href="wifi-mode_8h_source.html#l00058">wifi-mode.h:58</a></div></div>
<div class="ttc" id="awifi-remote-station-manager_8h_html"><div class="ttname"><a href="wifi-remote-station-manager_8h.html">wifi-remote-station-manager.h</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_mac_header_html_a02edeb349da4aacc6b376fcf76ff99cc"><div class="ttname"><a href="classns3_1_1_wifi_mac_header.html#a02edeb349da4aacc6b376fcf76ff99cc">ns3::WifiMacHeader::SetDsNotFrom</a></div><div class="ttdeci">void SetDsNotFrom(void)</div><div class="ttdoc">Un-set the From DS bit in the Frame Control field.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-mac-header_8cc_source.html#l00072">wifi-mac-header.cc:72</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_tx_vector_html_aadd3ccf9d68dd8f06d4cfedc352498fb"><div class="ttname"><a href="classns3_1_1_wifi_tx_vector.html#aadd3ccf9d68dd8f06d4cfedc352498fb">ns3::WifiTxVector::GetMode</a></div><div class="ttdeci">WifiMode GetMode(void) const</div><div class="ttdef"><b>Definition:</b> <a href="wifi-tx-vector_8cc_source.html#l00073">wifi-tx-vector.cc:73</a></div></div>
<div class="ttc" id="aclassns3_1_1_txop_html_a94c2cad7d507ebba1f9a0289c6a7fac4"><div class="ttname"><a href="classns3_1_1_txop.html#a94c2cad7d507ebba1f9a0289c6a7fac4">ns3::Txop::Cancel</a></div><div class="ttdeci">virtual void Cancel(void)</div><div class="ttdoc">Cancel the transmission.</div><div class="ttdef"><b>Definition:</b> <a href="txop_8cc_source.html#l00759">txop.cc:759</a></div></div>
<div class="ttc" id="aclassns3_1_1_time_html_a87a7f4d29c68b047a72d291ad660295aa58d3fcfd769acff64cf67f227d55fdd0"><div class="ttname"><a href="classns3_1_1_time.html#a87a7f4d29c68b047a72d291ad660295aa58d3fcfd769acff64cf67f227d55fdd0">ns3::Time::US</a></div><div class="ttdeci">@ US</div><div class="ttdoc">microsecond</div><div class="ttdef"><b>Definition:</b> <a href="nstime_8h_source.html#l00116">nstime.h:116</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_mode_html_a67e1664cac501221b63a2be307184cc9"><div class="ttname"><a href="classns3_1_1_wifi_mode.html#a67e1664cac501221b63a2be307184cc9">ns3::WifiMode::GetModulationClass</a></div><div class="ttdeci">WifiModulationClass GetModulationClass() const</div><div class="ttdef"><b>Definition:</b> <a href="wifi-mode_8cc_source.html#l00463">wifi-mode.cc:463</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_tx_vector_html_af6b333491a8b20c064d8d1ad35381194"><div class="ttname"><a href="classns3_1_1_wifi_tx_vector.html#af6b333491a8b20c064d8d1ad35381194">ns3::WifiTxVector::SetNss</a></div><div class="ttdeci">void SetNss(uint8_t nss)</div><div class="ttdoc">Sets the number of Nss refer to IEEE 802.11n Table 20-28 for explanation and range.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-tx-vector_8cc_source.html#l00174">wifi-tx-vector.cc:174</a></div></div>
<div class="ttc" id="anamespacens3_html_a9318472db39b35b2092de5c721e6ab0aa174e4ecc4062de8f0be8e22e3bf0a55c"><div class="ttname"><a href="namespacens3.html#a9318472db39b35b2092de5c721e6ab0aa174e4ecc4062de8f0be8e22e3bf0a55c">ns3::WIFI_MAC_CTL_END_ACK</a></div><div class="ttdeci">@ WIFI_MAC_CTL_END_ACK</div><div class="ttdef"><b>Definition:</b> <a href="wifi-mac-header_8h_source.html#l00045">wifi-mac-header.h:45</a></div></div>
<div class="ttc" id="aclassns3_1_1_time_html_a0d01aeab2308df799ea2f340d816d4c5"><div class="ttname"><a href="classns3_1_1_time.html#a0d01aeab2308df799ea2f340d816d4c5">ns3::Time::IsStrictlyPositive</a></div><div class="ttdeci">bool IsStrictlyPositive(void) const</div><div class="ttdef"><b>Definition:</b> <a href="nstime_8h_source.html#l00314">nstime.h:314</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_phy_html_afca470e272ec5c3126da63c0a6102f4c"><div class="ttname"><a href="classns3_1_1_wifi_phy.html#afca470e272ec5c3126da63c0a6102f4c">ns3::WifiPhy::GetFrequency</a></div><div class="ttdeci">uint16_t GetFrequency(void) const</div><div class="ttdef"><b>Definition:</b> <a href="wifi-phy_8cc_source.html#l01372">wifi-phy.cc:1372</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_tx_vector_html_a6f11a0d5373b041c7041986a2ed3ce10"><div class="ttname"><a href="classns3_1_1_wifi_tx_vector.html#a6f11a0d5373b041c7041986a2ed3ce10">ns3::WifiTxVector::SetAggregation</a></div><div class="ttdeci">void SetAggregation(bool aggregation)</div><div class="ttdoc">Sets if PSDU contains A-MPDU.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-tx-vector_8cc_source.html#l00186">wifi-tx-vector.cc:186</a></div></div>
<div class="ttc" id="anamespacens3_html_aa999e1221606a2b21b1eb33c2007c217abfa4f7272510045a9b43e8ac27ac13b0"><div class="ttname"><a href="namespacens3.html#aa999e1221606a2b21b1eb33c2007c217abfa4f7272510045a9b43e8ac27ac13b0">ns3::WIFI_MOD_CLASS_HE</a></div><div class="ttdeci">@ WIFI_MOD_CLASS_HE</div><div class="ttdoc">HE PHY (Clause 26)</div><div class="ttdef"><b>Definition:</b> <a href="wifi-mode_8h_source.html#l00063">wifi-mode.h:62</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_remote_station_manager_html_a433cd6f0f2b9ab512fb4c2578e661ebb"><div class="ttname"><a href="classns3_1_1_wifi_remote_station_manager.html#a433cd6f0f2b9ab512fb4c2578e661ebb">ns3::WifiRemoteStationManager::GetNBasicModes</a></div><div class="ttdeci">uint8_t GetNBasicModes(void) const</div><div class="ttdoc">Return the number of basic modes we support.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-remote-station-manager_8cc_source.html#l01355">wifi-remote-station-manager.cc:1355</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_mac_header_html_a67147b01fd61827c27316473c7e19ea8"><div class="ttname"><a href="classns3_1_1_wifi_mac_header.html#a67147b01fd61827c27316473c7e19ea8">ns3::WifiMacHeader::IsCfEnd</a></div><div class="ttdeci">bool IsCfEnd(void) const</div><div class="ttdoc">Return true if the header is a CF-End header.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-mac-header_8cc_source.html#l00571">wifi-mac-header.cc:571</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a9a1f45d86dee98b8b769052d0e6a678e"><div class="ttname"><a href="classns3_1_1_mac_low.html#a9a1f45d86dee98b8b769052d0e6a678e">ns3::MacLow::StoreMpduIfNeeded</a></div><div class="ttdeci">bool StoreMpduIfNeeded(Ptr&lt; WifiMacQueueItem &gt; mpdu)</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l02232">mac-low.cc:2232</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_mac_header_html_afe3dccb6ffb0056ee21cfc67da8871e5"><div class="ttname"><a href="classns3_1_1_wifi_mac_header.html#afe3dccb6ffb0056ee21cfc67da8871e5">ns3::WifiMacHeader::IsQosBlockAck</a></div><div class="ttdeci">bool IsQosBlockAck(void) const</div><div class="ttdoc">Return if the QoS Ack policy is Block Ack.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-mac-header_8cc_source.html#l00764">wifi-mac-header.cc:764</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_aa1cafaeac339f19e26e817224889202f"><div class="ttname"><a href="classns3_1_1_mac_low.html#aa1cafaeac339f19e26e817224889202f">ns3::MacLow::GetCfEndSize</a></div><div class="ttdeci">uint32_t GetCfEndSize(void) const</div><div class="ttdoc">Return the total CF-END size (including FCS trailer).</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l01216">mac-low.cc:1216</a></div></div>
<div class="ttc" id="awifi-phy-listener_8h_html"><div class="ttname"><a href="wifi-phy-listener_8h.html">wifi-phy-listener.h</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_af47d4269c05b5283c08d4ab991637457"><div class="ttname"><a href="classns3_1_1_mac_low.html#af47d4269c05b5283c08d4ab991637457">ns3::MacLow::GetCfpMaxDuration</a></div><div class="ttdeci">Time GetCfpMaxDuration(void) const</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00469">mac-low.cc:469</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_mac_header_html_a42e48067f223571d09229433d922dd78"><div class="ttname"><a href="classns3_1_1_wifi_mac_header.html#a42e48067f223571d09229433d922dd78">ns3::WifiMacHeader::IsCts</a></div><div class="ttdeci">bool IsCts(void) const</div><div class="ttdoc">Return true if the header is a CTS header.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-mac-header_8cc_source.html#l00626">wifi-mac-header.cc:626</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_remote_station_manager_html_ae2d1200da0ec74745ef9b496f9c0251f"><div class="ttname"><a href="classns3_1_1_wifi_remote_station_manager.html#ae2d1200da0ec74745ef9b496f9c0251f">ns3::WifiRemoteStationManager::GetHtSupported</a></div><div class="ttdeci">bool GetHtSupported(void) const</div><div class="ttdoc">Return whether the device has HT capability support enabled.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-remote-station-manager_8cc_source.html#l00250">wifi-remote-station-manager.cc:250</a></div></div>
<div class="ttc" id="aclassns3_1_1_ctrl_b_ack_response_header_html_a7dade9f09cdfab9f438e8dd7ca72cbb0"><div class="ttname"><a href="classns3_1_1_ctrl_b_ack_response_header.html#a7dade9f09cdfab9f438e8dd7ca72cbb0">ns3::CtrlBAckResponseHeader::SetStartingSequence</a></div><div class="ttdeci">void SetStartingSequence(uint16_t seq)</div><div class="ttdoc">Set the starting sequence number from the given raw sequence control field.</div><div class="ttdef"><b>Definition:</b> <a href="ctrl-headers_8cc_source.html#l00400">ctrl-headers.cc:400</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a344c9eac713132195e310bb51e4ab020"><div class="ttname"><a href="classns3_1_1_mac_low.html#a344c9eac713132195e310bb51e4ab020">ns3::MacLow::m_mpduAggregator</a></div><div class="ttdeci">Ptr&lt; MpduAggregator &gt; m_mpduAggregator</div><div class="ttdoc">A-MPDU aggregator.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8h_source.html#l00919">mac-low.h:919</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac48_address_html"><div class="ttname"><a href="classns3_1_1_mac48_address.html">ns3::Mac48Address</a></div><div class="ttdoc">an EUI-48 address</div><div class="ttdef"><b>Definition:</b> <a href="mac48-address_8h_source.html#l00043">mac48-address.h:44</a></div></div>
<div class="ttc" id="agroup__wifi_html_ga841296fae895cac77a0e14183b8134e0"><div class="ttname"><a href="group__wifi.html#ga841296fae895cac77a0e14183b8134e0">ns3::QosUtilsMapSeqControlToUniqueInteger</a></div><div class="ttdeci">uint32_t QosUtilsMapSeqControlToUniqueInteger(uint16_t seqControl, uint16_t endSequence)</div><div class="ttdef"><b>Definition:</b> <a href="qos-utils_8cc_source.html#l00073">qos-utils.cc:73</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_remote_station_manager_html_a378e951feaf5fefbe0f32e0cfc0ce765"><div class="ttname"><a href="classns3_1_1_wifi_remote_station_manager.html#a378e951feaf5fefbe0f32e0cfc0ce765">ns3::WifiRemoteStationManager::GetVhtSupported</a></div><div class="ttdeci">bool GetVhtSupported(void) const</div><div class="ttdoc">Return whether the device has VHT capability support enabled.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-remote-station-manager_8cc_source.html#l00262">wifi-remote-station-manager.cc:262</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_mac_header_html_a2dbe5e569e783f6d975c13daf3015f12"><div class="ttname"><a href="classns3_1_1_wifi_mac_header.html#a2dbe5e569e783f6d975c13daf3015f12">ns3::WifiMacHeader::SetNoRetry</a></div><div class="ttdeci">void SetNoRetry(void)</div><div class="ttdoc">Un-set the Retry bit in the Frame Control field.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-mac-header_8cc_source.html#l00325">wifi-mac-header.cc:325</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_tx_vector_html_af39f17fec348c22f8c963bcb6bb5fc53"><div class="ttname"><a href="classns3_1_1_wifi_tx_vector.html#af39f17fec348c22f8c963bcb6bb5fc53">ns3::WifiTxVector::SetMode</a></div><div class="ttdeci">void SetMode(WifiMode mode)</div><div class="ttdoc">Sets the selected payload transmission mode.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-tx-vector_8cc_source.html#l00137">wifi-tx-vector.cc:137</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_afd08d9063efedbf52da3e4f7ac790749"><div class="ttname"><a href="classns3_1_1_mac_low.html#afd08d9063efedbf52da3e4f7ac790749">ns3::MacLow::GetPifs</a></div><div class="ttdeci">Time GetPifs(void) const</div><div class="ttdoc">Return PCF Interframe Space (PIFS) of this MacLow.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00451">mac-low.cc:451</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_phy_html_af8e36d9c6e315830857383cfa32ba90e"><div class="ttname"><a href="classns3_1_1_wifi_phy.html#af8e36d9c6e315830857383cfa32ba90e">ns3::WifiPhy::IsStateOff</a></div><div class="ttdeci">bool IsStateOff(void) const</div><div class="ttdef"><b>Definition:</b> <a href="wifi-phy_8cc_source.html#l04066">wifi-phy.cc:4066</a></div></div>
<div class="ttc" id="aclassns3_1_1_phy_mac_low_listener_html_a7ef6498b417cc897229053f12c677194"><div class="ttname"><a href="classns3_1_1_phy_mac_low_listener.html#a7ef6498b417cc897229053f12c677194">ns3::PhyMacLowListener::NotifyRxStart</a></div><div class="ttdeci">void NotifyRxStart(Time duration)</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00077">mac-low.cc:77</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_af859368621713602f22944a1a00f9aab"><div class="ttname"><a href="classns3_1_1_mac_low.html#af859368621713602f22944a1a00f9aab">ns3::MacLow::m_compressedBlockAckTimeout</a></div><div class="ttdeci">Time m_compressedBlockAckTimeout</div><div class="ttdoc">Compressed BlockAck timeout duration.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8h_source.html#l00938">mac-low.h:938</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_tx_vector_html"><div class="ttname"><a href="classns3_1_1_wifi_tx_vector.html">ns3::WifiTxVector</a></div><div class="ttdoc">This class mimics the TXVECTOR which is to be passed to the PHY in order to define the parameters whi...</div><div class="ttdef"><b>Definition:</b> <a href="wifi-tx-vector_8h_source.html#l00061">wifi-tx-vector.h:62</a></div></div>
<div class="ttc" id="anamespacens3_html_a91e39d8eb8e48719aee120727b1aef3c"><div class="ttname"><a href="namespacens3.html#a91e39d8eb8e48719aee120727b1aef3c">ns3::GetBlockAckRequestSize</a></div><div class="ttdeci">uint32_t GetBlockAckRequestSize(BlockAckType type)</div><div class="ttdoc">Return the total BlockAckRequest size (including FCS trailer).</div><div class="ttdef"><b>Definition:</b> <a href="wifi-utils_8cc_source.html#l00199">wifi-utils.cc:199</a></div></div>
<div class="ttc" id="aclassns3_1_1_ctrl_b_ack_request_header_html_a1c011b4f1b24c83cf596b07904ec1328"><div class="ttname"><a href="classns3_1_1_ctrl_b_ack_request_header.html#a1c011b4f1b24c83cf596b07904ec1328">ns3::CtrlBAckRequestHeader::IsMultiTid</a></div><div class="ttdeci">bool IsMultiTid(void) const</div><div class="ttdoc">Check if the current Ack Policy has Multi-TID Block Ack.</div><div class="ttdef"><b>Definition:</b> <a href="ctrl-headers_8cc_source.html#l00258">ctrl-headers.cc:258</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_ab177d7c7ba53c56f91612114412914bf"><div class="ttname"><a href="classns3_1_1_mac_low.html#ab177d7c7ba53c56f91612114412914bf">ns3::MacLow::SendDataPacket</a></div><div class="ttdeci">void SendDataPacket(void)</div><div class="ttdoc">Send Data packet, which can be Data-Ack or RTS-CTS-Data-Ack transaction.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l01921">mac-low.cc:1921</a></div></div>
<div class="ttc" id="awifi-phy_8h_html"><div class="ttname"><a href="wifi-phy_8h.html">wifi-phy.h</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html"><div class="ttname"><a href="classns3_1_1_mac_low.html">ns3::MacLow</a></div><div class="ttdoc">handle RTS/CTS/Data/Ack transactions.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8h_source.html#l00059">mac-low.h:60</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_mac_header_html_aa1c4acbda4ace9f7a920c97d71bdd097"><div class="ttname"><a href="classns3_1_1_wifi_mac_header.html#aa1c4acbda4ace9f7a920c97d71bdd097">ns3::WifiMacHeader::GetAddr1</a></div><div class="ttdeci">Mac48Address GetAddr1(void) const</div><div class="ttdoc">Return the address in the Address 1 field.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-mac-header_8cc_source.html#l00395">wifi-mac-header.cc:395</a></div></div>
<div class="ttc" id="anamespacethird_html_ab3f6aafb47da74f864e962e074e2193b"><div class="ttname"><a href="namespacethird.html#ab3f6aafb47da74f864e962e074e2193b">third.mac</a></div><div class="ttdeci">mac</div><div class="ttdef"><b>Definition:</b> <a href="third_8py_source.html#l00099">third.py:99</a></div></div>
<div class="ttc" id="anamespacens3_html_a9318472db39b35b2092de5c721e6ab0aa529299bd6c8159e0dc3f56acb749eff4"><div class="ttname"><a href="namespacens3.html#a9318472db39b35b2092de5c721e6ab0aa529299bd6c8159e0dc3f56acb749eff4">ns3::WIFI_MAC_CTL_CTS</a></div><div class="ttdeci">@ WIFI_MAC_CTL_CTS</div><div class="ttdef"><b>Definition:</b> <a href="wifi-mac-header_8h_source.html#l00040">wifi-mac-header.h:40</a></div></div>
<div class="ttc" id="anamespacens3_html_aca0bd78e033e4b11a17fdecc0ff9320b"><div class="ttname"><a href="namespacens3.html#aca0bd78e033e4b11a17fdecc0ff9320b">ns3::MAX_MSDU_SIZE</a></div><div class="ttdeci">static const uint16_t MAX_MSDU_SIZE</div><div class="ttdoc">This value conforms to the 802.11 specification.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-net-device_8h_source.html#l00037">wifi-net-device.h:37</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_phy_html_adc3aa3a59f36e5c84f8d759bb15a5bf0"><div class="ttname"><a href="classns3_1_1_wifi_phy.html#adc3aa3a59f36e5c84f8d759bb15a5bf0">ns3::WifiPhy::SetReceiveOkCallback</a></div><div class="ttdeci">void SetReceiveOkCallback(RxOkCallback callback)</div><div class="ttdef"><b>Definition:</b> <a href="wifi-phy_8cc_source.html#l00458">wifi-phy.cc:458</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a399290b378df4e041b9c4f7cc7b9b465"><div class="ttname"><a href="classns3_1_1_mac_low.html#a399290b378df4e041b9c4f7cc7b9b465">ns3::MacLow::SetAddress</a></div><div class="ttdeci">void SetAddress(Mac48Address ad)</div><div class="ttdoc">Set MAC address of this MacLow.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00325">mac-low.cc:325</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_mac_header_html_ad4af293cb29d73a7661a93099e363b56"><div class="ttname"><a href="classns3_1_1_wifi_mac_header.html#ad4af293cb29d73a7661a93099e363b56">ns3::WifiMacHeader::GetSequenceControl</a></div><div class="ttdeci">uint16_t GetSequenceControl(void) const</div><div class="ttdoc">Return the raw Sequence Control field.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-mac-header_8cc_source.html#l00734">wifi-mac-header.cc:734</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a3087bf08c1005df5654ede7311173e4f"><div class="ttname"><a href="classns3_1_1_mac_low.html#a3087bf08c1005df5654ede7311173e4f">ns3::MacLow::WaitIfsAfterEndTxFragment</a></div><div class="ttdeci">void WaitIfsAfterEndTxFragment(void)</div><div class="ttdoc">Event handler that is usually scheduled to fired at the appropriate time after completing transmissio...</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l02128">mac-low.cc:2128</a></div></div>
<div class="ttc" id="anamespacens3_html_ac78f3ac928570be14da972e15dcf5946"><div class="ttname"><a href="namespacens3.html#ac78f3ac928570be14da972e15dcf5946">ns3::GetSize</a></div><div class="ttdeci">uint32_t GetSize(Ptr&lt; const Packet &gt; packet, const WifiMacHeader *hdr, bool isAmpdu)</div><div class="ttdoc">Return the total size of the packet after WifiMacHeader and FCS trailer have been added.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-utils_8cc_source.html#l00238">wifi-utils.cc:238</a></div></div>
<div class="ttc" id="agroup__makecallbackmemptr_html_ga9376283685aa99d204048d6a4b7610a4"><div class="ttname"><a href="group__makecallbackmemptr.html#ga9376283685aa99d204048d6a4b7610a4">ns3::MakeCallback</a></div><div class="ttdeci">Callback&lt; R &gt; MakeCallback(R(T::*memPtr)(void), OBJ objPtr)</div><div class="ttdef"><b>Definition:</b> <a href="callback_8h_source.html#l01610">callback.h:1610</a></div></div>
<div class="ttc" id="ampdu-aggregator_8h_html"><div class="ttname"><a href="mpdu-aggregator_8h.html">mpdu-aggregator.h</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_mac_queue_item_html_aeb59c1e3b526361838d5d3a6f3035039"><div class="ttname"><a href="classns3_1_1_wifi_mac_queue_item.html#aeb59c1e3b526361838d5d3a6f3035039">ns3::WifiMacQueueItem::GetHeader</a></div><div class="ttdeci">const WifiMacHeader &amp; GetHeader(void) const</div><div class="ttdoc">Get the header stored in this item.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-mac-queue-item_8cc_source.html#l00062">wifi-mac-queue-item.cc:62</a></div></div>
<div class="ttc" id="aclassns3_1_1_phy_mac_low_listener_html_ad44562d3a6268b374d72abde27684dc4"><div class="ttname"><a href="classns3_1_1_phy_mac_low_listener.html#ad44562d3a6268b374d72abde27684dc4">ns3::PhyMacLowListener::NotifyTxStart</a></div><div class="ttdeci">void NotifyTxStart(Time duration, double txPowerDbm)</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00086">mac-low.cc:86</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a92532da5f910843337b8bbb51f551c03"><div class="ttname"><a href="classns3_1_1_mac_low.html#a92532da5f910843337b8bbb51f551c03">ns3::MacLow::SetBssid</a></div><div class="ttdeci">void SetBssid(Mac48Address ad)</div><div class="ttdoc">Set the Basic Service Set Identification.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00397">mac-low.cc:397</a></div></div>
<div class="ttc" id="aclassns3_1_1_txop_html_a4c3271887c9fb5dcb2ef61651a3a60de"><div class="ttname"><a href="classns3_1_1_txop.html#a4c3271887c9fb5dcb2ef61651a3a60de">ns3::Txop::GetTxopLimit</a></div><div class="ttdeci">Time GetTxopLimit(void) const</div><div class="ttdoc">Return the TXOP limit.</div><div class="ttdef"><b>Definition:</b> <a href="txop_8cc_source.html#l00302">txop.cc:302</a></div></div>
<div class="ttc" id="aclassns3_1_1_phy_mac_low_listener_html"><div class="ttname"><a href="classns3_1_1_phy_mac_low_listener.html">ns3::PhyMacLowListener</a></div><div class="ttdoc">Listener for PHY events.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00062">mac-low.cc:63</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_mac_header_html_ad5ce3997a84fa55ebe60dd927c37d526"><div class="ttname"><a href="classns3_1_1_wifi_mac_header.html#ad5ce3997a84fa55ebe60dd927c37d526">ns3::WifiMacHeader::GetSerializedSize</a></div><div class="ttdeci">uint32_t GetSerializedSize(void) const</div><div class="ttdef"><b>Definition:</b> <a href="wifi-mac-header_8cc_source.html#l01108">wifi-mac-header.cc:1108</a></div></div>
<div class="ttc" id="anamespacens3_html_af2a7557fe9afdd98d8f6f8f6e412cf5a"><div class="ttname"><a href="namespacens3.html#af2a7557fe9afdd98d8f6f8f6e412cf5a">ns3::PeekPointer</a></div><div class="ttdeci">U * PeekPointer(const Ptr&lt; U &gt; &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="ptr_8h_source.html#l00566">ptr.h:566</a></div></div>
<div class="ttc" id="aclassns3_1_1_type_id_html_abaaca67ab7d2471067e7c275df0f7309"><div class="ttname"><a href="classns3_1_1_type_id.html#abaaca67ab7d2471067e7c275df0f7309">ns3::TypeId::SetParent</a></div><div class="ttdeci">TypeId SetParent(TypeId tid)</div><div class="ttdoc">Set the parent TypeId.</div><div class="ttdef"><b>Definition:</b> <a href="type-id_8cc_source.html#l00923">type-id.cc:923</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_remote_station_manager_html_a9864b09190adb8e2b0c2d3658eacc6ce"><div class="ttname"><a href="classns3_1_1_wifi_remote_station_manager.html#a9864b09190adb8e2b0c2d3658eacc6ce">ns3::WifiRemoteStationManager::GetShortPreambleEnabled</a></div><div class="ttdeci">bool GetShortPreambleEnabled(void) const</div><div class="ttdoc">Return whether the device uses short PHY preambles.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-remote-station-manager_8cc_source.html#l00238">wifi-remote-station-manager.cc:238</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a939a71bf7296a87bfc5bf2eb8b026b4b"><div class="ttname"><a href="classns3_1_1_mac_low.html#a939a71bf7296a87bfc5bf2eb8b026b4b">ns3::MacLow::m_lastNavDuration</a></div><div class="ttdeci">Time m_lastNavDuration</div><div class="ttdoc">The duration of the latest NAV.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8h_source.html#l00948">mac-low.h:948</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a68c30ffb5ff64c0fa1defcfe6d751907"><div class="ttname"><a href="classns3_1_1_mac_low.html#a68c30ffb5ff64c0fa1defcfe6d751907">ns3::MacLow::SendDataAfterCts</a></div><div class="ttdeci">void SendDataAfterCts(Time duration)</div><div class="ttdoc">Send Data after receiving CTS.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l02086">mac-low.cc:2086</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_ad13beb74b1519291ee00d14f1d532fdb"><div class="ttname"><a href="classns3_1_1_mac_low.html#ad13beb74b1519291ee00d14f1d532fdb">ns3::MacLow::m_promisc</a></div><div class="ttdeci">bool m_promisc</div><div class="ttdoc">Flag if the device is operating in promiscuous mode.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8h_source.html#l00954">mac-low.h:954</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_aaa82a9f5d9971541a7135f39c4287104"><div class="ttname"><a href="classns3_1_1_mac_low.html#aaa82a9f5d9971541a7135f39c4287104">ns3::MacLow::GetAckTxVectorForData</a></div><div class="ttdeci">WifiTxVector GetAckTxVectorForData(Mac48Address to, WifiMode dataTxMode) const</div><div class="ttdoc">Return a TXVECTOR for the BlockAck frame given the destination and the mode of the Data used by the s...</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l01513">mac-low.cc:1513</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a3dcd869eb3025e81c85799a1396ead65"><div class="ttname"><a href="classns3_1_1_mac_low.html#a3dcd869eb3025e81c85799a1396ead65">ns3::MacLow::m_beaconInterval</a></div><div class="ttdeci">Time m_beaconInterval</div><div class="ttdoc">Expected interval between two beacon transmissions.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8h_source.html#l00944">mac-low.h:944</a></div></div>
<div class="ttc" id="aclassns3_1_1_block_ack_agreement_html_a10cc1c1547def33759fd958ff5cfe8b2"><div class="ttname"><a href="classns3_1_1_block_ack_agreement.html#a10cc1c1547def33759fd958ff5cfe8b2">ns3::BlockAckAgreement::SetImmediateBlockAck</a></div><div class="ttdeci">void SetImmediateBlockAck(void)</div><div class="ttdoc">Set block ack policy to immediate Ack.</div><div class="ttdef"><b>Definition:</b> <a href="block-ack-agreement_8cc_source.html#l00079">block-ack-agreement.cc:79</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a209c346576d367ef16cfa1cfdefff909"><div class="ttname"><a href="classns3_1_1_mac_low.html#a209c346576d367ef16cfa1cfdefff909">ns3::MacLow::SendCtsToSelf</a></div><div class="ttdeci">void SendCtsToSelf(void)</div><div class="ttdoc">Send CTS for a CTS-to-self mechanism.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l02017">mac-low.cc:2017</a></div></div>
<div class="ttc" id="aclassns3_1_1_phy_mac_low_listener_html_a92034f5f848364d14279db14de7a5168"><div class="ttname"><a href="classns3_1_1_phy_mac_low_listener.html#a92034f5f848364d14279db14de7a5168">ns3::PhyMacLowListener::NotifyOff</a></div><div class="ttdeci">void NotifyOff(void)</div><div class="ttdoc">Notify listeners that we went to switch off.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00100">mac-low.cc:100</a></div></div>
<div class="ttc" id="aclassns3_1_1_block_ack_agreement_html"><div class="ttname"><a href="classns3_1_1_block_ack_agreement.html">ns3::BlockAckAgreement</a></div><div class="ttdoc">Maintains information for a block ack agreement.</div><div class="ttdef"><b>Definition:</b> <a href="block-ack-agreement_8h_source.html#l00032">block-ack-agreement.h:33</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_phy_html_a0f6d4a763fceaf0df59ddf67628c8d99"><div class="ttname"><a href="classns3_1_1_wifi_phy.html#a0f6d4a763fceaf0df59ddf67628c8d99">ns3::WifiPhy::IsStateTx</a></div><div class="ttdeci">bool IsStateTx(void) const</div><div class="ttdef"><b>Definition:</b> <a href="wifi-phy_8cc_source.html#l04048">wifi-phy.cc:4048</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_ace1131b4f6ea4f1d74a7c0ba470c84ac"><div class="ttname"><a href="classns3_1_1_mac_low.html#ace1131b4f6ea4f1d74a7c0ba470c84ac">ns3::MacLow::BlockAckTimeout</a></div><div class="ttdeci">void BlockAckTimeout(void)</div><div class="ttdoc">Event handler when BlockAck timeout occurs.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l01803">mac-low.cc:1803</a></div></div>
<div class="ttc" id="anamespacens3_html_a03cffd5db73b02dd9a2f0e96added790"><div class="ttname"><a href="namespacens3.html#a03cffd5db73b02dd9a2f0e96added790">ns3::GetPpduMaxTime</a></div><div class="ttdeci">Time GetPpduMaxTime(WifiPreamble preamble)</div><div class="ttdoc">Get the maximum PPDU duration (see Section 10.14 of 802.11-2016) for the PHY layers defining the aPPD...</div><div class="ttdef"><b>Definition:</b> <a href="wifi-utils_8cc_source.html#l00254">wifi-utils.cc:254</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_afb4a9a2b443271b3dab4091c3e7190c7"><div class="ttname"><a href="classns3_1_1_mac_low.html#afb4a9a2b443271b3dab4091c3e7190c7">ns3::MacLow::m_rifs</a></div><div class="ttdeci">Time m_rifs</div><div class="ttdoc">Reduced Interframe Space (RIFS) duration.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8h_source.html#l00942">mac-low.h:942</a></div></div>
<div class="ttc" id="aclassns3_1_1_qos_txop_html_aa05a8b97a1b5f7bb4589ad12ac2c08c5"><div class="ttname"><a href="classns3_1_1_qos_txop.html#aa05a8b97a1b5f7bb4589ad12ac2c08c5">ns3::QosTxop::SendDelbaFrame</a></div><div class="ttdeci">void SendDelbaFrame(Mac48Address addr, uint8_t tid, bool byOriginator)</div><div class="ttdoc">Sends DELBA frame to cancel a block ack agreement with STA addressed by addr for TID tid.</div><div class="ttdef"><b>Definition:</b> <a href="qos-txop_8cc_source.html#l01646">qos-txop.cc:1646</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_ae8b9fcc1f36a09a2b865fe2bd08a1411"><div class="ttname"><a href="classns3_1_1_mac_low.html#ae8b9fcc1f36a09a2b865fe2bd08a1411">ns3::MacLow::SetMsduAggregator</a></div><div class="ttdeci">void SetMsduAggregator(const Ptr&lt; MsduAggregator &gt; aggr)</div><div class="ttdoc">Set the aggregator used to construct A-MSDU subframes.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00311">mac-low.cc:311</a></div></div>
<div class="ttc" id="awifi-mac_8h_html"><div class="ttname"><a href="wifi-mac_8h.html">wifi-mac.h</a></div></div>
<div class="ttc" id="awifi-mac-queue_8h_html"><div class="ttname"><a href="wifi-mac-queue_8h.html">wifi-mac-queue.h</a></div></div>
<div class="ttc" id="amac-low_8cc_html_ac1c8731250d1476ba7330187c2edd297"><div class="ttname"><a href="mac-low_8cc.html#ac1c8731250d1476ba7330187c2edd297">PSDU_DURATION_SAFEGUARD</a></div><div class="ttdeci">#define PSDU_DURATION_SAFEGUARD</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00054">mac-low.cc:53</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_mac_header_html_a6478a02b80d5c01657714c5c7a0ae1cb"><div class="ttname"><a href="classns3_1_1_wifi_mac_header.html#a6478a02b80d5c01657714c5c7a0ae1cb">ns3::WifiMacHeader::SetAddr1</a></div><div class="ttdeci">void SetAddr1(Mac48Address address)</div><div class="ttdoc">Fill the Address 1 field with the given address.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-mac-header_8cc_source.html#l00090">wifi-mac-header.cc:90</a></div></div>
<div class="ttc" id="aclassns3_1_1_block_ack_agreement_html_a3bb6c5de52f721d50b59d9299094f85c"><div class="ttname"><a href="classns3_1_1_block_ack_agreement.html#a3bb6c5de52f721d50b59d9299094f85c">ns3::BlockAckAgreement::GetTimeout</a></div><div class="ttdeci">uint16_t GetTimeout(void) const</div><div class="ttdoc">Return the timeout.</div><div class="ttdef"><b>Definition:</b> <a href="block-ack-agreement_8cc_source.html#l00119">block-ack-agreement.cc:119</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a8a11f1b12b7dc41fba389b1b480c55f9"><div class="ttname"><a href="classns3_1_1_mac_low.html#a8a11f1b12b7dc41fba389b1b480c55f9">ns3::MacLow::NotifyNav</a></div><div class="ttdeci">void NotifyNav(Ptr&lt; const Packet &gt; packet, const WifiMacHeader &amp;hdr)</div><div class="ttdoc">Notify NAV function.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l01573">mac-low.cc:1573</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_mac_header_html_a7c2f88bdefc903df253eef1e5b7bf2af"><div class="ttname"><a href="classns3_1_1_wifi_mac_header.html#a7c2f88bdefc903df253eef1e5b7bf2af">ns3::WifiMacHeader::GetTypeString</a></div><div class="ttdeci">const char * GetTypeString(void) const</div><div class="ttdoc">Return a string corresponds to the header type.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-mac-header_8cc_source.html#l00932">wifi-mac-header.cc:932</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_afc60cdc4693e2fb6b2257aa015b9ec30"><div class="ttname"><a href="classns3_1_1_mac_low.html#afc60cdc4693e2fb6b2257aa015b9ec30">ns3::MacLow::RemovePhyMacLowListener</a></div><div class="ttdeci">void RemovePhyMacLowListener(Ptr&lt; WifiPhy &gt; phy)</div><div class="ttdoc">Remove current WifiPhy listener for this MacLow.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00167">mac-low.cc:167</a></div></div>
<div class="ttc" id="anamespacens3_html_a653be81d3cd5994b5f79044abaea458e"><div class="ttname"><a href="namespacens3.html#a653be81d3cd5994b5f79044abaea458e">ns3::GetAckSize</a></div><div class="ttdeci">uint32_t GetAckSize(void)</div><div class="ttdoc">Return the total Ack size (including FCS trailer).</div><div class="ttdef"><b>Definition:</b> <a href="wifi-utils_8cc_source.html#l00181">wifi-utils.cc:181</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a115cd42f0f4a32f94c7cf80f3ad8efe9"><div class="ttname"><a href="classns3_1_1_mac_low.html#a115cd42f0f4a32f94c7cf80f3ad8efe9">ns3::MacLow::m_pifs</a></div><div class="ttdeci">Time m_pifs</div><div class="ttdoc">PCF Interframe Space (PIFS) duration.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8h_source.html#l00941">mac-low.h:941</a></div></div>
<div class="ttc" id="aclassns3_1_1_ctrl_b_ack_request_header_html_a858b7852315773c514d5bf6d420f0f22"><div class="ttname"><a href="classns3_1_1_ctrl_b_ack_request_header.html#a858b7852315773c514d5bf6d420f0f22">ns3::CtrlBAckRequestHeader::IsCompressed</a></div><div class="ttdeci">bool IsCompressed(void) const</div><div class="ttdoc">Check if the current Ack Policy is Compressed Block Ack and not multi-TID.</div><div class="ttdef"><b>Definition:</b> <a href="ctrl-headers_8cc_source.html#l00246">ctrl-headers.cc:246</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_mac_trailer_html_a8a3daec73a290310de86f9d3165c5146"><div class="ttname"><a href="classns3_1_1_wifi_mac_trailer.html#a8a3daec73a290310de86f9d3165c5146">ns3::WifiMacTrailer::GetSerializedSize</a></div><div class="ttdeci">uint32_t GetSerializedSize(void) const</div><div class="ttdef"><b>Definition:</b> <a href="wifi-mac-trailer_8cc_source.html#l00058">wifi-mac-trailer.cc:58</a></div></div>
<div class="ttc" id="awifi-psdu_8h_html"><div class="ttname"><a href="wifi-psdu_8h.html">wifi-psdu.h</a></div></div>
<div class="ttc" id="astructns3_1_1_mac_low_1_1_cf_ack_info_html_a2c6eef8471b382b88bcba6cc26fa4668"><div class="ttname"><a href="structns3_1_1_mac_low_1_1_cf_ack_info.html#a2c6eef8471b382b88bcba6cc26fa4668">ns3::MacLow::CfAckInfo::address</a></div><div class="ttdeci">Mac48Address address</div><div class="ttdoc">Address of the station to be acknowledged.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8h_source.html#l00905">mac-low.h:905</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_mac_header_html"><div class="ttname"><a href="classns3_1_1_wifi_mac_header.html">ns3::WifiMacHeader</a></div><div class="ttdef"><b>Definition:</b> <a href="wifi-mac-header_8h_source.html#l00083">wifi-mac-header.h:84</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_abbd1aac31c7ed79f717b9c92cb664608"><div class="ttname"><a href="classns3_1_1_mac_low.html#abbd1aac31c7ed79f717b9c92cb664608">ns3::MacLow::SetPhy</a></div><div class="ttdeci">void SetPhy(const Ptr&lt; WifiPhy &gt; phy)</div><div class="ttdoc">Set up WifiPhy associated with this MacLow.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00253">mac-low.cc:253</a></div></div>
<div class="ttc" id="aclassns3_1_1_block_ack_cache_html"><div class="ttname"><a href="classns3_1_1_block_ack_cache.html">ns3::BlockAckCache</a></div><div class="ttdoc">BlockAckCache cache.</div><div class="ttdef"><b>Definition:</b> <a href="block-ack-cache_8h_source.html#l00036">block-ack-cache.h:37</a></div></div>
<div class="ttc" id="amgt-headers_8h_html"><div class="ttname"><a href="mgt-headers_8h.html">mgt-headers.h</a></div></div>
<div class="ttc" id="aclassns3_1_1_time_html_a1f1f3acb86e4ed17643ef4a9ed1564fe"><div class="ttname"><a href="classns3_1_1_time.html#a1f1f3acb86e4ed17643ef4a9ed1564fe">ns3::Time::ToDouble</a></div><div class="ttdeci">double ToDouble(enum Unit unit) const</div><div class="ttdoc">Get the Time value expressed in a particular unit.</div><div class="ttdef"><b>Definition:</b> <a href="nstime_8h_source.html#l00511">nstime.h:511</a></div></div>
<div class="ttc" id="aclassns3_1_1_ptr_html"><div class="ttname"><a href="classns3_1_1_ptr.html">ns3::Ptr&lt; WifiPhy &gt;</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a2fffa82ad11ebe0e113232813a816eff"><div class="ttname"><a href="classns3_1_1_mac_low.html#a2fffa82ad11ebe0e113232813a816eff">ns3::MacLow::ReceiveOk</a></div><div class="ttdeci">void ReceiveOk(Ptr&lt; WifiMacQueueItem &gt; mpdu, double rxSnr, WifiTxVector txVector, bool ampduSubframe)</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00823">mac-low.cc:823</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a8d666357756bbc5ea2d1b7fac3a5e938"><div class="ttname"><a href="classns3_1_1_mac_low.html#a8d666357756bbc5ea2d1b7fac3a5e938">ns3::MacLow::AgreementKey</a></div><div class="ttdeci">std::pair&lt; Mac48Address, uint8_t &gt; AgreementKey</div><div class="ttdoc">agreement key typedef</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8h_source.html#l00963">mac-low.h:963</a></div></div>
<div class="ttc" id="agroup__fatal_html_ga5131d5e3f75d7d4cbfd706ac456fdc85"><div class="ttname"><a href="group__fatal.html#ga5131d5e3f75d7d4cbfd706ac456fdc85">NS_FATAL_ERROR</a></div><div class="ttdeci">#define NS_FATAL_ERROR(msg)</div><div class="ttdoc">Report a fatal error with a message and terminate.</div><div class="ttdef"><b>Definition:</b> <a href="fatal-error_8h_source.html#l00163">fatal-error.h:162</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a5607ecee6bb1d6a26e1a373e85b2f3d3"><div class="ttname"><a href="classns3_1_1_mac_low.html#a5607ecee6bb1d6a26e1a373e85b2f3d3">ns3::MacLow::SetCtsToSelfSupported</a></div><div class="ttdeci">void SetCtsToSelfSupported(bool enable)</div><div class="ttdoc">Enable or disable CTS-to-self capability.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00349">mac-low.cc:349</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_af0a861b5fd21d55283eb7ed461a87b24"><div class="ttname"><a href="classns3_1_1_mac_low.html#af0a861b5fd21d55283eb7ed461a87b24">ns3::MacLow::SetCfpMaxDuration</a></div><div class="ttdeci">void SetCfpMaxDuration(Time duration)</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00391">mac-low.cc:391</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a6ef95dfa5571e843bd91d5b26c658c82"><div class="ttname"><a href="classns3_1_1_mac_low.html#a6ef95dfa5571e843bd91d5b26c658c82">ns3::MacLow::SetRifs</a></div><div class="ttdeci">void SetRifs(Time rifs)</div><div class="ttdoc">Set Reduced Interframe Space (RIFS) of this MacLow.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00379">mac-low.cc:379</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_transmission_parameters_html_ae09e5316ed859ddca19bfbaec3b07704"><div class="ttname"><a href="classns3_1_1_mac_low_transmission_parameters.html#ae09e5316ed859ddca19bfbaec3b07704">ns3::MacLowTransmissionParameters::DisableAck</a></div><div class="ttdeci">void DisableAck(void)</div><div class="ttdoc">Do not wait for Ack after data transmission.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low-transmission-parameters_8cc_source.html#l00108">mac-low-transmission-parameters.cc:108</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a3494d845008031776854708267762014"><div class="ttname"><a href="classns3_1_1_mac_low.html#a3494d845008031776854708267762014">ns3::MacLow::SetMpduAggregator</a></div><div class="ttdeci">void SetMpduAggregator(const Ptr&lt; MpduAggregator &gt; aggr)</div><div class="ttdoc">Set the aggregator used to construct A-MPDU subframes.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00318">mac-low.cc:318</a></div></div>
<div class="ttc" id="aclassns3_1_1_mgt_add_ba_response_header_html_ac6a22733d007a7f6d46b7d247d72999a"><div class="ttname"><a href="classns3_1_1_mgt_add_ba_response_header.html#ac6a22733d007a7f6d46b7d247d72999a">ns3::MgtAddBaResponseHeader::GetTid</a></div><div class="ttdeci">uint8_t GetTid(void) const</div><div class="ttdoc">Return the Traffic ID (TID).</div><div class="ttdef"><b>Definition:</b> <a href="mgt-headers_8cc_source.html#l01741">mgt-headers.cc:1741</a></div></div>
<div class="ttc" id="actrl-headers_8h_html"><div class="ttname"><a href="ctrl-headers_8h.html">ctrl-headers.h</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a6bbec29d05649f48e4aa4cc87fc8d478"><div class="ttname"><a href="classns3_1_1_mac_low.html#a6bbec29d05649f48e4aa4cc87fc8d478">ns3::MacLow::GetCompressedBlockAckTimeout</a></div><div class="ttdeci">Time GetCompressedBlockAckTimeout(void) const</div><div class="ttdoc">Return Compressed BlockAck timeout of this MacLow.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00427">mac-low.cc:427</a></div></div>
<div class="ttc" id="aclassns3_1_1_phy_mac_low_listener_html_a7206127f5f3023daed5f01d30deb3c1e"><div class="ttname"><a href="classns3_1_1_phy_mac_low_listener.html#a7206127f5f3023daed5f01d30deb3c1e">ns3::PhyMacLowListener::NotifyMaybeCcaBusyStart</a></div><div class="ttdeci">void NotifyMaybeCcaBusyStart(Time duration)</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00089">mac-low.cc:89</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_mac_header_html_a97830b03ca05944b92bff4defed50716"><div class="ttname"><a href="classns3_1_1_wifi_mac_header.html#a97830b03ca05944b92bff4defed50716">ns3::WifiMacHeader::IsBlockAckReq</a></div><div class="ttdeci">bool IsBlockAckReq(void) const</div><div class="ttdoc">Return true if the header is a BlockAckRequest header.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-mac-header_8cc_source.html#l00710">wifi-mac-header.cc:710</a></div></div>
<div class="ttc" id="aclassns3_1_1_event_id_html_a8b41e6f8c54db6bede8a7dcaf917074a"><div class="ttname"><a href="classns3_1_1_event_id.html#a8b41e6f8c54db6bede8a7dcaf917074a">ns3::EventId::IsRunning</a></div><div class="ttdeci">bool IsRunning(void) const</div><div class="ttdoc">This method is syntactic sugar for !IsExpired().</div><div class="ttdef"><b>Definition:</b> <a href="event-id_8cc_source.html#l00065">event-id.cc:65</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a23004ca5405c82111f5b20eec03b3d9a"><div class="ttname"><a href="classns3_1_1_mac_low.html#a23004ca5405c82111f5b20eec03b3d9a">ns3::MacLow::m_self</a></div><div class="ttdeci">Mac48Address m_self</div><div class="ttdoc">Address of this MacLow (Mac48Address)</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8h_source.html#l00934">mac-low.h:934</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_af229071387e235021ca611b8b3c2b476"><div class="ttname"><a href="classns3_1_1_mac_low.html#af229071387e235021ca611b8b3c2b476">ns3::MacLow::m_cfpForeshortening</a></div><div class="ttdeci">Time m_cfpForeshortening</div><div class="ttdoc">The delay the current CF period should be foreshortened.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8h_source.html#l00952">mac-low.h:952</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_ace17475855332c9260bbe2a1df29fc05"><div class="ttname"><a href="classns3_1_1_mac_low.html#ace17475855332c9260bbe2a1df29fc05">ns3::MacLow::IsNavZero</a></div><div class="ttdeci">bool IsNavZero(void) const</div><div class="ttdoc">Check if NAV is zero.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l02011">mac-low.cc:2011</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a501a55ed9df40e8983e09cd2212b81cc"><div class="ttname"><a href="classns3_1_1_mac_low.html#a501a55ed9df40e8983e09cd2212b81cc">ns3::MacLow::m_cfpStart</a></div><div class="ttdeci">Time m_cfpStart</div><div class="ttdoc">The time when the latest CF period started.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8h_source.html#l00950">mac-low.h:950</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_remote_station_manager_html_ad3844da681fd76f907293f5ff45187ec"><div class="ttname"><a href="classns3_1_1_wifi_remote_station_manager.html#ad3844da681fd76f907293f5ff45187ec">ns3::WifiRemoteStationManager::ReportRtsFailed</a></div><div class="ttdeci">void ReportRtsFailed(Mac48Address address, const WifiMacHeader *header)</div><div class="ttdoc">Should be invoked whenever the RtsTimeout associated to a transmission attempt expires.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-remote-station-manager_8cc_source.html#l00683">wifi-remote-station-manager.cc:683</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a3d625c27f8412d2f6b2401d46a64f040"><div class="ttname"><a href="classns3_1_1_mac_low.html#a3d625c27f8412d2f6b2401d46a64f040">ns3::MacLow::NotifyAckTimeoutResetNow</a></div><div class="ttdeci">void NotifyAckTimeoutResetNow(void)</div><div class="ttdoc">Notify ChannelAccessManager that Ack timer should be reset.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l01657">mac-low.cc:1657</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_aa6ae64427a226a80a437e3ea12a57ec5"><div class="ttname"><a href="classns3_1_1_mac_low.html#aa6ae64427a226a80a437e3ea12a57ec5">ns3::MacLow::GetBasicBlockAckTimeout</a></div><div class="ttdeci">Time GetBasicBlockAckTimeout(void) const</div><div class="ttdoc">Return Basic BlockAck timeout of this MacLow.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00421">mac-low.cc:421</a></div></div>
<div class="ttc" id="anamespacens3_html_a9318472db39b35b2092de5c721e6ab0aa276147ffa7d0998e81df2a93bc0e3916"><div class="ttname"><a href="namespacens3.html#a9318472db39b35b2092de5c721e6ab0aa276147ffa7d0998e81df2a93bc0e3916">ns3::WIFI_MAC_DATA_NULL</a></div><div class="ttdeci">@ WIFI_MAC_DATA_NULL</div><div class="ttdef"><b>Definition:</b> <a href="wifi-mac-header_8h_source.html#l00065">wifi-mac-header.h:65</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_mode_html"><div class="ttname"><a href="classns3_1_1_wifi_mode.html">ns3::WifiMode</a></div><div class="ttdoc">represent a single transmission mode</div><div class="ttdef"><b>Definition:</b> <a href="wifi-mode_8h_source.html#l00097">wifi-mode.h:98</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a1de3cc66dcaa9f318fb1b2cffb108b01"><div class="ttname"><a href="classns3_1_1_mac_low.html#a1de3cc66dcaa9f318fb1b2cffb108b01">ns3::MacLow::m_ctsTimeoutEvent</a></div><div class="ttdeci">EventId m_ctsTimeoutEvent</div><div class="ttdoc">CTS timeout event.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8h_source.html#l00923">mac-low.h:923</a></div></div>
<div class="ttc" id="aclassns3_1_1_ctrl_b_ack_response_header_html_a4dae02f2802abe5a0b1546fa7ca99065"><div class="ttname"><a href="classns3_1_1_ctrl_b_ack_response_header.html#a4dae02f2802abe5a0b1546fa7ca99065">ns3::CtrlBAckResponseHeader::SetTidInfo</a></div><div class="ttdeci">void SetTidInfo(uint8_t tid)</div><div class="ttdoc">Set Traffic ID (TID).</div><div class="ttdef"><b>Definition:</b> <a href="ctrl-headers_8cc_source.html#l00394">ctrl-headers.cc:394</a></div></div>
<div class="ttc" id="a80211b_8c_html_affe776513b24d84b39af8ab0930fef7f"><div class="ttname"><a href="80211b_8c.html#affe776513b24d84b39af8ab0930fef7f">max</a></div><div class="ttdeci">#define max(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="80211b_8c_source.html#l00044">80211b.c:43</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_transmission_parameters_html_aa2db70f6786b7d0b9d9cc453b2292f2b"><div class="ttname"><a href="classns3_1_1_mac_low_transmission_parameters.html#aa2db70f6786b7d0b9d9cc453b2292f2b">ns3::MacLowTransmissionParameters::EnableAck</a></div><div class="ttdeci">void EnableAck(void)</div><div class="ttdoc">Wait ACKTimeout for an Ack.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low-transmission-parameters_8cc_source.html#l00100">mac-low-transmission-parameters.cc:100</a></div></div>
<div class="ttc" id="agroup__wifi_html_ga5cb9ea723837c5a036e622612f2d0bb0"><div class="ttname"><a href="group__wifi.html#ga5cb9ea723837c5a036e622612f2d0bb0">ns3::QosUtilsIsOldPacket</a></div><div class="ttdeci">bool QosUtilsIsOldPacket(uint16_t startingSeq, uint16_t seqNumber)</div><div class="ttdef"><b>Definition:</b> <a href="qos-utils_8cc_source.html#l00084">qos-utils.cc:84</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a57b40499d27ce4a39651572c1472b121"><div class="ttname"><a href="classns3_1_1_mac_low.html#a57b40499d27ce4a39651572c1472b121">ns3::MacLow::m_cfAckInfo</a></div><div class="ttdeci">CfAckInfo m_cfAckInfo</div><div class="ttdoc">Info about piggyback Acks used in PCF.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8h_source.html#l00981">mac-low.h:981</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a36761d1d6c972817b9e2361952180923"><div class="ttname"><a href="classns3_1_1_mac_low.html#a36761d1d6c972817b9e2361952180923">ns3::MacLow::m_bssid</a></div><div class="ttdeci">Mac48Address m_bssid</div><div class="ttdoc">BSSID address (Mac48Address)</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8h_source.html#l00935">mac-low.h:935</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a1c49aaf243c751beb27655a0c5e72b86"><div class="ttname"><a href="classns3_1_1_mac_low.html#a1c49aaf243c751beb27655a0c5e72b86">ns3::MacLow::m_phyMacLowListener</a></div><div class="ttdeci">class PhyMacLowListener * m_phyMacLowListener</div><div class="ttdoc">Listener needed to monitor when a channel switching occurs.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8h_source.html#l00956">mac-low.h:956</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_phy_html_a50d71b88c866ecfc18cd4006f1a9d2ae"><div class="ttname"><a href="classns3_1_1_wifi_phy.html#a50d71b88c866ecfc18cd4006f1a9d2ae">ns3::WifiPhy::SetReceiveErrorCallback</a></div><div class="ttdeci">void SetReceiveErrorCallback(RxErrorCallback callback)</div><div class="ttdef"><b>Definition:</b> <a href="wifi-phy_8cc_source.html#l00464">wifi-phy.cc:464</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_ae7f7693d58465743e13315e405f61c53"><div class="ttname"><a href="classns3_1_1_mac_low.html#ae7f7693d58465743e13315e405f61c53">ns3::MacLow::GetMpduAggregator</a></div><div class="ttdeci">Ptr&lt; MpduAggregator &gt; GetMpduAggregator(void) const</div><div class="ttdoc">Returns the aggregator used to construct A-MPDU subframes.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00305">mac-low.cc:305</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_aebcd4c3e8d64fb53af1f8a862c766e33"><div class="ttname"><a href="classns3_1_1_mac_low.html#aebcd4c3e8d64fb53af1f8a862c766e33">ns3::MacLow::SendCtsAfterRts</a></div><div class="ttdeci">void SendCtsAfterRts(Mac48Address source, Time duration, WifiTxVector rtsTxVector, double rtsSnr)</div><div class="ttdoc">Send CTS after receiving RTS.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l02056">mac-low.cc:2056</a></div></div>
<div class="ttc" id="agroup__timecivil_html_ga281d64bcb4dad96267d83c7688ec433f"><div class="ttname"><a href="group__timecivil.html#ga281d64bcb4dad96267d83c7688ec433f">ns3::NanoSeconds</a></div><div class="ttdeci">Time NanoSeconds(uint64_t value)</div><div class="ttdef"><b>Definition:</b> <a href="nstime_8h_source.html#l01094">nstime.h:1094</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_aaed81a6cbf94baf2b2f17b9f96b8474d"><div class="ttname"><a href="classns3_1_1_mac_low.html#aaed81a6cbf94baf2b2f17b9f96b8474d">ns3::MacLow::RxCompleteBufferedPacketsWithSmallerSequence</a></div><div class="ttdeci">void RxCompleteBufferedPacketsWithSmallerSequence(uint16_t seq, Mac48Address originator, uint8_t tid)</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l02317">mac-low.cc:2317</a></div></div>
<div class="ttc" id="aclassns3_1_1_object_html"><div class="ttname"><a href="classns3_1_1_object.html">ns3::Object</a></div><div class="ttdoc">A base class which provides memory management and object aggregation.</div><div class="ttdef"><b>Definition:</b> <a href="object_8h_source.html#l00087">object.h:88</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a5aef4547e2a6ddad9c85d55bf77e43b1"><div class="ttname"><a href="classns3_1_1_mac_low.html#a5aef4547e2a6ddad9c85d55bf77e43b1">ns3::MacLow::m_navCounterResetCtsMissed</a></div><div class="ttdeci">EventId m_navCounterResetCtsMissed</div><div class="ttdoc">Event to reset NAV when CTS is not received.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8h_source.html#l00929">mac-low.h:929</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a7fcedfbd193e2ce2c96d59b464e86966"><div class="ttname"><a href="classns3_1_1_mac_low.html#a7fcedfbd193e2ce2c96d59b464e86966">ns3::MacLow::SetRxCallback</a></div><div class="ttdeci">void SetRxCallback(Callback&lt; void, Ptr&lt; WifiMacQueueItem &gt;&gt; callback)</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00481">mac-low.cc:481</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_remote_station_manager_html_aced390304611226a99f37dcfefd45f33"><div class="ttname"><a href="classns3_1_1_wifi_remote_station_manager.html#aced390304611226a99f37dcfefd45f33">ns3::WifiRemoteStationManager::Reset</a></div><div class="ttdeci">void Reset(void)</div><div class="ttdoc">Reset the station, invoked in a STA upon dis-association or in an AP upon reboot.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-remote-station-manager_8cc_source.html#l01317">wifi-remote-station-manager.cc:1317</a></div></div>
<div class="ttc" id="aclassns3_1_1_txop_html_aecada58e9b31c3e42f143978567acac8"><div class="ttname"><a href="classns3_1_1_txop.html#aecada58e9b31c3e42f143978567acac8">ns3::Txop::StartNextFragment</a></div><div class="ttdeci">virtual void StartNextFragment(void)</div><div class="ttdoc">Start transmission for the next fragment.</div><div class="ttdef"><b>Definition:</b> <a href="txop_8cc_source.html#l00737">txop.cc:737</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_afbed28d856f8af3b560c18e336538a4a"><div class="ttname"><a href="classns3_1_1_mac_low.html#afbed28d856f8af3b560c18e336538a4a">ns3::MacLow::SetupPhyMacLowListener</a></div><div class="ttdeci">void SetupPhyMacLowListener(const Ptr&lt; WifiPhy &gt; phy)</div><div class="ttdoc">Set up WifiPhy listener for this MacLow.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00160">mac-low.cc:160</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a348f7690a2c9c52f4855a155e1ba9979"><div class="ttname"><a href="classns3_1_1_mac_low.html#a348f7690a2c9c52f4855a155e1ba9979">ns3::MacLow::GetCtsToSelfSupported</a></div><div class="ttdeci">bool GetCtsToSelfSupported(void) const</div><div class="ttdoc">Return whether CTS-to-self capability is supported.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00355">mac-low.cc:355</a></div></div>
<div class="ttc" id="awifi-net-device_8h_html"><div class="ttname"><a href="wifi-net-device_8h.html">wifi-net-device.h</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_aae92b06e39370714db8e6275ccc71e7f"><div class="ttname"><a href="classns3_1_1_mac_low.html#aae92b06e39370714db8e6275ccc71e7f">ns3::MacLow::m_cfpMaxDuration</a></div><div class="ttdeci">Time m_cfpMaxDuration</div><div class="ttdoc">CFP max duration.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8h_source.html#l00945">mac-low.h:945</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a5889cbf3ea77554b9eb0cf1a618a2db8"><div class="ttname"><a href="classns3_1_1_mac_low.html#a5889cbf3ea77554b9eb0cf1a618a2db8">ns3::MacLow::m_ackTimeout</a></div><div class="ttdeci">Time m_ackTimeout</div><div class="ttdoc">Ack timeout duration.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8h_source.html#l00936">mac-low.h:936</a></div></div>
<div class="ttc" id="aclassns3_1_1_block_ack_agreement_html_a2f56c7e0bdb3bcd0f3aea53b61347374"><div class="ttname"><a href="classns3_1_1_block_ack_agreement.html#a2f56c7e0bdb3bcd0f3aea53b61347374">ns3::BlockAckAgreement::GetPeer</a></div><div class="ttdeci">Mac48Address GetPeer(void) const</div><div class="ttdoc">Return the peer address.</div><div class="ttdef"><b>Definition:</b> <a href="block-ack-agreement_8cc_source.html#l00106">block-ack-agreement.cc:106</a></div></div>
<div class="ttc" id="agroup__wifi_html_ga4e36efcff6dd83eaee42e1af0de43d48"><div class="ttname"><a href="group__wifi.html#ga4e36efcff6dd83eaee42e1af0de43d48">ns3::QosUtilsMapTidToAc</a></div><div class="ttdeci">AcIndex QosUtilsMapTidToAc(uint8_t tid)</div><div class="ttdef"><b>Definition:</b> <a href="qos-utils_8cc_source.html#l00032">qos-utils.cc:32</a></div></div>
<div class="ttc" id="aclassns3_1_1_phy_mac_low_listener_html_a869b03f9f62df72e92f204c96b0119d0"><div class="ttname"><a href="classns3_1_1_phy_mac_low_listener.html#a869b03f9f62df72e92f204c96b0119d0">ns3::PhyMacLowListener::NotifySwitchingStart</a></div><div class="ttdeci">void NotifySwitchingStart(Time duration)</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00092">mac-low.cc:92</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac48_address_html_a89506622bfa63c3b1a7d5d82e2dbbd2d"><div class="ttname"><a href="classns3_1_1_mac48_address.html#a89506622bfa63c3b1a7d5d82e2dbbd2d">ns3::Mac48Address::IsBroadcast</a></div><div class="ttdeci">bool IsBroadcast(void) const</div><div class="ttdef"><b>Definition:</b> <a href="mac48-address_8cc_source.html#l00158">mac48-address.cc:158</a></div></div>
<div class="ttc" id="anamespacens3_html_a979caa1d7cbfc08ececb6fd3ad561e26"><div class="ttname"><a href="namespacens3.html#a979caa1d7cbfc08ececb6fd3ad561e26">ns3::ConvertGuardIntervalToNanoSeconds</a></div><div class="ttdeci">uint16_t ConvertGuardIntervalToNanoSeconds(WifiMode mode, const Ptr&lt; WifiNetDevice &gt; device)</div><div class="ttdoc">Convert the guard interval to nanoseconds based on the WifiMode.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-utils_8cc_source.html#l00071">wifi-utils.cc:71</a></div></div>
<div class="ttc" id="aclassns3_1_1_phy_mac_low_listener_html_a36a2f7a3775eaf5001c1555c64671baf"><div class="ttname"><a href="classns3_1_1_phy_mac_low_listener.html#a36a2f7a3775eaf5001c1555c64671baf">ns3::PhyMacLowListener::~PhyMacLowListener</a></div><div class="ttdeci">virtual ~PhyMacLowListener()</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00074">mac-low.cc:74</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_remote_station_manager_html_aa3179e61b1a06ff2d0cb0bdbc518e5a2"><div class="ttname"><a href="classns3_1_1_wifi_remote_station_manager.html#aa3179e61b1a06ff2d0cb0bdbc518e5a2">ns3::WifiRemoteStationManager::NeedCtsToSelf</a></div><div class="ttdeci">bool NeedCtsToSelf(WifiTxVector txVector)</div><div class="ttdoc">Return if we need to do CTS-to-self before sending a DATA.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-remote-station-manager_8cc_source.html#l00844">wifi-remote-station-manager.cc:844</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a3f6b0135f1179dd4cd5d2002f7355423"><div class="ttname"><a href="classns3_1_1_mac_low.html#a3f6b0135f1179dd4cd5d2002f7355423">ns3::MacLow::m_sendDataEvent</a></div><div class="ttdeci">EventId m_sendDataEvent</div><div class="ttdoc">Event to send Data.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8h_source.html#l00926">mac-low.h:926</a></div></div>
<div class="ttc" id="aclassns3_1_1_packet_html_a0961eccf975d75f902d40956c93ba63e"><div class="ttname"><a href="classns3_1_1_packet.html#a0961eccf975d75f902d40956c93ba63e">ns3::Packet::RemoveHeader</a></div><div class="ttdeci">uint32_t RemoveHeader(Header &amp;header)</div><div class="ttdoc">Deserialize and remove the header from the internal buffer.</div><div class="ttdef"><b>Definition:</b> <a href="packet_8cc_source.html#l00280">packet.cc:280</a></div></div>
<div class="ttc" id="aclassns3_1_1_event_id_html_a993ae94e48e014e1afd47edb16db7a11"><div class="ttname"><a href="classns3_1_1_event_id.html#a993ae94e48e014e1afd47edb16db7a11">ns3::EventId::Cancel</a></div><div class="ttdeci">void Cancel(void)</div><div class="ttdoc">This method is syntactic sugar for the ns3::Simulator::Cancel method.</div><div class="ttdef"><b>Definition:</b> <a href="event-id_8cc_source.html#l00053">event-id.cc:53</a></div></div>
<div class="ttc" id="aclassns3_1_1_phy_mac_low_listener_html_af15b5593550c1f8f042d25711bbdf640"><div class="ttname"><a href="classns3_1_1_phy_mac_low_listener.html#af15b5593550c1f8f042d25711bbdf640">ns3::PhyMacLowListener::NotifyOn</a></div><div class="ttdeci">void NotifyOn(void)</div><div class="ttdoc">Notify listeners that we went to switch on.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00107">mac-low.cc:107</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_mac_header_html_a213177655b35a50dabb6c571f52d0e98"><div class="ttname"><a href="classns3_1_1_wifi_mac_header.html#a213177655b35a50dabb6c571f52d0e98">ns3::WifiMacHeader::HasData</a></div><div class="ttdeci">bool HasData(void) const</div><div class="ttdoc">Return true if the header type is DATA and is not DATA_NULL.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-mac-header_8cc_source.html#l00601">wifi-mac-header.cc:601</a></div></div>
<div class="ttc" id="aclassns3_1_1_txop_html_a76ed6b61366d7c6797a6910d8ad4eaa5"><div class="ttname"><a href="classns3_1_1_txop.html#a76ed6b61366d7c6797a6910d8ad4eaa5">ns3::Txop::MissedAck</a></div><div class="ttdeci">virtual void MissedAck(void)</div><div class="ttdoc">Event handler when an Ack is missed.</div><div class="ttdef"><b>Definition:</b> <a href="txop_8cc_source.html#l00665">txop.cc:665</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a3f9121a1c2608442164419550ffa8ea5"><div class="ttname"><a href="classns3_1_1_mac_low.html#a3f9121a1c2608442164419550ffa8ea5">ns3::MacLow::SetBasicBlockAckTimeout</a></div><div class="ttdeci">void SetBasicBlockAckTimeout(Time blockAckTimeout)</div><div class="ttdoc">Set Basic BlockAck timeout of this MacLow.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00337">mac-low.cc:337</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_mac_header_html_a16f7fffa3791bb30ab760a98ec54afba"><div class="ttname"><a href="classns3_1_1_wifi_mac_header.html#a16f7fffa3791bb30ab760a98ec54afba">ns3::WifiMacHeader::IsBlockAck</a></div><div class="ttdeci">bool IsBlockAck(void) const</div><div class="ttdoc">Return true if the header is a BlockAck header.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-mac-header_8cc_source.html#l00716">wifi-mac-header.cc:716</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a9e44540e30598260fce5d85d5a6dda18"><div class="ttname"><a href="classns3_1_1_mac_low.html#a9e44540e30598260fce5d85d5a6dda18">ns3::MacLow::ReceiveError</a></div><div class="ttdeci">void ReceiveError(Ptr&lt; WifiPsdu &gt; psdu)</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00756">mac-low.cc:756</a></div></div>
<div class="ttc" id="agroup__wifi_html_gga90f436472d19d7d7f37cbf0b8c288ff7ad325114ff6e0d84c1d4cea5bd810a48c"><div class="ttname"><a href="group__wifi.html#gga90f436472d19d7d7f37cbf0b8c288ff7ad325114ff6e0d84c1d4cea5bd810a48c">ns3::COMPRESSED_BLOCK_ACK</a></div><div class="ttdeci">@ COMPRESSED_BLOCK_ACK</div><div class="ttdef"><b>Definition:</b> <a href="block-ack-type_8h_source.html#l00033">block-ack-type.h:33</a></div></div>
<div class="ttc" id="aclassns3_1_1_qos_txop_html_a08a5daf387b35d84c01ddc4c47d230c1"><div class="ttname"><a href="classns3_1_1_qos_txop.html#a08a5daf387b35d84c01ddc4c47d230c1">ns3::QosTxop::SetAmpduExist</a></div><div class="ttdeci">void SetAmpduExist(Mac48Address dest, bool enableAmpdu)</div><div class="ttdoc">Set indication whether A-MPDU is used to transmit data to a peer station.</div><div class="ttdef"><b>Definition:</b> <a href="qos-txop_8cc_source.html#l01516">qos-txop.cc:1516</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_abcc34d5e7e18f1f9df32adb248efccea"><div class="ttname"><a href="classns3_1_1_mac_low.html#abcc34d5e7e18f1f9df32adb248efccea">ns3::MacLow::DoNavResetNow</a></div><div class="ttdeci">void DoNavResetNow(Time duration)</div><div class="ttdoc">Reset NAV with the given duration.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l01618">mac-low.cc:1618</a></div></div>
<div class="ttc" id="agroup__wifi_html_gga90f436472d19d7d7f37cbf0b8c288ff7a6dfd3acd537ce39969be436b779bd724"><div class="ttname"><a href="group__wifi.html#gga90f436472d19d7d7f37cbf0b8c288ff7a6dfd3acd537ce39969be436b779bd724">ns3::EXTENDED_COMPRESSED_BLOCK_ACK</a></div><div class="ttdeci">@ EXTENDED_COMPRESSED_BLOCK_ACK</div><div class="ttdef"><b>Definition:</b> <a href="block-ack-type_8h_source.html#l00034">block-ack-type.h:34</a></div></div>
<div class="ttc" id="amac-low_8h_html"><div class="ttname"><a href="mac-low_8h.html">mac-low.h</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a3cb981924c8ab9855e5779792988dd21"><div class="ttname"><a href="classns3_1_1_mac_low.html#a3cb981924c8ab9855e5779792988dd21">ns3::MacLow::NeedCtsToSelf</a></div><div class="ttdeci">bool NeedCtsToSelf(void) const</div><div class="ttdoc">Check if CTS-to-self mechanism should be used for the current packet.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00645">mac-low.cc:645</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_phy_html_a6564e0e1e90982b5bb78898449f093e7"><div class="ttname"><a href="classns3_1_1_wifi_phy.html#a6564e0e1e90982b5bb78898449f093e7">ns3::WifiPhy::GetNMcs</a></div><div class="ttdeci">uint8_t GetNMcs(void) const</div><div class="ttdoc">The WifiPhy::GetNMcs() method is used (e.g., by a WifiRemoteStationManager) to determine the set of t...</div><div class="ttdef"><b>Definition:</b> <a href="wifi-phy_8cc_source.html#l03988">wifi-phy.cc:3988</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_tx_vector_html_aae65c13f3633fbf99f95084a49d4b39e"><div class="ttname"><a href="classns3_1_1_wifi_tx_vector.html#aae65c13f3633fbf99f95084a49d4b39e">ns3::WifiTxVector::IsAggregation</a></div><div class="ttdeci">bool IsAggregation(void) const</div><div class="ttdoc">Checks whether the PSDU contains A-MPDU.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-tx-vector_8cc_source.html#l00125">wifi-tx-vector.cc:125</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_mac_header_html_a368b97ef91b953af76794112fd3681c2"><div class="ttname"><a href="classns3_1_1_wifi_mac_header.html#a368b97ef91b953af76794112fd3681c2">ns3::WifiMacHeader::IsQosData</a></div><div class="ttdeci">bool IsQosData(void) const</div><div class="ttdoc">Return true if the Type is DATA and Subtype is one of the possible values for QoS Data.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-mac-header_8cc_source.html#l00534">wifi-mac-header.cc:534</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a17e509f5f61f862d9a49d01d7cf3a821"><div class="ttname"><a href="classns3_1_1_mac_low.html#a17e509f5f61f862d9a49d01d7cf3a821">ns3::MacLow::WaitIfsAfterEndTxPacket</a></div><div class="ttdeci">void WaitIfsAfterEndTxPacket(void)</div><div class="ttdoc">Event handler that is usually scheduled to fired at the appropriate time after sending a packet.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l02135">mac-low.cc:2135</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a77295a7a4b2e8787e8217f1e58b1746f"><div class="ttname"><a href="classns3_1_1_mac_low.html#a77295a7a4b2e8787e8217f1e58b1746f">ns3::MacLow::CalculateOverallTxTime</a></div><div class="ttdeci">Time CalculateOverallTxTime(Ptr&lt; const Packet &gt; packet, const WifiMacHeader *hdr, const MacLowTransmissionParameters &amp;params, uint32_t fragmentSize=0) const</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l01519">mac-low.cc:1519</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a5c4f4debe30b56507a057c89a693e26b"><div class="ttname"><a href="classns3_1_1_mac_low.html#a5c4f4debe30b56507a057c89a693e26b">ns3::MacLow::IsWithinSizeAndTimeLimits</a></div><div class="ttdeci">bool IsWithinSizeAndTimeLimits(Ptr&lt; const WifiMacQueueItem &gt; mpdu, WifiTxVector txVector, uint32_t ampduSize, Time ppduDurationLimit)</div><div class="ttdoc">Check whether the given MPDU, if transmitted according to the given TX vector, meets the constraint o...</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00652">mac-low.cc:652</a></div></div>
<div class="ttc" id="aclassns3_1_1_qos_txop_html_aca4454e7f7b309895c944e4e82069eda"><div class="ttname"><a href="classns3_1_1_qos_txop.html#aca4454e7f7b309895c944e4e82069eda">ns3::QosTxop::DequeuePeekedFrame</a></div><div class="ttdeci">Ptr&lt; WifiMacQueueItem &gt; DequeuePeekedFrame(Ptr&lt; const WifiMacQueueItem &gt; peekedItem, WifiTxVector txVector, bool aggregate=true, uint32_t ampduSize=0, Time ppduDurationLimit=Time::Min())</div><div class="ttdoc">Dequeue the frame that has been previously peeked by calling PeekNextFrame.</div><div class="ttdef"><b>Definition:</b> <a href="qos-txop_8cc_source.html#l00318">qos-txop.cc:318</a></div></div>
<div class="ttc" id="aclassns3_1_1_mgt_add_ba_response_header_html_a6ab3150c36814d89f363c5f0f5dff219"><div class="ttname"><a href="classns3_1_1_mgt_add_ba_response_header.html#a6ab3150c36814d89f363c5f0f5dff219">ns3::MgtAddBaResponseHeader::GetTimeout</a></div><div class="ttdeci">uint16_t GetTimeout(void) const</div><div class="ttdoc">Return the timeout.</div><div class="ttdef"><b>Definition:</b> <a href="mgt-headers_8cc_source.html#l01753">mgt-headers.cc:1753</a></div></div>
<div class="ttc" id="aclassns3_1_1_mgt_add_ba_response_header_html_a39ae5439848b0eceb4e5635664921257"><div class="ttname"><a href="classns3_1_1_mgt_add_ba_response_header.html#a39ae5439848b0eceb4e5635664921257">ns3::MgtAddBaResponseHeader::IsAmsduSupported</a></div><div class="ttdeci">bool IsAmsduSupported(void) const</div><div class="ttdoc">Return whether A-MSDU capability is supported.</div><div class="ttdef"><b>Definition:</b> <a href="mgt-headers_8cc_source.html#l01765">mgt-headers.cc:1765</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_remote_station_manager_html_a0f76976a6d7a8761b1ae1b9b74f18fbf"><div class="ttname"><a href="classns3_1_1_wifi_remote_station_manager.html#a0f76976a6d7a8761b1ae1b9b74f18fbf">ns3::WifiRemoteStationManager::GetDefaultMode</a></div><div class="ttdeci">WifiMode GetDefaultMode(void) const</div><div class="ttdoc">Return the default transmission mode.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-remote-station-manager_8cc_source.html#l01305">wifi-remote-station-manager.cc:1305</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_tx_vector_html_a7125591f923091b79fe4a607dfad22e4"><div class="ttname"><a href="classns3_1_1_wifi_tx_vector.html#a7125591f923091b79fe4a607dfad22e4">ns3::WifiTxVector::GetPreambleType</a></div><div class="ttdeci">WifiPreamble GetPreambleType(void) const</div><div class="ttdef"><b>Definition:</b> <a href="wifi-tx-vector_8cc_source.html#l00089">wifi-tx-vector.cc:89</a></div></div>
<div class="ttc" id="aclassns3_1_1_phy_mac_low_listener_html_ac225bcb80de9366b102b12966caabe1b"><div class="ttname"><a href="classns3_1_1_phy_mac_low_listener.html#ac225bcb80de9366b102b12966caabe1b">ns3::PhyMacLowListener::NotifyRxEndError</a></div><div class="ttdeci">void NotifyRxEndError(void)</div><div class="ttdoc">We have received the last bit of a packet for which NotifyRxStart was invoked first and,...</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00083">mac-low.cc:83</a></div></div>
<div class="ttc" id="aclassns3_1_1_time_html"><div class="ttname"><a href="classns3_1_1_time.html">ns3::Time</a></div><div class="ttdoc">Simulation virtual time values and global simulation resolution.</div><div class="ttdef"><b>Definition:</b> <a href="nstime_8h_source.html#l00102">nstime.h:103</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_mac_header_html_a3d393ad4f9cfaca5ce0ac239a27f2763"><div class="ttname"><a href="classns3_1_1_wifi_mac_header.html#a3d393ad4f9cfaca5ce0ac239a27f2763">ns3::WifiMacHeader::GetSequenceNumber</a></div><div class="ttdeci">uint16_t GetSequenceNumber(void) const</div><div class="ttdoc">Return the sequence number of the header.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-mac-header_8cc_source.html#l00740">wifi-mac-header.cc:740</a></div></div>
<div class="ttc" id="anamespacens3_html_a3b6822ca0fc413acfcfa182b22f6fa86"><div class="ttname"><a href="namespacens3.html#a3b6822ca0fc413acfcfa182b22f6fa86">ns3::GetChannelWidthForTransmission</a></div><div class="ttdeci">uint16_t GetChannelWidthForTransmission(WifiMode mode, uint16_t maxSupportedChannelWidth)</div><div class="ttdoc">Return the channel width that corresponds to the selected mode (instead of letting the PHY's default ...</div><div class="ttdef"><b>Definition:</b> <a href="wifi-utils_8cc_source.html#l00109">wifi-utils.cc:109</a></div></div>
<div class="ttc" id="aclassns3_1_1_qos_txop_html_ae4df8886ca4f21adb32e17bbe85d41d0"><div class="ttname"><a href="classns3_1_1_qos_txop.html#ae4df8886ca4f21adb32e17bbe85d41d0">ns3::QosTxop::GetAckPolicySelector</a></div><div class="ttdeci">Ptr&lt; WifiAckPolicySelector &gt; GetAckPolicySelector(void) const</div><div class="ttdoc">Return the ack policy selector.</div><div class="ttdef"><b>Definition:</b> <a href="qos-txop_8cc_source.html#l00188">qos-txop.cc:188</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_acde3a1447ef79fa1bc3456b3d0473757"><div class="ttname"><a href="classns3_1_1_mac_low.html#acde3a1447ef79fa1bc3456b3d0473757">ns3::MacLow::NotifyAckTimeoutStartNow</a></div><div class="ttdeci">void NotifyAckTimeoutStartNow(Time duration)</div><div class="ttdoc">Notify ChannelAccessManager that Ack timer should be started for the given duration.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l01648">mac-low.cc:1648</a></div></div>
<div class="ttc" id="anamespacens3_html_a9318472db39b35b2092de5c721e6ab0aa1943fa8d38763e1bced10dd28f7e6b38"><div class="ttname"><a href="namespacens3.html#a9318472db39b35b2092de5c721e6ab0aa1943fa8d38763e1bced10dd28f7e6b38">ns3::WIFI_MAC_DATA_CFACK</a></div><div class="ttdeci">@ WIFI_MAC_DATA_CFACK</div><div class="ttdef"><b>Definition:</b> <a href="wifi-mac-header_8h_source.html#l00062">wifi-mac-header.h:62</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_ad4e0eee50d12b8b7e22ad6b68ffb82ef"><div class="ttname"><a href="classns3_1_1_mac_low.html#ad4e0eee50d12b8b7e22ad6b68ffb82ef">ns3::MacLow::NotifyCtsTimeoutStartNow</a></div><div class="ttdeci">void NotifyCtsTimeoutStartNow(Time duration)</div><div class="ttdoc">Notify ChannelAccessManager that CTS timer should be started for the given duration.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l01666">mac-low.cc:1666</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_tx_vector_html_a2bd711576c12a747bc3a800ef4cc0a5b"><div class="ttname"><a href="classns3_1_1_wifi_tx_vector.html#a2bd711576c12a747bc3a800ef4cc0a5b">ns3::WifiTxVector::SetChannelWidth</a></div><div class="ttdeci">void SetChannelWidth(uint16_t channelWidth)</div><div class="ttdoc">Sets the selected channelWidth (in MHz)</div><div class="ttdef"><b>Definition:</b> <a href="wifi-tx-vector_8cc_source.html#l00156">wifi-tx-vector.cc:156</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_ae13a7fe07e7f9c7eddfc14bc8bbc2734"><div class="ttname"><a href="classns3_1_1_mac_low.html#ae13a7fe07e7f9c7eddfc14bc8bbc2734">ns3::MacLow::GetPhy</a></div><div class="ttdeci">Ptr&lt; WifiPhy &gt; GetPhy(void) const</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00263">mac-low.cc:263</a></div></div>
<div class="ttc" id="agroup__fatal_html_ga6653324225bc139e46deea177614ceee"><div class="ttname"><a href="group__fatal.html#ga6653324225bc139e46deea177614ceee">NS_ABORT_MSG_IF</a></div><div class="ttdeci">#define NS_ABORT_MSG_IF(cond, msg)</div><div class="ttdoc">Abnormal program termination if a condition is true, with a message.</div><div class="ttdef"><b>Definition:</b> <a href="abort_8h_source.html#l00109">abort.h:108</a></div></div>
<div class="ttc" id="anamespacens3_html_ae180410a6fd89fcc32fd0f720b1c0a40"><div class="ttname"><a href="namespacens3.html#ae180410a6fd89fcc32fd0f720b1c0a40">ns3::GetPreambleForTransmission</a></div><div class="ttdeci">WifiPreamble GetPreambleForTransmission(WifiModulationClass modulation, bool useShortPreamble, bool useGreenfield)</div><div class="ttdoc">Return the preamble to be used for the transmission.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-utils_8cc_source.html#l00128">wifi-utils.cc:128</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_ae23ccb3c313c640daf5bd4c857eb0d7a"><div class="ttname"><a href="classns3_1_1_mac_low.html#ae23ccb3c313c640daf5bd4c857eb0d7a">ns3::MacLow::GetResponseDuration</a></div><div class="ttdeci">Time GetResponseDuration(const MacLowTransmissionParameters &amp;params, WifiTxVector dataTxVector, Mac48Address receiver) const</div><div class="ttdoc">Return the time required to transmit the response frames (Ack or BAR+BA following the policy configur...</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l01289">mac-low.cc:1289</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_af6e2acc771d188c0959871f142912296"><div class="ttname"><a href="classns3_1_1_mac_low.html#af6e2acc771d188c0959871f142912296">ns3::MacLow::SendBlockAckAfterAmpdu</a></div><div class="ttdeci">void SendBlockAckAfterAmpdu(uint8_t tid, Mac48Address originator, Time duration, WifiTxVector blockAckReqTxVector, double rxSnr)</div><div class="ttdoc">Invoked after an A-MPDU has been received.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l02458">mac-low.cc:2458</a></div></div>
<div class="ttc" id="aclassns3_1_1_txop_html_a7ad3a446bf34065eef10bc9659a0607a"><div class="ttname"><a href="classns3_1_1_txop.html#a7ad3a446bf34065eef10bc9659a0607a">ns3::Txop::IsQosTxop</a></div><div class="ttdeci">virtual bool IsQosTxop() const</div><div class="ttdoc">Check for QoS TXOP.</div><div class="ttdef"><b>Definition:</b> <a href="txop_8cc_source.html#l00860">txop.cc:860</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_phy_html_a1423d40e3c21084b1e07a9360174deaa"><div class="ttname"><a href="classns3_1_1_wifi_phy.html#a1423d40e3c21084b1e07a9360174deaa">ns3::WifiPhy::Send</a></div><div class="ttdeci">void Send(Ptr&lt; const WifiPsdu &gt; psdu, WifiTxVector txVector)</div><div class="ttdef"><b>Definition:</b> <a href="wifi-phy_8cc_source.html#l02541">wifi-phy.cc:2541</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a8db1635644b89072dfcb5fbc2330031b"><div class="ttname"><a href="classns3_1_1_mac_low.html#a8db1635644b89072dfcb5fbc2330031b">ns3::MacLow::SendAckAfterData</a></div><div class="ttdeci">void SendAckAfterData(Mac48Address source, Time duration, WifiMode dataTxMode, double dataSnr)</div><div class="ttdoc">Send Ack after receiving Data.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l02161">mac-low.cc:2161</a></div></div>
<div class="ttc" id="aclassns3_1_1_txop_html_ae969e1203237fc063ed27d2a23a1e773"><div class="ttname"><a href="classns3_1_1_txop.html#ae969e1203237fc063ed27d2a23a1e773">ns3::Txop::MissedCts</a></div><div class="ttdeci">virtual void MissedCts(void)</div><div class="ttdoc">Event handler when a CTS timeout has occurred.</div><div class="ttdef"><b>Definition:</b> <a href="txop_8cc_source.html#l00610">txop.cc:610</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_remote_station_manager_html_aa8cff366278b007565ad4a5547201162"><div class="ttname"><a href="classns3_1_1_wifi_remote_station_manager.html#aa8cff366278b007565ad4a5547201162">ns3::WifiRemoteStationManager::GetBasicMcs</a></div><div class="ttdeci">WifiMode GetBasicMcs(uint8_t i) const</div><div class="ttdoc">Return the MCS at the given list index.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-remote-station-manager_8cc_source.html#l01428">wifi-remote-station-manager.cc:1428</a></div></div>
<div class="ttc" id="anamespacens3_html_aa999e1221606a2b21b1eb33c2007c217a9863e4342bf5c238c74dddfc4d96c67e"><div class="ttname"><a href="namespacens3.html#aa999e1221606a2b21b1eb33c2007c217a9863e4342bf5c238c74dddfc4d96c67e">ns3::WIFI_MOD_CLASS_VHT</a></div><div class="ttdeci">@ WIFI_MOD_CLASS_VHT</div><div class="ttdoc">VHT PHY (Clause 22)</div><div class="ttdef"><b>Definition:</b> <a href="wifi-mode_8h_source.html#l00060">wifi-mode.h:60</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_ab70f7f727b5f9e1e1357a73e29ba7f82"><div class="ttname"><a href="classns3_1_1_mac_low.html#ab70f7f727b5f9e1e1357a73e29ba7f82">ns3::MacLow::CreateBlockAckAgreement</a></div><div class="ttdeci">void CreateBlockAckAgreement(const MgtAddBaResponseHeader *respHdr, Mac48Address originator, uint16_t startingSeq)</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l02259">mac-low.cc:2259</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_abf83232dab18fd8c6eae880da7bc9bd4"><div class="ttname"><a href="classns3_1_1_mac_low.html#abf83232dab18fd8c6eae880da7bc9bd4">ns3::MacLow::NotifyOffNow</a></div><div class="ttdeci">void NotifyOffNow(void)</div><div class="ttdoc">This method is typically invoked by the PhyMacLowListener to notify the MAC layer that the device has...</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00808">mac-low.cc:808</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a43f501698b2688e1803a648065d59018"><div class="ttname"><a href="classns3_1_1_mac_low.html#a43f501698b2688e1803a648065d59018">ns3::MacLow::GetBlockAckDuration</a></div><div class="ttdeci">Time GetBlockAckDuration(WifiTxVector blockAckReqTxVector, BlockAckType type) const</div><div class="ttdoc">Return the time required to transmit the BlockAck to the specified address given the TXVECTOR of the ...</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l01245">mac-low.cc:1245</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a3856b671501c47dc27ec99b8fec24d45"><div class="ttname"><a href="classns3_1_1_mac_low.html#a3856b671501c47dc27ec99b8fec24d45">ns3::MacLow::GetRemainingCfpDuration</a></div><div class="ttdeci">Time GetRemainingCfpDuration(void) const</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l02683">mac-low.cc:2683</a></div></div>
<div class="ttc" id="aclassns3_1_1_snr_tag_html_a2f9d363bfdd81cf96b90e270eb2fc479"><div class="ttname"><a href="classns3_1_1_snr_tag.html#a2f9d363bfdd81cf96b90e270eb2fc479">ns3::SnrTag::Set</a></div><div class="ttdeci">void Set(double snr)</div><div class="ttdoc">Set the SNR to the given value.</div><div class="ttdef"><b>Definition:</b> <a href="snr-tag_8cc_source.html#l00083">snr-tag.cc:83</a></div></div>
<div class="ttc" id="aopenflow-interface_8h_html_afd9bcfa176617760671b67580f536fa7"><div class="ttname"><a href="openflow-interface_8h.html#afd9bcfa176617760671b67580f536fa7">list</a></div><div class="ttdeci">#define list</div><div class="ttdef"><b>Definition:</b> <a href="openflow-interface_8h_source.html#l00048">openflow-interface.h:47</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a08ebbbb1992e3583cd2bc63d45ee2749"><div class="ttname"><a href="classns3_1_1_mac_low.html#a08ebbbb1992e3583cd2bc63d45ee2749">ns3::MacLow::GetBssid</a></div><div class="ttdeci">Mac48Address GetBssid(void) const</div><div class="ttdoc">Return the Basic Service Set Identification.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00457">mac-low.cc:457</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_acf603e550faecfb55ca374c22efad15a"><div class="ttname"><a href="classns3_1_1_mac_low.html#acf603e550faecfb55ca374c22efad15a">ns3::MacLow::m_mac</a></div><div class="ttdeci">Ptr&lt; WifiMac &gt; m_mac</div><div class="ttdoc">Pointer to WifiMac (to fetch configuration)</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8h_source.html#l00894">mac-low.h:894</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_mac_header_html_ad9561dff47c79b01053238ae56f08144"><div class="ttname"><a href="classns3_1_1_wifi_mac_header.html#ad9561dff47c79b01053238ae56f08144">ns3::WifiMacHeader::GetFragmentNumber</a></div><div class="ttdeci">uint8_t GetFragmentNumber(void) const</div><div class="ttdoc">Return the fragment number of the header.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-mac-header_8cc_source.html#l00746">wifi-mac-header.cc:746</a></div></div>
<div class="ttc" id="anamespacens3_html_a9318472db39b35b2092de5c721e6ab0aa94b81d2741a3a2ab30de5df6e04fc850"><div class="ttname"><a href="namespacens3.html#a9318472db39b35b2092de5c721e6ab0aa94b81d2741a3a2ab30de5df6e04fc850">ns3::WIFI_MAC_CTL_ACK</a></div><div class="ttdeci">@ WIFI_MAC_CTL_ACK</div><div class="ttdef"><b>Definition:</b> <a href="wifi-mac-header_8h_source.html#l00041">wifi-mac-header.h:41</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a74a42206fe3f60fd13df4e8ee8d064f1"><div class="ttname"><a href="classns3_1_1_mac_low.html#a74a42206fe3f60fd13df4e8ee8d064f1">ns3::MacLow::GetAckTimeout</a></div><div class="ttdeci">Time GetAckTimeout(void) const</div><div class="ttdoc">Return Ack timeout of this MacLow.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00415">mac-low.cc:415</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_af096a2fe9597c4ca80ae1af4870a45a8"><div class="ttname"><a href="classns3_1_1_mac_low.html#af096a2fe9597c4ca80ae1af4870a45a8">ns3::MacLow::RxStartIndication</a></div><div class="ttdeci">void RxStartIndication(WifiTxVector txVector, Time psduDuration)</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00714">mac-low.cc:714</a></div></div>
<div class="ttc" id="aclassns3_1_1_block_ack_agreement_html_a2845733071e12a0f049bb7a90e174d61"><div class="ttname"><a href="classns3_1_1_block_ack_agreement.html#a2845733071e12a0f049bb7a90e174d61">ns3::BlockAckAgreement::SetStartingSequence</a></div><div class="ttdeci">void SetStartingSequence(uint16_t seq)</div><div class="ttdoc">Set starting sequence number.</div><div class="ttdef"><b>Definition:</b> <a href="block-ack-agreement_8cc_source.html#l00063">block-ack-agreement.cc:63</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_ac8256ce92507eb4a5b9b957e0935d045"><div class="ttname"><a href="classns3_1_1_mac_low.html#ac8256ce92507eb4a5b9b957e0935d045">ns3::MacLow::m_channelAccessManagers</a></div><div class="ttdeci">ChannelAccessManagers m_channelAccessManagers</div><div class="ttdoc">List of ChannelAccessManager.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8h_source.html#l00916">mac-low.h:916</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a869dbcce46b39d8a0314c3b99f62831e"><div class="ttname"><a href="classns3_1_1_mac_low.html#a869dbcce46b39d8a0314c3b99f62831e">ns3::MacLow::m_lastBeacon</a></div><div class="ttdeci">Time m_lastBeacon</div><div class="ttdoc">The time when the last beacon frame transmission started.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8h_source.html#l00951">mac-low.h:951</a></div></div>
<div class="ttc" id="amsdu-aggregator_8h_html"><div class="ttname"><a href="msdu-aggregator_8h.html">msdu-aggregator.h</a></div></div>
<div class="ttc" id="aclassns3_1_1_snr_tag_html"><div class="ttname"><a href="classns3_1_1_snr_tag.html">ns3::SnrTag</a></div><div class="ttdef"><b>Definition:</b> <a href="snr-tag_8h_source.html#l00034">snr-tag.h:35</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_aec8aefec9501f9d7c06b6cd0ee1353ee"><div class="ttname"><a href="classns3_1_1_mac_low.html#aec8aefec9501f9d7c06b6cd0ee1353ee">ns3::MacLow::m_phy</a></div><div class="ttdeci">Ptr&lt; WifiPhy &gt; m_phy</div><div class="ttdoc">Pointer to WifiPhy (actually send/receives frames)</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8h_source.html#l00893">mac-low.h:893</a></div></div>
<div class="ttc" id="agroup__wifi_html_gab422b4562ba272b39a9b6bca3513f3ac"><div class="ttname"><a href="group__wifi.html#gab422b4562ba272b39a9b6bca3513f3ac">ns3::AcIndex</a></div><div class="ttdeci">AcIndex</div><div class="ttdef"><b>Definition:</b> <a href="qos-utils_8h_source.html#l00038">qos-utils.h:39</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_mac_header_html_a9e27e439b0ef655ac9598f45218364bd"><div class="ttname"><a href="classns3_1_1_wifi_mac_header.html#a9e27e439b0ef655ac9598f45218364bd">ns3::WifiMacHeader::IsMgt</a></div><div class="ttdeci">bool IsMgt(void) const</div><div class="ttdoc">Return true if the Type is Management.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-mac-header_8cc_source.html#l00546">wifi-mac-header.cc:546</a></div></div>
<div class="ttc" id="aclassns3_1_1_mgt_add_ba_response_header_html"><div class="ttname"><a href="classns3_1_1_mgt_add_ba_response_header.html">ns3::MgtAddBaResponseHeader</a></div><div class="ttdef"><b>Definition:</b> <a href="mgt-headers_8h_source.html#l01135">mgt-headers.h:1136</a></div></div>
<div class="ttc" id="anamespacens3_html_a9318472db39b35b2092de5c721e6ab0aaa54cbe56295bf20231940217681f710c"><div class="ttname"><a href="namespacens3.html#a9318472db39b35b2092de5c721e6ab0aaa54cbe56295bf20231940217681f710c">ns3::WIFI_MAC_DATA_NULL_CFACK_CFPOLL</a></div><div class="ttdeci">@ WIFI_MAC_DATA_NULL_CFACK_CFPOLL</div><div class="ttdef"><b>Definition:</b> <a href="wifi-mac-header_8h_source.html#l00068">wifi-mac-header.h:68</a></div></div>
<div class="ttc" id="aclassns3_1_1_qos_txop_html_a9054cd15fbc2a253d7f0d416d8ec815b"><div class="ttname"><a href="classns3_1_1_qos_txop.html#a9054cd15fbc2a253d7f0d416d8ec815b">ns3::QosTxop::PrepareBlockAckRequest</a></div><div class="ttdeci">Ptr&lt; const WifiMacQueueItem &gt; PrepareBlockAckRequest(Mac48Address recipient, uint8_t tid) const</div><div class="ttdef"><b>Definition:</b> <a href="qos-txop_8cc_source.html#l00146">qos-txop.cc:146</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_ac472702b866a51ea2dfb7637381897aa"><div class="ttname"><a href="classns3_1_1_mac_low.html#ac472702b866a51ea2dfb7637381897aa">ns3::MacLow::SendRtsForPacket</a></div><div class="ttdeci">void SendRtsForPacket(void)</div><div class="ttdoc">Send RTS to begin RTS-CTS-Data-Ack transaction.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l01813">mac-low.cc:1813</a></div></div>
<div class="ttc" id="aclassns3_1_1_block_ack_agreement_html_a8597f6b15616bc0faac1e35966cda24f"><div class="ttname"><a href="classns3_1_1_block_ack_agreement.html#a8597f6b15616bc0faac1e35966cda24f">ns3::BlockAckAgreement::SetAmsduSupport</a></div><div class="ttdeci">void SetAmsduSupport(bool supported)</div><div class="ttdoc">Enable or disable A-MSDU support.</div><div class="ttdef"><b>Definition:</b> <a href="block-ack-agreement_8cc_source.html#l00093">block-ack-agreement.cc:93</a></div></div>
<div class="ttc" id="aclassns3_1_1_txop_html_a728794caac9a10954c087382fa5e52e3"><div class="ttname"><a href="classns3_1_1_txop.html#a728794caac9a10954c087382fa5e52e3">ns3::Txop::GetTxopRemaining</a></div><div class="ttdeci">virtual Time GetTxopRemaining(void) const</div><div class="ttdoc">Return the remaining duration in the current TXOP.</div><div class="ttdef"><b>Definition:</b> <a href="txop_8cc_source.html#l00884">txop.cc:884</a></div></div>
<div class="ttc" id="aipv4-address-generator_8cc_html_aaf5aa23b804d2e5e334106f207e8a6cc"><div class="ttname"><a href="ipv4-address-generator_8cc.html#aaf5aa23b804d2e5e334106f207e8a6cc">NS_ASSERT_MSG</a></div><div class="ttdeci">NS_ASSERT_MSG(false, &quot;Ipv4AddressGenerator::MaskToIndex(): Impossible&quot;)</div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_abac7baed9f0aaeb684e84f44819bce30"><div class="ttname"><a href="classns3_1_1_mac_low.html#abac7baed9f0aaeb684e84f44819bce30">ns3::MacLow::DeaggregateAmpduAndReceive</a></div><div class="ttdeci">void DeaggregateAmpduAndReceive(Ptr&lt; WifiPsdu &gt; aggregatedPacket, double rxSnr, WifiTxVector txVector, std::vector&lt; bool &gt; statusPerMpdu)</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l02585">mac-low.cc:2585</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a3d6785cf29b733798a17c84036d42adf"><div class="ttname"><a href="classns3_1_1_mac_low.html#a3d6785cf29b733798a17c84036d42adf">ns3::MacLow::SetPromisc</a></div><div class="ttdeci">void SetPromisc(void)</div><div class="ttdoc">Enable promiscuous mode.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00403">mac-low.cc:403</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a9babdfa2bf38577f733c4723e6114c16"><div class="ttname"><a href="classns3_1_1_mac_low.html#a9babdfa2bf38577f733c4723e6114c16">ns3::MacLow::ForwardDown</a></div><div class="ttdeci">void ForwardDown(Ptr&lt; const WifiPsdu &gt; psdu, WifiTxVector txVector)</div><div class="ttdoc">Forward a PSDU down to WifiPhy for transmission.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l01684">mac-low.cc:1684</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_phy_html_a1793e6110ca3623131def396f487c11d"><div class="ttname"><a href="classns3_1_1_wifi_phy.html#a1793e6110ca3623131def396f487c11d">ns3::WifiPhy::CalculatePhyPreambleAndHeaderDuration</a></div><div class="ttdeci">static Time CalculatePhyPreambleAndHeaderDuration(WifiTxVector txVector)</div><div class="ttdef"><b>Definition:</b> <a href="wifi-phy_8cc_source.html#l02403">wifi-phy.cc:2403</a></div></div>
<div class="ttc" id="anamespacens3_html_a9318472db39b35b2092de5c721e6ab0aadf0bf3167056a3aea0cab8e7aaf1f63f"><div class="ttname"><a href="namespacens3.html#a9318472db39b35b2092de5c721e6ab0aadf0bf3167056a3aea0cab8e7aaf1f63f">ns3::WIFI_MAC_DATA_NULL_CFPOLL</a></div><div class="ttdeci">@ WIFI_MAC_DATA_NULL_CFPOLL</div><div class="ttdef"><b>Definition:</b> <a href="wifi-mac-header_8h_source.html#l00067">wifi-mac-header.h:67</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a3f4e1bf0128e68f6d2b708d66357ac5e"><div class="ttname"><a href="classns3_1_1_mac_low.html#a3f4e1bf0128e68f6d2b708d66357ac5e">ns3::MacLow::m_ctsToSelfSupported</a></div><div class="ttdeci">bool m_ctsToSelfSupported</div><div class="ttdoc">Flag whether CTS-to-self is supported.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8h_source.html#l00978">mac-low.h:978</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a7deab25806e5aef977c36151acb116c5"><div class="ttname"><a href="classns3_1_1_mac_low.html#a7deab25806e5aef977c36151acb116c5">ns3::MacLow::MacLow</a></div><div class="ttdeci">MacLow()</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00116">mac-low.cc:116</a></div></div>
<div class="ttc" id="aclassns3_1_1_ctrl_b_ack_response_header_html_aa726aabb711b481d35703f1bf5fe59d9"><div class="ttname"><a href="classns3_1_1_ctrl_b_ack_response_header.html#aa726aabb711b481d35703f1bf5fe59d9">ns3::CtrlBAckResponseHeader::SetType</a></div><div class="ttdeci">void SetType(BlockAckType type)</div><div class="ttdoc">Set the block ack type.</div><div class="ttdef"><b>Definition:</b> <a href="ctrl-headers_8cc_source.html#l00382">ctrl-headers.cc:382</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a42324a6a9affe03004a854dc0daa5f27"><div class="ttname"><a href="classns3_1_1_mac_low.html#a42324a6a9affe03004a854dc0daa5f27">ns3::MacLow::GetRifs</a></div><div class="ttdeci">Time GetRifs(void) const</div><div class="ttdoc">Return Reduced Interframe Space (RIFS) of this MacLow.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00439">mac-low.cc:439</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a9340717e9dc5a7416314f5cc2e7dccbc"><div class="ttname"><a href="classns3_1_1_mac_low.html#a9340717e9dc5a7416314f5cc2e7dccbc">ns3::MacLow::RegisterEdcaForAc</a></div><div class="ttdeci">void RegisterEdcaForAc(AcIndex ac, Ptr&lt; QosTxop &gt; edca)</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l02579">mac-low.cc:2579</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_adfbc0b3adec166be1dacd9e5aa831252"><div class="ttname"><a href="classns3_1_1_mac_low.html#adfbc0b3adec166be1dacd9e5aa831252">ns3::MacLow::GetBeaconInterval</a></div><div class="ttdeci">Time GetBeaconInterval(void) const</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00463">mac-low.cc:463</a></div></div>
<div class="ttc" id="aclassns3_1_1_packet_html_ac4a6bcd77e58bdc14c42a7d572d66cc9"><div class="ttname"><a href="classns3_1_1_packet.html#ac4a6bcd77e58bdc14c42a7d572d66cc9">ns3::Packet::AddPacketTag</a></div><div class="ttdeci">void AddPacketTag(const Tag &amp;tag) const</div><div class="ttdoc">Add a packet tag.</div><div class="ttdef"><b>Definition:</b> <a href="packet_8cc_source.html#l00863">packet.cc:863</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a35ee7cfc983896c26c514bade14b3197"><div class="ttname"><a href="classns3_1_1_mac_low.html#a35ee7cfc983896c26c514bade14b3197">ns3::MacLow::m_sendAckEvent</a></div><div class="ttdeci">EventId m_sendAckEvent</div><div class="ttdoc">Event to send Ack.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8h_source.html#l00925">mac-low.h:925</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_aeb3a8ccdb7a068b7ee69d507a66a1b60"><div class="ttname"><a href="classns3_1_1_mac_low.html#aeb3a8ccdb7a068b7ee69d507a66a1b60">ns3::MacLow::GetDataTxVector</a></div><div class="ttdeci">virtual WifiTxVector GetDataTxVector(Ptr&lt; const WifiMacQueueItem &gt; item) const</div><div class="ttdoc">Return a TXVECTOR for the Data frame given the destination.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l01282">mac-low.cc:1282</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_mac_header_html_ab6a0efdc43d39b5da5d17eae9665271d"><div class="ttname"><a href="classns3_1_1_wifi_mac_header.html#ab6a0efdc43d39b5da5d17eae9665271d">ns3::WifiMacHeader::SetAddr2</a></div><div class="ttdeci">void SetAddr2(Mac48Address address)</div><div class="ttdoc">Fill the Address 2 field with the given address.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-mac-header_8cc_source.html#l00096">wifi-mac-header.cc:96</a></div></div>
<div class="ttc" id="aclassns3_1_1_time_html_a4f51b65effdc06da17175290bbaca766"><div class="ttname"><a href="classns3_1_1_time.html#a4f51b65effdc06da17175290bbaca766">ns3::Time::IsPositive</a></div><div class="ttdeci">bool IsPositive(void) const</div><div class="ttdef"><b>Definition:</b> <a href="nstime_8h_source.html#l00304">nstime.h:304</a></div></div>
<div class="ttc" id="aclassns3_1_1_qos_txop_html_a0b82aec30711d3b4fb94d164388ecf9c"><div class="ttname"><a href="classns3_1_1_qos_txop.html#a0b82aec30711d3b4fb94d164388ecf9c">ns3::QosTxop::NotifyMissedCts</a></div><div class="ttdeci">void NotifyMissedCts(std::list&lt; Ptr&lt; WifiMacQueueItem &gt;&gt; mpduList)</div><div class="ttdoc">Event handler when a CTS timeout has occurred.</div><div class="ttdef"><b>Definition:</b> <a href="qos-txop_8cc_source.html#l00710">qos-txop.cc:710</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_mac_header_html_a07391fd5b12f7a90fe55325fcccc8e3a"><div class="ttname"><a href="classns3_1_1_wifi_mac_header.html#a07391fd5b12f7a90fe55325fcccc8e3a">ns3::WifiMacHeader::GetQosTid</a></div><div class="ttdeci">uint8_t GetQosTid(void) const</div><div class="ttdoc">Return the Traffic ID of a QoS header.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-mac-header_8cc_source.html#l00825">wifi-mac-header.cc:825</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a53d07c20bd3ddab4689c3b310aa4e1f6"><div class="ttname"><a href="classns3_1_1_mac_low.html#a53d07c20bd3ddab4689c3b310aa4e1f6">ns3::MacLow::m_msduAggregator</a></div><div class="ttdeci">Ptr&lt; MsduAggregator &gt; m_msduAggregator</div><div class="ttdoc">A-MSDU aggregator.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8h_source.html#l00918">mac-low.h:918</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a85c374be43ba3bd52fd1ad6efdfef6c6"><div class="ttname"><a href="classns3_1_1_mac_low.html#a85c374be43ba3bd52fd1ad6efdfef6c6">ns3::MacLow::SendBlockAckResponse</a></div><div class="ttdeci">void SendBlockAckResponse(const CtrlBAckResponseHeader *blockAck, Mac48Address originator, bool immediate, Time duration, WifiMode blockAckReqTxMode, double rxSnr)</div><div class="ttdoc">This method creates BlockAck frame with header equals to blockAck and start its transmission.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l02410">mac-low.cc:2410</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a66918702d4803f26e27bf173b4766d16"><div class="ttname"><a href="classns3_1_1_mac_low.html#a66918702d4803f26e27bf173b4766d16">ns3::MacLow::GetAckDuration</a></div><div class="ttdeci">Time GetAckDuration(WifiTxVector ackTxVector) const</div><div class="ttdoc">Return the time required to transmit the Ack (including preamble and FCS).</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l01238">mac-low.cc:1238</a></div></div>
<div class="ttc" id="anamespacens3_html_afba55479deec541244248815e1a33924"><div class="ttname"><a href="namespacens3.html#afba55479deec541244248815e1a33924">ns3::IsInWindow</a></div><div class="ttdeci">bool IsInWindow(uint16_t seq, uint16_t winstart, uint16_t winsize)</div><div class="ttdef"><b>Definition:</b> <a href="wifi-utils_8cc_source.html#l00225">wifi-utils.cc:225</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a753fdeae4fb18b9b4d3b48c61f721686"><div class="ttname"><a href="classns3_1_1_mac_low.html#a753fdeae4fb18b9b4d3b48c61f721686">ns3::MacLow::CalculateTransmissionTime</a></div><div class="ttdeci">Time CalculateTransmissionTime(Ptr&lt; const Packet &gt; packet, const WifiMacHeader *hdr, const MacLowTransmissionParameters &amp;parameters) const</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l01558">mac-low.cc:1558</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_af87bd81ded4d362f9f1dc89dbbee65a3"><div class="ttname"><a href="classns3_1_1_mac_low.html#af87bd81ded4d362f9f1dc89dbbee65a3">ns3::MacLow::m_currentTxVector</a></div><div class="ttdeci">WifiTxVector m_currentTxVector</div><div class="ttdoc">TXVECTOR used for the current packet transmission.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8h_source.html#l00979">mac-low.h:979</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a3bc501e96dd54acfcfec0dbbfeb487e7"><div class="ttname"><a href="classns3_1_1_mac_low.html#a3bc501e96dd54acfcfec0dbbfeb487e7">ns3::MacLow::m_basicBlockAckTimeout</a></div><div class="ttdeci">Time m_basicBlockAckTimeout</div><div class="ttdoc">Basic BlockAck timeout duration.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8h_source.html#l00937">mac-low.h:937</a></div></div>
<div class="ttc" id="aclassns3_1_1_time_html_a75169ee37c557c616eb79e1a15ed09b7"><div class="ttname"><a href="classns3_1_1_time.html#a75169ee37c557c616eb79e1a15ed09b7">ns3::Time::Min</a></div><div class="ttdeci">static Time Min()</div><div class="ttdoc">Minimum representable Time.</div><div class="ttdef"><b>Definition:</b> <a href="nstime_8h_source.html#l00271">nstime.h:271</a></div></div>
<div class="ttc" id="aopenflow-switch_8cc_html_a386d174ae121d1cfa279074b7e209714"><div class="ttname"><a href="openflow-switch_8cc.html#a386d174ae121d1cfa279074b7e209714">timeout</a></div><div class="ttdeci">ns3::Time timeout</div><div class="ttdef"><b>Definition:</b> <a href="openflow-switch_8cc_source.html#l00052">openflow-switch.cc:52</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a89fbeddfe91a47f0dcc1f3d7fd5108a0"><div class="ttname"><a href="classns3_1_1_mac_low.html#a89fbeddfe91a47f0dcc1f3d7fd5108a0">ns3::MacLow::GetRtsTxVector</a></div><div class="ttdeci">WifiTxVector GetRtsTxVector(Ptr&lt; const WifiMacQueueItem &gt; item) const</div><div class="ttdoc">Return a TXVECTOR for the RTS frame given the destination.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l01275">mac-low.cc:1275</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a10a0e90050844fe4273e1259fb23530f"><div class="ttname"><a href="classns3_1_1_mac_low.html#a10a0e90050844fe4273e1259fb23530f">ns3::MacLow::GetCtsTxVectorForRts</a></div><div class="ttdeci">WifiTxVector GetCtsTxVectorForRts(Mac48Address to, WifiMode rtsTxMode) const</div><div class="ttdoc">Return a TXVECTOR for the CTS frame given the destination and the mode of the RTS used by the sender.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l01507">mac-low.cc:1507</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a6c8806c531633adc7e524eba5e2f3106"><div class="ttname"><a href="classns3_1_1_mac_low.html#a6c8806c531633adc7e524eba5e2f3106">ns3::MacLow::GetSlotTime</a></div><div class="ttdeci">Time GetSlotTime(void) const</div><div class="ttdoc">Return slot duration of this MacLow.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00445">mac-low.cc:445</a></div></div>
<div class="ttc" id="aclassns3_1_1_qos_txop_html_a59dd6757e11b14cdc74b26bcbc540250"><div class="ttname"><a href="classns3_1_1_qos_txop.html#a59dd6757e11b14cdc74b26bcbc540250">ns3::QosTxop::UpdateCurrentPacket</a></div><div class="ttdeci">void UpdateCurrentPacket(Ptr&lt; WifiMacQueueItem &gt; mpdu)</div><div class="ttdoc">Update the current packet this QosTxop is trying to transmit.</div><div class="ttdef"><b>Definition:</b> <a href="qos-txop_8cc_source.html#l00491">qos-txop.cc:491</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_afecf8a67fd2052dc23f94e77b9768d6b"><div class="ttname"><a href="classns3_1_1_mac_low.html#afecf8a67fd2052dc23f94e77b9768d6b">ns3::MacLow::CancelAllEvents</a></div><div class="ttdeci">void CancelAllEvents(void)</div><div class="ttdoc">Cancel all scheduled events.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00201">mac-low.cc:201</a></div></div>
<div class="ttc" id="agroup__logging_html_ga413f1886406d49f59a6a0a89b77b4d0a"><div class="ttname"><a href="group__logging.html#ga413f1886406d49f59a6a0a89b77b4d0a">NS_LOG_DEBUG</a></div><div class="ttdeci">#define NS_LOG_DEBUG(msg)</div><div class="ttdoc">Use NS_LOG to output a message of level LOG_DEBUG.</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00274">log.h:273</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_ae10230a028a5fa992f8789c89fe3f54b"><div class="ttname"><a href="classns3_1_1_mac_low.html#ae10230a028a5fa992f8789c89fe3f54b">ns3::MacLow::RegisterChannelAccessManager</a></div><div class="ttdeci">void RegisterChannelAccessManager(Ptr&lt; ChannelAccessManager &gt; channelAccessManager)</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00487">mac-low.cc:487</a></div></div>
<div class="ttc" id="astructns3_1_1_mac_low_1_1_cf_ack_info_html_a9a90048cea029293950210cd9e7916f6"><div class="ttname"><a href="structns3_1_1_mac_low_1_1_cf_ack_info.html#a9a90048cea029293950210cd9e7916f6">ns3::MacLow::CfAckInfo::appendCfAck</a></div><div class="ttdeci">bool appendCfAck</div><div class="ttdoc">Flag used for PCF to indicate whether a CF-Ack should be appended.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8h_source.html#l00903">mac-low.h:903</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a1952eb06064aac3eca3cd3edd426831b"><div class="ttname"><a href="classns3_1_1_mac_low.html#a1952eb06064aac3eca3cd3edd426831b">ns3::MacLow::NotifySwitchingStartNow</a></div><div class="ttdeci">void NotifySwitchingStartNow(Time duration)</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00777">mac-low.cc:777</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_abf3b15e9144d9a23f4260d5a449bc8b3"><div class="ttname"><a href="classns3_1_1_mac_low.html#abf3b15e9144d9a23f4260d5a449bc8b3">ns3::MacLow::GetEdca</a></div><div class="ttdeci">Ptr&lt; QosTxop &gt; GetEdca(uint8_t tid) const</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00279">mac-low.cc:279</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_transmission_parameters_html_ad3a33e30c1a8db4825172b79c18baaa9"><div class="ttname"><a href="classns3_1_1_mac_low_transmission_parameters.html#ad3a33e30c1a8db4825172b79c18baaa9">ns3::MacLowTransmissionParameters::MustWaitBlockAck</a></div><div class="ttdeci">bool MustWaitBlockAck(void) const</div><div class="ttdef"><b>Definition:</b> <a href="mac-low-transmission-parameters_8cc_source.html#l00138">mac-low-transmission-parameters.cc:138</a></div></div>
<div class="ttc" id="awifi-utils_8h_html"><div class="ttname"><a href="wifi-utils_8h.html">wifi-utils.h</a></div></div>
<div class="ttc" id="agroup__timecivil_html_ga33c34b816f8ff6628e33d5c8e9713b9e"><div class="ttname"><a href="group__timecivil.html#ga33c34b816f8ff6628e33d5c8e9713b9e">ns3::Seconds</a></div><div class="ttdeci">Time Seconds(double value)</div><div class="ttdef"><b>Definition:</b> <a href="nstime_8h_source.html#l01070">nstime.h:1070</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_ab254e3fa5cc1d29d95c67ef53b289f14"><div class="ttname"><a href="classns3_1_1_mac_low.html#ab254e3fa5cc1d29d95c67ef53b289f14">ns3::MacLow::m_currentPacket</a></div><div class="ttdeci">Ptr&lt; WifiPsdu &gt; m_currentPacket</div><div class="ttdoc">Current packet transmitted/to be transmitted.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8h_source.html#l00931">mac-low.h:931</a></div></div>
<div class="ttc" id="aclassns3_1_1_block_ack_agreement_html_a306b340b9e9f05cbd5fedd3a412aa6ca"><div class="ttname"><a href="classns3_1_1_block_ack_agreement.html#a306b340b9e9f05cbd5fedd3a412aa6ca">ns3::BlockAckAgreement::SetDelayedBlockAck</a></div><div class="ttdeci">void SetDelayedBlockAck(void)</div><div class="ttdoc">Set block ack policy to delayed Ack.</div><div class="ttdef"><b>Definition:</b> <a href="block-ack-agreement_8cc_source.html#l00086">block-ack-agreement.cc:86</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_phy_html_ac5e4ea4c408896451a8ad77e77a88231"><div class="ttname"><a href="classns3_1_1_wifi_phy.html#ac5e4ea4c408896451a8ad77e77a88231">ns3::WifiPhy::GetMcs</a></div><div class="ttdeci">WifiMode GetMcs(uint8_t mcs) const</div><div class="ttdoc">The WifiPhy::GetMcs() method is used (e.g., by a WifiRemoteStationManager) to determine the set of tr...</div><div class="ttdef"><b>Definition:</b> <a href="wifi-phy_8cc_source.html#l03994">wifi-phy.cc:3994</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_abe2810a59020adbcf64abbef2bcf319f"><div class="ttname"><a href="classns3_1_1_mac_low.html#abe2810a59020adbcf64abbef2bcf319f">ns3::MacLow::GetCtsTxVector</a></div><div class="ttdeci">WifiTxVector GetCtsTxVector(Mac48Address to, WifiMode rtsTxMode) const</div><div class="ttdoc">Return a TXVECTOR for the CTS frame given the destination and the mode of the RTS used by the sender.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l01459">mac-low.cc:1459</a></div></div>
<div class="ttc" id="aclassns3_1_1_time_html_a87a7f4d29c68b047a72d291ad660295aade8622b06524a328cd3a59db6ccf76af"><div class="ttname"><a href="classns3_1_1_time.html#a87a7f4d29c68b047a72d291ad660295aade8622b06524a328cd3a59db6ccf76af">ns3::Time::S</a></div><div class="ttdeci">@ S</div><div class="ttdoc">second</div><div class="ttdef"><b>Definition:</b> <a href="nstime_8h_source.html#l00114">nstime.h:114</a></div></div>
<div class="ttc" id="aclassns3_1_1_block_ack_agreement_html_a74bb7967b40a43fad114a73af35dcabc"><div class="ttname"><a href="classns3_1_1_block_ack_agreement.html#a74bb7967b40a43fad114a73af35dcabc">ns3::BlockAckAgreement::m_inactivityEvent</a></div><div class="ttdeci">EventId m_inactivityEvent</div><div class="ttdoc">inactivity event</div><div class="ttdef"><b>Definition:</b> <a href="block-ack-agreement_8h_source.html#l00166">block-ack-agreement.h:166</a></div></div>
<div class="ttc" id="anamespacens3_html_a9318472db39b35b2092de5c721e6ab0aaf7067a476d424f297c26441fa1a515df"><div class="ttname"><a href="namespacens3.html#a9318472db39b35b2092de5c721e6ab0aaf7067a476d424f297c26441fa1a515df">ns3::WIFI_MAC_DATA</a></div><div class="ttdeci">@ WIFI_MAC_DATA</div><div class="ttdef"><b>Definition:</b> <a href="wifi-mac-header_8h_source.html#l00061">wifi-mac-header.h:61</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a142444428826e0a5f67265dfd7b0f4d2"><div class="ttname"><a href="classns3_1_1_mac_low.html#a142444428826e0a5f67265dfd7b0f4d2">ns3::MacLow::GetSifs</a></div><div class="ttdeci">Time GetSifs(void) const</div><div class="ttdoc">Return Short Interframe Space (SIFS) of this MacLow.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00433">mac-low.cc:433</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_ada8f9b5da9cbfb2a63b1d740ab88216d"><div class="ttname"><a href="classns3_1_1_mac_low.html#ada8f9b5da9cbfb2a63b1d740ab88216d">ns3::MacLow::DestroyBlockAckAgreement</a></div><div class="ttdeci">void DestroyBlockAckAgreement(Mac48Address originator, uint8_t tid)</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l02301">mac-low.cc:2301</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_mac_header_html_afa8df22e51290163f8a2d5a7735bb324"><div class="ttname"><a href="classns3_1_1_wifi_mac_header.html#afa8df22e51290163f8a2d5a7735bb324">ns3::WifiMacHeader::IsCfAck</a></div><div class="ttdeci">bool IsCfAck(void) const</div><div class="ttdoc">Return true if the header is a CF-Ack header.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-mac-header_8cc_source.html#l00584">wifi-mac-header.cc:584</a></div></div>
<div class="ttc" id="agroup__wifi_html_ga90f436472d19d7d7f37cbf0b8c288ff7"><div class="ttname"><a href="group__wifi.html#ga90f436472d19d7d7f37cbf0b8c288ff7">ns3::BlockAckType</a></div><div class="ttdeci">BlockAckType</div><div class="ttdef"><b>Definition:</b> <a href="block-ack-type_8h_source.html#l00030">block-ack-type.h:31</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_transmission_parameters_html"><div class="ttname"><a href="classns3_1_1_mac_low_transmission_parameters.html">ns3::MacLowTransmissionParameters</a></div><div class="ttdoc">control how a packet is transmitted.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low-transmission-parameters_8h_source.html#l00039">mac-low-transmission-parameters.h:40</a></div></div>
<div class="ttc" id="aclassns3_1_1_snr_tag_html_af71e7cca59717042ddd859dff02e4fc9"><div class="ttname"><a href="classns3_1_1_snr_tag.html#af71e7cca59717042ddd859dff02e4fc9">ns3::SnrTag::Get</a></div><div class="ttdeci">double Get(void) const</div><div class="ttdoc">Return the SNR value.</div><div class="ttdef"><b>Definition:</b> <a href="snr-tag_8cc_source.html#l00089">snr-tag.cc:89</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_aeadf392d37d323fb81f0ef0766f2359a"><div class="ttname"><a href="classns3_1_1_mac_low.html#aeadf392d37d323fb81f0ef0766f2359a">ns3::MacLow::RxCompleteBufferedPacketsUntilFirstLost</a></div><div class="ttdeci">void RxCompleteBufferedPacketsUntilFirstLost(Mac48Address originator, uint8_t tid)</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l02380">mac-low.cc:2380</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a4e08342dc51fd123ff9db8b4061df754"><div class="ttname"><a href="classns3_1_1_mac_low.html#a4e08342dc51fd123ff9db8b4061df754">ns3::MacLow::IsCfPeriod</a></div><div class="ttdeci">virtual bool IsCfPeriod(void) const</div><div class="ttdoc">This function indicates whether Simulator::Now is in the CF period.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l02692">mac-low.cc:2692</a></div></div>
<div class="ttc" id="aclassns3_1_1_packet_html_a078fe922d976a417ab25ba2f3c2fd667"><div class="ttname"><a href="classns3_1_1_packet.html#a078fe922d976a417ab25ba2f3c2fd667">ns3::Packet::RemovePacketTag</a></div><div class="ttdeci">bool RemovePacketTag(Tag &amp;tag)</div><div class="ttdoc">Remove a packet tag.</div><div class="ttdef"><b>Definition:</b> <a href="packet_8cc_source.html#l00870">packet.cc:870</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_remote_station_manager_html_ac83638ac78e26f560a41fd0c09e3c98c"><div class="ttname"><a href="classns3_1_1_wifi_remote_station_manager.html#ac83638ac78e26f560a41fd0c09e3c98c">ns3::WifiRemoteStationManager::GetPcfSupported</a></div><div class="ttdeci">bool GetPcfSupported(void) const</div><div class="ttdoc">Return whether the device has PCF capability support enabled.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-remote-station-manager_8cc_source.html#l00292">wifi-remote-station-manager.cc:292</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_mac_header_html_a5f303b5e5e6bb7bd9f9bda3f0b20892f"><div class="ttname"><a href="classns3_1_1_wifi_mac_header.html#a5f303b5e5e6bb7bd9f9bda3f0b20892f">ns3::WifiMacHeader::GetRawDuration</a></div><div class="ttdeci">uint16_t GetRawDuration(void) const</div><div class="ttdoc">Return the raw duration from the Duration/ID field.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-mac-header_8cc_source.html#l00722">wifi-mac-header.cc:722</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_phy_html_af55a96fc67e724abd99aeaeab826187f"><div class="ttname"><a href="classns3_1_1_wifi_phy.html#af55a96fc67e724abd99aeaeab826187f">ns3::WifiPhy::GetChannelWidth</a></div><div class="ttdeci">uint16_t GetChannelWidth(void) const</div><div class="ttdef"><b>Definition:</b> <a href="wifi-phy_8cc_source.html#l01392">wifi-phy.cc:1392</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_aa668bde03d2eaedd0e4883bc02424b21"><div class="ttname"><a href="classns3_1_1_mac_low.html#aa668bde03d2eaedd0e4883bc02424b21">ns3::MacLow::AgreementValue</a></div><div class="ttdeci">std::pair&lt; BlockAckAgreement, std::list&lt; Ptr&lt; WifiMacQueueItem &gt; &gt; &gt; AgreementValue</div><div class="ttdoc">agreement value typedef</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8h_source.html#l00964">mac-low.h:964</a></div></div>
<div class="ttc" id="agroup__logging_html_ga90b90d5bad1f39cb1b64923ea94c0761"><div class="ttname"><a href="group__logging.html#ga90b90d5bad1f39cb1b64923ea94c0761">NS_LOG_FUNCTION</a></div><div class="ttdeci">#define NS_LOG_FUNCTION(parameters)</div><div class="ttdef"><b>Definition:</b> <a href="log-macros-enabled_8h_source.html#l00210">log-macros-enabled.h:209</a></div></div>
<div class="ttc" id="agroup__wifi_html_gga90f436472d19d7d7f37cbf0b8c288ff7a118b16b614e89a911b77a167632f89bf"><div class="ttname"><a href="group__wifi.html#gga90f436472d19d7d7f37cbf0b8c288ff7a118b16b614e89a911b77a167632f89bf">ns3::BASIC_BLOCK_ACK</a></div><div class="ttdeci">@ BASIC_BLOCK_ACK</div><div class="ttdef"><b>Definition:</b> <a href="block-ack-type_8h_source.html#l00032">block-ack-type.h:32</a></div></div>
<div class="ttc" id="aclassns3_1_1_ctrl_b_ack_request_header_html_ad0a904c23c0bbaf413f48e4f2b8786b6"><div class="ttname"><a href="classns3_1_1_ctrl_b_ack_request_header.html#ad0a904c23c0bbaf413f48e4f2b8786b6">ns3::CtrlBAckRequestHeader::IsExtendedCompressed</a></div><div class="ttdeci">bool IsExtendedCompressed(void) const</div><div class="ttdoc">Check if the current Ack Policy is Extended Compressed Block Ack.</div><div class="ttdef"><b>Definition:</b> <a href="ctrl-headers_8cc_source.html#l00252">ctrl-headers.cc:252</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_aa8a6853ba185a9a5c1fddc2a8e6c91ad"><div class="ttname"><a href="classns3_1_1_mac_low.html#aa8a6853ba185a9a5c1fddc2a8e6c91ad">ns3::MacLow::SetPifs</a></div><div class="ttdeci">void SetPifs(Time pifs)</div><div class="ttdoc">Set PCF Interframe Space (PIFS) of this MacLow.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00373">mac-low.cc:373</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_abdfe679a569b3b5b3262b08ccc8f5df8"><div class="ttname"><a href="classns3_1_1_mac_low.html#abdfe679a569b3b5b3262b08ccc8f5df8">ns3::MacLow::m_waitIfsEvent</a></div><div class="ttdeci">EventId m_waitIfsEvent</div><div class="ttdoc">Wait for IFS event.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8h_source.html#l00927">mac-low.h:927</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_mac_header_html_a1bfde4f8ca07ee46bd0bdc1ab6597e48"><div class="ttname"><a href="classns3_1_1_wifi_mac_header.html#a1bfde4f8ca07ee46bd0bdc1ab6597e48">ns3::WifiMacHeader::GetDuration</a></div><div class="ttdeci">Time GetDuration(void) const</div><div class="ttdoc">Return the duration from the Duration/ID field (Time object).</div><div class="ttdef"><b>Definition:</b> <a href="wifi-mac-header_8cc_source.html#l00728">wifi-mac-header.cc:728</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_mac_header_html_aca9ed3a0624958d52169c3c7ec709a77"><div class="ttname"><a href="classns3_1_1_wifi_mac_header.html#aca9ed3a0624958d52169c3c7ec709a77">ns3::WifiMacHeader::IsMoreFragments</a></div><div class="ttdeci">bool IsMoreFragments(void) const</div><div class="ttdoc">Return if the More Fragment bit is set.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-mac-header_8cc_source.html#l00758">wifi-mac-header.cc:758</a></div></div>
<div class="ttc" id="aclassns3_1_1_qos_txop_html_afe1e7c03a692364275e50664592d6278"><div class="ttname"><a href="classns3_1_1_qos_txop.html#afe1e7c03a692364275e50664592d6278">ns3::QosTxop::ScheduleBar</a></div><div class="ttdeci">void ScheduleBar(Ptr&lt; const WifiMacQueueItem &gt; bar, bool skipIfNoDataQueued=false)</div><div class="ttdef"><b>Definition:</b> <a href="qos-txop_8cc_source.html#l00167">qos-txop.cc:167</a></div></div>
<div class="ttc" id="aclassns3_1_1_block_ack_agreement_html_aad0a85e49e6e939a2d23094acf871c7b"><div class="ttname"><a href="classns3_1_1_block_ack_agreement.html#aad0a85e49e6e939a2d23094acf871c7b">ns3::BlockAckAgreement::SetTimeout</a></div><div class="ttdeci">void SetTimeout(uint16_t timeout)</div><div class="ttdoc">Set timeout.</div><div class="ttdef"><b>Definition:</b> <a href="block-ack-agreement_8cc_source.html#l00056">block-ack-agreement.cc:56</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_abacc68f094246209f7d4d69d1c75aa31"><div class="ttname"><a href="classns3_1_1_mac_low.html#abacc68f094246209f7d4d69d1c75aa31">ns3::MacLow::GetTypeId</a></div><div class="ttdeci">static TypeId GetTypeId(void)</div><div class="ttdoc">Register this type.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00149">mac-low.cc:149</a></div></div>
<div class="ttc" id="aclassns3_1_1_qos_txop_html_ab3593f49a4393ec17d161f67343d7377"><div class="ttname"><a href="classns3_1_1_qos_txop.html#ab3593f49a4393ec17d161f67343d7377">ns3::QosTxop::PeekNextFrame</a></div><div class="ttdeci">Ptr&lt; const WifiMacQueueItem &gt; PeekNextFrame(uint8_t tid=8, Mac48Address recipient=Mac48Address::GetBroadcast())</div><div class="ttdoc">Peek the next frame to transmit to the given receiver and of the given TID from the block ack manager...</div><div class="ttdef"><b>Definition:</b> <a href="qos-txop_8cc_source.html#l00253">qos-txop.cc:253</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_remote_station_manager_html_ad81efbe48611977c8cea482721fd823b"><div class="ttname"><a href="classns3_1_1_wifi_remote_station_manager.html#ad81efbe48611977c8cea482721fd823b">ns3::WifiRemoteStationManager::GetDataTxVector</a></div><div class="ttdeci">WifiTxVector GetDataTxVector(Mac48Address address, const WifiMacHeader *header, Ptr&lt; const Packet &gt; packet)</div><div class="ttdef"><b>Definition:</b> <a href="wifi-remote-station-manager_8cc_source.html#l00545">wifi-remote-station-manager.cc:545</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_ab35a898f608bb1103394e56a77c01343"><div class="ttname"><a href="classns3_1_1_mac_low.html#ab35a898f608bb1103394e56a77c01343">ns3::MacLow::DoNavStartNow</a></div><div class="ttdeci">bool DoNavStartNow(Time duration)</div><div class="ttdoc">Start NAV with the given duration.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l01630">mac-low.cc:1630</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_mac_header_html_a035659d44f96e937bedc7a99fdadfb79"><div class="ttname"><a href="classns3_1_1_wifi_mac_header.html#a035659d44f96e937bedc7a99fdadfb79">ns3::WifiMacHeader::IsCtl</a></div><div class="ttdeci">bool IsCtl(void) const</div><div class="ttdoc">Return true if the Type is Control.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-mac-header_8cc_source.html#l00540">wifi-mac-header.cc:540</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_phy_html_aa1b9ecfcc6436b8882af36500cb0a2ea"><div class="ttname"><a href="classns3_1_1_wifi_phy.html#aa1b9ecfcc6436b8882af36500cb0a2ea">ns3::WifiPhy::GetMode</a></div><div class="ttdeci">WifiMode GetMode(uint8_t mode) const</div><div class="ttdoc">The WifiPhy::GetNModes() and WifiPhy::GetMode() methods are used (e.g., by a WifiRemoteStationManager...</div><div class="ttdef"><b>Definition:</b> <a href="wifi-phy_8cc_source.html#l03982">wifi-phy.cc:3982</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_mac_header_html_a71172371f11f1cfcb3912bb03134c285"><div class="ttname"><a href="classns3_1_1_wifi_mac_header.html#a71172371f11f1cfcb3912bb03134c285">ns3::WifiMacHeader::SetType</a></div><div class="ttdeci">void SetType(WifiMacType type, bool resetToDsFromDs=true)</div><div class="ttdoc">Set Type/Subtype values with the correct values depending on the given type.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-mac-header_8cc_source.html#l00114">wifi-mac-header.cc:114</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a43f07d650bbe1f30ce0801981cfdce51"><div class="ttname"><a href="classns3_1_1_mac_low.html#a43f07d650bbe1f30ce0801981cfdce51">ns3::MacLow::ChannelAccessManagersCI</a></div><div class="ttdeci">std::vector&lt; Ptr&lt; ChannelAccessManager &gt; &gt;::const_iterator ChannelAccessManagersCI</div><div class="ttdoc">typedef for an iterator for a list of ChannelAccessManager.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8h_source.html#l00911">mac-low.h:911</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a1c7f45f071f9e5eb97764f64e5cdaf1b"><div class="ttname"><a href="classns3_1_1_mac_low.html#a1c7f45f071f9e5eb97764f64e5cdaf1b">ns3::MacLow::m_stationManager</a></div><div class="ttdeci">Ptr&lt; WifiRemoteStationManager &gt; m_stationManager</div><div class="ttdoc">Pointer to WifiRemoteStationManager (rate control)</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8h_source.html#l00895">mac-low.h:895</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_phy_html_a6bc056d30b3942be3cb0459096385e56"><div class="ttname"><a href="classns3_1_1_wifi_phy.html#a6bc056d30b3942be3cb0459096385e56">ns3::WifiPhy::GetGuardInterval</a></div><div class="ttdeci">Time GetGuardInterval(void) const</div><div class="ttdef"><b>Definition:</b> <a href="wifi-phy_8cc_source.html#l00700">wifi-phy.cc:700</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_remote_station_manager_html_a68dc3eb191060d3f98f265b9013d7e4a"><div class="ttname"><a href="classns3_1_1_wifi_remote_station_manager.html#a68dc3eb191060d3f98f265b9013d7e4a">ns3::WifiRemoteStationManager::GetRifsPermitted</a></div><div class="ttdeci">bool GetRifsPermitted(void) const</div><div class="ttdoc">Return whether the device can use RIFS.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-remote-station-manager_8cc_source.html#l00244">wifi-remote-station-manager.cc:244</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_phy_html_a8371199e86407919480c847d16462240"><div class="ttname"><a href="classns3_1_1_wifi_phy.html#a8371199e86407919480c847d16462240">ns3::WifiPhy::GetShortGuardInterval</a></div><div class="ttdeci">bool GetShortGuardInterval(void) const</div><div class="ttdoc">Return whether short guard interval is supported.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-phy_8cc_source.html#l00668">wifi-phy.cc:668</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_ab45f8207ce750633a91b40aa3227f436"><div class="ttname"><a href="classns3_1_1_mac_low.html#ab45f8207ce750633a91b40aa3227f436">ns3::MacLow::m_blockAckTimeoutEvent</a></div><div class="ttdeci">EventId m_blockAckTimeoutEvent</div><div class="ttdoc">BlockAck timeout event.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8h_source.html#l00922">mac-low.h:922</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_transmission_parameters_html_a45d8fd5c62e59a4a41c77aee3fe668f7"><div class="ttname"><a href="classns3_1_1_mac_low_transmission_parameters.html#a45d8fd5c62e59a4a41c77aee3fe668f7">ns3::MacLowTransmissionParameters::MustSendRts</a></div><div class="ttdeci">bool MustSendRts(void) const</div><div class="ttdef"><b>Definition:</b> <a href="mac-low-transmission-parameters_8cc_source.html#l00226">mac-low-transmission-parameters.cc:226</a></div></div>
<div class="ttc" id="anamespacens3_1_1_traced_value_callback_html_ac61bd56f818d89847bff2c5923ae3fcd"><div class="ttname"><a href="namespacens3_1_1_traced_value_callback.html#ac61bd56f818d89847bff2c5923ae3fcd">ns3::TracedValueCallback::Time</a></div><div class="ttdeci">void(* Time)(Time oldValue, Time newValue)</div><div class="ttdoc">TracedValue callback signature for Time.</div><div class="ttdef"><b>Definition:</b> <a href="nstime_8h_source.html#l00751">nstime.h:751</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_transmission_parameters_html_af58f30e2df98d7dda69086436a03f5b2"><div class="ttname"><a href="classns3_1_1_mac_low_transmission_parameters.html#af58f30e2df98d7dda69086436a03f5b2">ns3::MacLowTransmissionParameters::MustWaitNormalAck</a></div><div class="ttdeci">bool MustWaitNormalAck(void) const</div><div class="ttdef"><b>Definition:</b> <a href="mac-low-transmission-parameters_8cc_source.html#l00132">mac-low-transmission-parameters.cc:132</a></div></div>
<div class="ttc" id="aampdu-subframe-header_8h_html"><div class="ttname"><a href="ampdu-subframe-header_8h.html">ampdu-subframe-header.h</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a76eff59c8a4983b9830edf3c6ef5e76e"><div class="ttname"><a href="classns3_1_1_mac_low.html#a76eff59c8a4983b9830edf3c6ef5e76e">ns3::MacLow::m_slotTime</a></div><div class="ttdeci">Time m_slotTime</div><div class="ttdoc">Slot duration.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8h_source.html#l00940">mac-low.h:940</a></div></div>
<div class="ttc" id="astructns3_1_1_mac_low_1_1_cf_ack_info_html_a8c676c7b0cb72efd7f2a1cfda9c65d01"><div class="ttname"><a href="structns3_1_1_mac_low_1_1_cf_ack_info.html#a8c676c7b0cb72efd7f2a1cfda9c65d01">ns3::MacLow::CfAckInfo::expectCfAck</a></div><div class="ttdeci">bool expectCfAck</div><div class="ttdoc">Flag used for PCF to indicate whether a CF-Ack should be expected.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8h_source.html#l00904">mac-low.h:904</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_remote_station_manager_html_a2425bdf15c98334f1714c75111725fa3"><div class="ttname"><a href="classns3_1_1_wifi_remote_station_manager.html#a2425bdf15c98334f1714c75111725fa3">ns3::WifiRemoteStationManager::ReportRtsOk</a></div><div class="ttdeci">void ReportRtsOk(Mac48Address address, const WifiMacHeader *header, double ctsSnr, WifiMode ctsMode, double rtsSnr)</div><div class="ttdoc">Should be invoked whenever we receive the CTS associated to an RTS we just sent.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-remote-station-manager_8cc_source.html#l00714">wifi-remote-station-manager.cc:714</a></div></div>
<div class="ttc" id="aclassns3_1_1_ctrl_b_ack_request_header_html_ab7699f44e6fd48f1795a1671cd5ef994"><div class="ttname"><a href="classns3_1_1_ctrl_b_ack_request_header.html#ab7699f44e6fd48f1795a1671cd5ef994">ns3::CtrlBAckRequestHeader::GetStartingSequenceControl</a></div><div class="ttdeci">uint16_t GetStartingSequenceControl(void) const</div><div class="ttdoc">Return the starting sequence control.</div><div class="ttdef"><b>Definition:</b> <a href="ctrl-headers_8cc_source.html#l00179">ctrl-headers.cc:179</a></div></div>
<div class="ttc" id="aclassns3_1_1_txop_html_a1b21acbf674cd1a9f56c0b8d79454d26"><div class="ttname"><a href="classns3_1_1_txop.html#a1b21acbf674cd1a9f56c0b8d79454d26">ns3::Txop::GotCfEnd</a></div><div class="ttdeci">void GotCfEnd(void)</div><div class="ttdoc">Event handler when a CF-END frame is received.</div><div class="ttdef"><b>Definition:</b> <a href="txop_8cc_source.html#l00697">txop.cc:697</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_mac_header_html_a977cd5a09062bfc3660a23acdebd75ec"><div class="ttname"><a href="classns3_1_1_wifi_mac_header.html#a977cd5a09062bfc3660a23acdebd75ec">ns3::WifiMacHeader::SetDsNotTo</a></div><div class="ttdeci">void SetDsNotTo(void)</div><div class="ttdoc">Un-set the To DS bit in the Frame Control field.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-mac-header_8cc_source.html#l00084">wifi-mac-header.cc:84</a></div></div>
<div class="ttc" id="anamespacens3_html_a4a34276daa9aaa45fe610d9373a41b33"><div class="ttname"><a href="namespacens3.html#a4a34276daa9aaa45fe610d9373a41b33">ns3::IsAllowedControlAnswerModulationClass</a></div><div class="ttdeci">bool IsAllowedControlAnswerModulationClass(WifiModulationClass modClassReq, WifiModulationClass modClassAnswer)</div><div class="ttdoc">Return whether the modulation class of the selected mode for the control answer frame is allowed.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-utils_8cc_source.html#l00158">wifi-utils.cc:158</a></div></div>
<div class="ttc" id="aclassns3_1_1_object_base_html_a1be45f6fd561e75dcac9dfa81b2b81e4"><div class="ttname"><a href="classns3_1_1_object_base.html#a1be45f6fd561e75dcac9dfa81b2b81e4">ns3::ObjectBase::TraceConnectWithoutContext</a></div><div class="ttdeci">bool TraceConnectWithoutContext(std::string name, const CallbackBase &amp;cb)</div><div class="ttdoc">Connect a TraceSource to a Callback without a context.</div><div class="ttdef"><b>Definition:</b> <a href="object-base_8cc_source.html#l00293">object-base.cc:293</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_mac_header_html_a8f7eb39875a921d2a1b915836f6765b2"><div class="ttname"><a href="classns3_1_1_wifi_mac_header.html#a8f7eb39875a921d2a1b915836f6765b2">ns3::WifiMacHeader::IsCfPoll</a></div><div class="ttdeci">bool IsCfPoll(void) const</div><div class="ttdoc">Return true if the Type/Subtype is one of the possible CF-Poll headers.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-mac-header_8cc_source.html#l00552">wifi-mac-header.cc:552</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_af2b46b598171aa8e300f1265fdb8b1ca"><div class="ttname"><a href="classns3_1_1_mac_low.html#af2b46b598171aa8e300f1265fdb8b1ca">ns3::MacLow::GetBlockAckRequestDuration</a></div><div class="ttdeci">Time GetBlockAckRequestDuration(WifiTxVector blockAckReqTxVector, BlockAckType type) const</div><div class="ttdoc">Return the time required to transmit the BlockAckRequest to the specified address given the TXVECTOR ...</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l01255">mac-low.cc:1255</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a7459caeb565ede46bccdd3e12f709414"><div class="ttname"><a href="classns3_1_1_mac_low.html#a7459caeb565ede46bccdd3e12f709414">ns3::MacLow::SetMac</a></div><div class="ttdeci">void SetMac(const Ptr&lt; WifiMac &gt; mac)</div><div class="ttdoc">Set up WifiMac associated with this MacLow.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00287">mac-low.cc:287</a></div></div>
<div class="ttc" id="aclassns3_1_1_txop_html_a1f02217a9b2d55daad363b64e3d88ae1"><div class="ttname"><a href="classns3_1_1_txop.html#a1f02217a9b2d55daad363b64e3d88ae1">ns3::Txop::MissedCfPollResponse</a></div><div class="ttdeci">void MissedCfPollResponse(bool expectedCfAck)</div><div class="ttdoc">Event handler when a response to a CF-POLL frame is missed.</div><div class="ttdef"><b>Definition:</b> <a href="txop_8cc_source.html#l00711">txop.cc:711</a></div></div>
<div class="ttc" id="aclassns3_1_1_txop_html_adbf75c84735f6faff692d9e63e3c2e5d"><div class="ttname"><a href="classns3_1_1_txop.html#adbf75c84735f6faff692d9e63e3c2e5d">ns3::Txop::MissedBlockAck</a></div><div class="ttdeci">virtual void MissedBlockAck(uint8_t nMpdus)</div><div class="ttdoc">Event handler when a BlockAck timeout has occurred.</div><div class="ttdef"><b>Definition:</b> <a href="txop_8cc_source.html#l00878">txop.cc:878</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_remote_station_manager_html_ab239018079ee424c7dfe9a81b4abc3b0"><div class="ttname"><a href="classns3_1_1_wifi_remote_station_manager.html#ab239018079ee424c7dfe9a81b4abc3b0">ns3::WifiRemoteStationManager::GetBasicMode</a></div><div class="ttdeci">WifiMode GetBasicMode(uint8_t i) const</div><div class="ttdoc">Return a basic mode from the set of basic modes.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-remote-station-manager_8cc_source.html#l01361">wifi-remote-station-manager.cc:1361</a></div></div>
<div class="ttc" id="anamespacens3_html_a9318472db39b35b2092de5c721e6ab0aaabd6e2bca4aa9279211a5e7d0c5c5afa"><div class="ttname"><a href="namespacens3.html#a9318472db39b35b2092de5c721e6ab0aaabd6e2bca4aa9279211a5e7d0c5c5afa">ns3::WIFI_MAC_CTL_BACKRESP</a></div><div class="ttdeci">@ WIFI_MAC_CTL_BACKRESP</div><div class="ttdef"><b>Definition:</b> <a href="wifi-mac-header_8h_source.html#l00043">wifi-mac-header.h:43</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_mode_html_ad90f36e733ceaf8c5771cfbda437e14f"><div class="ttname"><a href="classns3_1_1_wifi_mode.html#ad90f36e733ceaf8c5771cfbda437e14f">ns3::WifiMode::GetDataRate</a></div><div class="ttdeci">uint64_t GetDataRate(uint16_t channelWidth, uint16_t guardInterval, uint8_t nss) const</div><div class="ttdef"><b>Definition:</b> <a href="wifi-mode_8cc_source.html#l00119">wifi-mode.cc:119</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a84b96c0cc6f32fca28576ec4df6a0853"><div class="ttname"><a href="classns3_1_1_mac_low.html#a84b96c0cc6f32fca28576ec4df6a0853">ns3::MacLow::SendBlockAckAfterBlockAckRequest</a></div><div class="ttdeci">void SendBlockAckAfterBlockAckRequest(const CtrlBAckRequestHeader reqHdr, Mac48Address originator, Time duration, WifiMode blockAckReqTxMode, double rxSnr)</div><div class="ttdoc">Invoked after that a BlockAckRequest has been received.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l02497">mac-low.cc:2497</a></div></div>
<div class="ttc" id="aclassns3_1_1_ctrl_b_ack_response_header_html_aab1ddbfd3cf08b139678f14f19a497b0"><div class="ttname"><a href="classns3_1_1_ctrl_b_ack_response_header.html#aab1ddbfd3cf08b139678f14f19a497b0">ns3::CtrlBAckResponseHeader::GetType</a></div><div class="ttdeci">BlockAckType GetType(void) const</div><div class="ttdoc">Return the block ack type ID.</div><div class="ttdef"><b>Definition:</b> <a href="ctrl-headers_8cc_source.html#l00388">ctrl-headers.cc:388</a></div></div>
<div class="ttc" id="aclassns3_1_1_ctrl_b_ack_request_header_html_a8ca10bacb9cc50ae0f849044769ca88d"><div class="ttname"><a href="classns3_1_1_ctrl_b_ack_request_header.html#a8ca10bacb9cc50ae0f849044769ca88d">ns3::CtrlBAckRequestHeader::GetStartingSequence</a></div><div class="ttdeci">uint16_t GetStartingSequence(void) const</div><div class="ttdoc">Return the starting sequence number.</div><div class="ttdef"><b>Definition:</b> <a href="ctrl-headers_8cc_source.html#l00234">ctrl-headers.cc:234</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_ae0b0abf84b6078031fabd4e85e1cb1bf"><div class="ttname"><a href="classns3_1_1_mac_low.html#ae0b0abf84b6078031fabd4e85e1cb1bf">ns3::MacLow::BlockAckCachesI</a></div><div class="ttdeci">std::map&lt; AgreementKey, BlockAckCache &gt;::iterator BlockAckCachesI</div><div class="ttdoc">block ack caches iterator typedef</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8h_source.html#l00970">mac-low.h:970</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a754751ba4152c9337611a5f015045a44"><div class="ttname"><a href="classns3_1_1_mac_low.html#a754751ba4152c9337611a5f015045a44">ns3::MacLow::m_edca</a></div><div class="ttdeci">QueueEdcas m_edca</div><div class="ttdoc">EDCA queues.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8h_source.html#l00976">mac-low.h:976</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a602bb522f4cddf49eb8c577884c3fe31"><div class="ttname"><a href="classns3_1_1_mac_low.html#a602bb522f4cddf49eb8c577884c3fe31">ns3::MacLow::SetAckTimeout</a></div><div class="ttdeci">void SetAckTimeout(Time ackTimeout)</div><div class="ttdoc">Set Ack timeout of this MacLow.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00331">mac-low.cc:331</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_ade35698702b1353f2eff6b97653f8b0e"><div class="ttname"><a href="classns3_1_1_mac_low.html#ade35698702b1353f2eff6b97653f8b0e">ns3::MacLow::m_sendCtsEvent</a></div><div class="ttdeci">EventId m_sendCtsEvent</div><div class="ttdoc">Event to send CTS.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8h_source.html#l00924">mac-low.h:924</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_remote_station_manager_html_ac2604b3517d442f39cc5120af49b989a"><div class="ttname"><a href="classns3_1_1_wifi_remote_station_manager.html#ac2604b3517d442f39cc5120af49b989a">ns3::WifiRemoteStationManager::ReportRxOk</a></div><div class="ttdeci">void ReportRxOk(Mac48Address address, double rxSnr, WifiMode txMode)</div><div class="ttdef"><b>Definition:</b> <a href="wifi-remote-station-manager_8cc_source.html#l00785">wifi-remote-station-manager.cc:785</a></div></div>
<div class="ttc" id="anamespacens3_html_a9318472db39b35b2092de5c721e6ab0aa43ed89d21958665f84711a6b6d0fb75f"><div class="ttname"><a href="namespacens3.html#a9318472db39b35b2092de5c721e6ab0aa43ed89d21958665f84711a6b6d0fb75f">ns3::WIFI_MAC_CTL_RTS</a></div><div class="ttdeci">@ WIFI_MAC_CTL_RTS</div><div class="ttdef"><b>Definition:</b> <a href="wifi-mac-header_8h_source.html#l00039">wifi-mac-header.h:39</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_af852f7a28569d2d8405052e4b4e54251"><div class="ttname"><a href="classns3_1_1_mac_low.html#af852f7a28569d2d8405052e4b4e54251">ns3::MacLow::CfPollTimeout</a></div><div class="ttdeci">void CfPollTimeout(void)</div><div class="ttdoc">Event handler when CF-Poll timeout occurs.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l01750">mac-low.cc:1750</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_mac_header_html_a5d32ca3e3a34f1185df86927d4346430"><div class="ttname"><a href="classns3_1_1_wifi_mac_header.html#a5d32ca3e3a34f1185df86927d4346430">ns3::WifiMacHeader::GetAddr2</a></div><div class="ttdeci">Mac48Address GetAddr2(void) const</div><div class="ttdoc">Return the address in the Address 2 field.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-mac-header_8cc_source.html#l00401">wifi-mac-header.cc:401</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a105b29449995514e14ec554dfa499dbd"><div class="ttname"><a href="classns3_1_1_mac_low.html#a105b29449995514e14ec554dfa499dbd">ns3::MacLow::SetSifs</a></div><div class="ttdeci">void SetSifs(Time sifs)</div><div class="ttdoc">Set Short Interframe Space (SIFS) of this MacLow.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00361">mac-low.cc:361</a></div></div>
<div class="ttc" id="anamespacens3_html_a8f21e8e26a4717e746be854a41df7b0d"><div class="ttname"><a href="namespacens3.html#a8f21e8e26a4717e746be854a41df7b0d">ns3::GetCtsSize</a></div><div class="ttdeci">uint32_t GetCtsSize(void)</div><div class="ttdoc">Return the total CTS size (including FCS trailer).</div><div class="ttdef"><b>Definition:</b> <a href="wifi-utils_8cc_source.html#l00217">wifi-utils.cc:217</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_ae772476fce0b730d2e5949bfa0287965"><div class="ttname"><a href="classns3_1_1_mac_low.html#ae772476fce0b730d2e5949bfa0287965">ns3::MacLow::NotifySleepNow</a></div><div class="ttdeci">void NotifySleepNow(void)</div><div class="ttdoc">This method is typically invoked by the PhyMacLowListener to notify the MAC layer that the device has...</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00793">mac-low.cc:793</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a4832a50a7913887f62095d99bfd945fc"><div class="ttname"><a href="classns3_1_1_mac_low.html#a4832a50a7913887f62095d99bfd945fc">ns3::MacLow::SetBeaconInterval</a></div><div class="ttdeci">void SetBeaconInterval(Time interval)</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00385">mac-low.cc:385</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a227f7cf96af4e059f660cd6668869e69"><div class="ttname"><a href="classns3_1_1_mac_low.html#a227f7cf96af4e059f660cd6668869e69">ns3::MacLow::GetBlockAckTxVector</a></div><div class="ttdeci">WifiTxVector GetBlockAckTxVector(Mac48Address to, WifiMode dataTxMode) const</div><div class="ttdoc">Return a TXVECTOR for the BlockAck frame given the destination and the mode of the Data used by the s...</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l01491">mac-low.cc:1491</a></div></div>
<div class="ttc" id="aclassns3_1_1_txop_html_a8ddcc6dfb248f1501d60146277686c3c"><div class="ttname"><a href="classns3_1_1_txop.html#a8ddcc6dfb248f1501d60146277686c3c">ns3::Txop::TerminateTxop</a></div><div class="ttdeci">virtual void TerminateTxop(void)</div><div class="ttdoc">Update backoff and restart access if needed.</div><div class="ttdef"><b>Definition:</b> <a href="txop_8cc_source.html#l00891">txop.cc:891</a></div></div>
<div class="ttc" id="awifi-mac-trailer_8h_html"><div class="ttname"><a href="wifi-mac-trailer_8h.html">wifi-mac-trailer.h</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a53482df1a7e6f136cfa8ce50fa10adc2"><div class="ttname"><a href="classns3_1_1_mac_low.html#a53482df1a7e6f136cfa8ce50fa10adc2">ns3::MacLow::m_bAckAgreements</a></div><div class="ttdeci">Agreements m_bAckAgreements</div><div class="ttdoc">block ack agreements</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8h_source.html#l00972">mac-low.h:972</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a4376c10e5dc680bcdb50628540c8b412"><div class="ttname"><a href="classns3_1_1_mac_low.html#a4376c10e5dc680bcdb50628540c8b412">ns3::MacLow::m_normalAckTimeoutEvent</a></div><div class="ttdeci">EventId m_normalAckTimeoutEvent</div><div class="ttdoc">Normal Ack timeout event.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8h_source.html#l00921">mac-low.h:921</a></div></div>
<div class="ttc" id="anamespacens3_html_a9318472db39b35b2092de5c721e6ab0aabc959e2ce5603c048b6df4c9eef31827"><div class="ttname"><a href="namespacens3.html#a9318472db39b35b2092de5c721e6ab0aabc959e2ce5603c048b6df4c9eef31827">ns3::WIFI_MAC_DATA_NULL_CFACK</a></div><div class="ttdeci">@ WIFI_MAC_DATA_NULL_CFACK</div><div class="ttdef"><b>Definition:</b> <a href="wifi-mac-header_8h_source.html#l00066">wifi-mac-header.h:66</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_tx_vector_html_afa5117513e1a7bfa717c3d7556192525"><div class="ttname"><a href="classns3_1_1_wifi_tx_vector.html#afa5117513e1a7bfa717c3d7556192525">ns3::WifiTxVector::SetPreambleType</a></div><div class="ttdeci">void SetPreambleType(WifiPreamble preamble)</div><div class="ttdoc">Sets the preamble type.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-tx-vector_8cc_source.html#l00150">wifi-tx-vector.cc:150</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_aa2d5acb9a87a417cfa46a4e8b4a8ed01"><div class="ttname"><a href="classns3_1_1_mac_low.html#aa2d5acb9a87a417cfa46a4e8b4a8ed01">ns3::MacLow::CalculateOverheadTxTime</a></div><div class="ttdeci">Time CalculateOverheadTxTime(Ptr&lt; const WifiMacQueueItem &gt; item, const MacLowTransmissionParameters &amp;params) const</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l01541">mac-low.cc:1541</a></div></div>
<div class="ttc" id="anamespacens3_html_a9318472db39b35b2092de5c721e6ab0aab7872ae6681b4b39e265f6ab85d3e9ca"><div class="ttname"><a href="namespacens3.html#a9318472db39b35b2092de5c721e6ab0aab7872ae6681b4b39e265f6ab85d3e9ca">ns3::WIFI_MAC_DATA_CFPOLL</a></div><div class="ttdeci">@ WIFI_MAC_DATA_CFPOLL</div><div class="ttdef"><b>Definition:</b> <a href="wifi-mac-header_8h_source.html#l00063">wifi-mac-header.h:63</a></div></div>
<div class="ttc" id="anamespacesample-rng-plot_html_aeb5ee5c431e338ef39b7ac5431242e1d"><div class="ttname"><a href="namespacesample-rng-plot.html#aeb5ee5c431e338ef39b7ac5431242e1d">sample-rng-plot.n</a></div><div class="ttdeci">n</div><div class="ttdef"><b>Definition:</b> <a href="sample-rng-plot_8py_source.html#l00037">sample-rng-plot.py:37</a></div></div>
<div class="ttc" id="aclassns3_1_1_ctrl_b_ack_request_header_html_a884fbe9f6ba028fb3dde88fe31ba6bab"><div class="ttname"><a href="classns3_1_1_ctrl_b_ack_request_header.html#a884fbe9f6ba028fb3dde88fe31ba6bab">ns3::CtrlBAckRequestHeader::GetTidInfo</a></div><div class="ttdeci">uint8_t GetTidInfo(void) const</div><div class="ttdoc">Return the Traffic ID (TID).</div><div class="ttdef"><b>Definition:</b> <a href="ctrl-headers_8cc_source.html#l00227">ctrl-headers.cc:227</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a4d730ac2acea66982b4d257e06e22387"><div class="ttname"><a href="classns3_1_1_mac_low.html#a4d730ac2acea66982b4d257e06e22387">ns3::MacLow::NormalAckTimeout</a></div><div class="ttdeci">void NormalAckTimeout(void)</div><div class="ttdoc">Event handler when normal Ack timeout occurs.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l01790">mac-low.cc:1790</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_remote_station_manager_html_abf94bd5d22ad632148777a6c7e39bae0"><div class="ttname"><a href="classns3_1_1_wifi_remote_station_manager.html#abf94bd5d22ad632148777a6c7e39bae0">ns3::WifiRemoteStationManager::GetHeSupported</a></div><div class="ttdeci">bool GetHeSupported(void) const</div><div class="ttdoc">Return whether the device has HE capability support enabled.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-remote-station-manager_8cc_source.html#l00274">wifi-remote-station-manager.cc:274</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_ac5f2b06b6151c99816c66b7bf946a4d8"><div class="ttname"><a href="classns3_1_1_mac_low.html#ac5f2b06b6151c99816c66b7bf946a4d8">ns3::MacLow::m_rxCallback</a></div><div class="ttdeci">MacLowRxCallback m_rxCallback</div><div class="ttdoc">Callback to pass packet up.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8h_source.html#l00896">mac-low.h:896</a></div></div>
<div class="ttc" id="anamespacethird_html_afd1150b3dae0722a64278ec9f040f321"><div class="ttname"><a href="namespacethird.html#afd1150b3dae0722a64278ec9f040f321">third.phy</a></div><div class="ttdeci">phy</div><div class="ttdef"><b>Definition:</b> <a href="third_8py_source.html#l00093">third.py:93</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_transmission_parameters_html_a6944fa0c62fd004c94b845ba1b474b87"><div class="ttname"><a href="classns3_1_1_mac_low_transmission_parameters.html#a6944fa0c62fd004c94b845ba1b474b87">ns3::MacLowTransmissionParameters::DisableNextData</a></div><div class="ttdeci">void DisableNextData(void)</div><div class="ttdoc">Do not attempt to send data burst after current transmission.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low-transmission-parameters_8cc_source.html#l00042">mac-low-transmission-parameters.cc:42</a></div></div>
<div class="ttc" id="aclassns3_1_1_event_id_html_acc25141054209b1a286a5471a51bd0c0"><div class="ttname"><a href="classns3_1_1_event_id.html#acc25141054209b1a286a5471a51bd0c0">ns3::EventId::IsExpired</a></div><div class="ttdeci">bool IsExpired(void) const</div><div class="ttdoc">This method is syntactic sugar for the ns3::Simulator::IsExpired method.</div><div class="ttdef"><b>Definition:</b> <a href="event-id_8cc_source.html#l00059">event-id.cc:59</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_aa477261c5209c13c66af9e2ae78b07e5"><div class="ttname"><a href="classns3_1_1_mac_low.html#aa477261c5209c13c66af9e2ae78b07e5">ns3::MacLow::StartTransmission</a></div><div class="ttdeci">virtual void StartTransmission(Ptr&lt; WifiMacQueueItem &gt; mpdu, MacLowTransmissionParameters parameters, Ptr&lt; Txop &gt; txop)</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00493">mac-low.cc:493</a></div></div>
<div class="ttc" id="aclassns3_1_1_ctrl_b_ack_response_header_html"><div class="ttname"><a href="classns3_1_1_ctrl_b_ack_response_header.html">ns3::CtrlBAckResponseHeader</a></div><div class="ttdoc">Headers for BlockAck response.</div><div class="ttdef"><b>Definition:</b> <a href="ctrl-headers_8h_source.html#l00193">ctrl-headers.h:194</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_ac9e686b5f1c0ed26829b8eff1f8e60d2"><div class="ttname"><a href="classns3_1_1_mac_low.html#ac9e686b5f1c0ed26829b8eff1f8e60d2">ns3::MacLow::~MacLow</a></div><div class="ttdeci">virtual ~MacLow()</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00142">mac-low.cc:142</a></div></div>
<div class="ttc" id="aclassns3_1_1_block_ack_agreement_html_a78071664adb9207a45124d882b1860c8"><div class="ttname"><a href="classns3_1_1_block_ack_agreement.html#a78071664adb9207a45124d882b1860c8">ns3::BlockAckAgreement::SetBufferSize</a></div><div class="ttdeci">void SetBufferSize(uint16_t bufferSize)</div><div class="ttdoc">Set buffer size.</div><div class="ttdef"><b>Definition:</b> <a href="block-ack-agreement_8cc_source.html#l00047">block-ack-agreement.cc:47</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_transmission_parameters_html_a2832d2778353fbdd8cb92fbe3ea9da9d"><div class="ttname"><a href="classns3_1_1_mac_low_transmission_parameters.html#a2832d2778353fbdd8cb92fbe3ea9da9d">ns3::MacLowTransmissionParameters::HasNextPacket</a></div><div class="ttdeci">bool HasNextPacket(void) const</div><div class="ttdef"><b>Definition:</b> <a href="mac-low-transmission-parameters_8cc_source.html#l00232">mac-low-transmission-parameters.cc:232</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_aebd46ed9f77a2e2cc6a10d5832046f11"><div class="ttname"><a href="classns3_1_1_mac_low.html#aebd46ed9f77a2e2cc6a10d5832046f11">ns3::MacLow::GetControlAnswerMode</a></div><div class="ttdeci">WifiMode GetControlAnswerMode(WifiMode reqMode) const</div><div class="ttdoc">Get control answer mode function.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l01317">mac-low.cc:1317</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_remote_station_manager_html_ad0838e2b79a382cf65f68b7cde8ec608"><div class="ttname"><a href="classns3_1_1_wifi_remote_station_manager.html#ad0838e2b79a382cf65f68b7cde8ec608">ns3::WifiRemoteStationManager::UseGreenfieldForDestination</a></div><div class="ttdeci">bool UseGreenfieldForDestination(Mac48Address dest) const</div><div class="ttdef"><b>Definition:</b> <a href="wifi-remote-station-manager_8cc_source.html#l01725">wifi-remote-station-manager.cc:1725</a></div></div>
<div class="ttc" id="aclassns3_1_1_txop_html_a3a084623edb5819992460107e97f54da"><div class="ttname"><a href="classns3_1_1_txop.html#a3a084623edb5819992460107e97f54da">ns3::Txop::GotBlockAck</a></div><div class="ttdeci">virtual void GotBlockAck(const CtrlBAckResponseHeader *blockAck, Mac48Address recipient, double rxSnr, WifiMode txMode, double dataSnr)</div><div class="ttdoc">Event handler when a BlockAck is received.</div><div class="ttdef"><b>Definition:</b> <a href="txop_8cc_source.html#l00872">txop.cc:872</a></div></div>
<div class="ttc" id="aclassns3_1_1_wifi_mac_header_html_a08a4aa07029641c46820044c7e51bf2e"><div class="ttname"><a href="classns3_1_1_wifi_mac_header.html#a08a4aa07029641c46820044c7e51bf2e">ns3::WifiMacHeader::IsQosAck</a></div><div class="ttdeci">bool IsQosAck(void) const</div><div class="ttdoc">Return if the QoS Ack policy is Normal Ack.</div><div class="ttdef"><b>Definition:</b> <a href="wifi-mac-header_8cc_source.html#l00778">wifi-mac-header.cc:778</a></div></div>
<div class="ttc" id="aclassns3_1_1_txop_html_a21fbf608df4c1b90a2004e916c0665e5"><div class="ttname"><a href="classns3_1_1_txop.html#a21fbf608df4c1b90a2004e916c0665e5">ns3::Txop::EndTxNoAck</a></div><div class="ttdeci">virtual void EndTxNoAck(void)</div><div class="ttdoc">Event handler when a transmission that does not require an Ack has completed.</div><div class="ttdef"><b>Definition:</b> <a href="txop_8cc_source.html#l00766">txop.cc:766</a></div></div>
<div class="ttc" id="aclassns3_1_1_mac_low_html_a4158eb64f54ae53935769cdf0b12aafb"><div class="ttname"><a href="classns3_1_1_mac_low.html#a4158eb64f54ae53935769cdf0b12aafb">ns3::MacLow::ResetPhy</a></div><div class="ttdeci">void ResetPhy(void)</div><div class="ttdoc">Remove WifiPhy associated with this MacLow.</div><div class="ttdef"><b>Definition:</b> <a href="mac-low_8cc_source.html#l00269">mac-low.cc:269</a></div></div>
<div class="ttc" id="agroup__makenullcallback_html_ga7e3cd6816f63ea9112c04b0086c2c65a"><div class="ttname"><a href="group__makenullcallback.html#ga7e3cd6816f63ea9112c04b0086c2c65a">ns3::MakeNullCallback</a></div><div class="ttdeci">Callback&lt; R &gt; MakeNullCallback(void)</div><div class="ttdef"><b>Definition:</b> <a href="callback_8h_source.html#l01786">callback.h:1786</a></div></div>
<!-- ns-3 doxygen header, based on
     HTML header for doxygen 1.8.3.1
     Verified compatible with 1.8.6
-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_9bb89822448514d94fe3e213d3ac83be.html">wifi</a></li><li class="navelem"><a class="el" href="dir_a444d77082d8b776da6eccf888b54154.html">model</a></li><li class="navelem"><a class="el" href="mac-low_8cc.html">mac-low.cc</a></li>
    <li class="footer">Generated on Wed Apr 29 2020 17:43:14 for ns-3 by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.19 </li>
  </ul>
</div>
</body>
</html>
